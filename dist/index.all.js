var mi=Object.create;var Ar=Object.defineProperty;var Ri=Object.getOwnPropertyDescriptor;var ki=Object.getOwnPropertyNames;var Ai=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty;var Sr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(a,t)=>(typeof require<"u"?require:a)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var H=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports);var Ci=(e,a,t,r)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of ki(a))!Si.call(e,i)&&i!==t&&Ar(e,i,{get:()=>a[i],enumerable:!(r=Ri(a,i))||r.enumerable});return e};var It=(e,a,t)=>(t=e!=null?mi(Ai(e)):{},Ci(a||!e||!e.__esModule?Ar(t,"default",{value:e,enumerable:!0}):t,e));var Q=H(B=>{"use strict";var Ei=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Ti(e,a){return Object.prototype.hasOwnProperty.call(e,a)}B.assign=function(e){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var t=a.shift();if(!!t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var r in t)Ti(t,r)&&(e[r]=t[r])}}return e};B.shrinkBuf=function(e,a){return e.length===a?e:e.subarray?e.subarray(0,a):(e.length=a,e)};var Ii={arraySet:function(e,a,t,r,i){if(a.subarray&&e.subarray){e.set(a.subarray(t,t+r),i);return}for(var n=0;n<r;n++)e[i+n]=a[t+n]},flattenChunks:function(e){var a,t,r,i,n,o;for(r=0,a=0,t=e.length;a<t;a++)r+=e[a].length;for(o=new Uint8Array(r),i=0,a=0,t=e.length;a<t;a++)n=e[a],o.set(n,i),i+=n.length;return o}},Di={arraySet:function(e,a,t,r,i){for(var n=0;n<r;n++)e[i+n]=a[t+n]},flattenChunks:function(e){return[].concat.apply([],e)}};B.setTyped=function(e){e?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,Ii)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,Di))};B.setTyped(Ei)});var Yr=H(Ce=>{"use strict";var zi=Q(),Hi=4,Cr=0,Er=1,Oi=2;function Se(e){for(var a=e.length;--a>=0;)e[a]=0}var Bi=0,Or=1,Ui=2,Li=3,Fi=258,Lt=29,Pe=256,Le=Pe+1+Lt,Ae=30,Ft=19,Br=2*Le+1,_e=15,Dt=16,Ni=7,Nt=256,Ur=16,Lr=17,Fr=18,Bt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Wi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Nr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Pi=512,J=new Array((Le+2)*2);Se(J);var Ue=new Array(Ae*2);Se(Ue);var Fe=new Array(Pi);Se(Fe);var Ne=new Array(Fi-Li+1);Se(Ne);var Wt=new Array(Lt);Se(Wt);var st=new Array(Ae);Se(st);function zt(e,a,t,r,i){this.static_tree=e,this.extra_bits=a,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Wr,Pr,Zr;function Ht(e,a){this.dyn_tree=e,this.max_code=0,this.stat_desc=a}function Mr(e){return e<256?Fe[e]:Fe[256+(e>>>7)]}function We(e,a){e.pending_buf[e.pending++]=a&255,e.pending_buf[e.pending++]=a>>>8&255}function F(e,a,t){e.bi_valid>Dt-t?(e.bi_buf|=a<<e.bi_valid&65535,We(e,e.bi_buf),e.bi_buf=a>>Dt-e.bi_valid,e.bi_valid+=t-Dt):(e.bi_buf|=a<<e.bi_valid&65535,e.bi_valid+=t)}function j(e,a,t){F(e,t[a*2],t[a*2+1])}function qr(e,a){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--a>0);return t>>>1}function Zi(e){e.bi_valid===16?(We(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Mi(e,a){var t=a.dyn_tree,r=a.max_code,i=a.stat_desc.static_tree,n=a.stat_desc.has_stree,o=a.stat_desc.extra_bits,s=a.stat_desc.extra_base,d=a.stat_desc.max_length,l,f,w,u,h,p,_=0;for(u=0;u<=_e;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Br;l++)f=e.heap[l],u=t[t[f*2+1]*2+1]+1,u>d&&(u=d,_++),t[f*2+1]=u,!(f>r)&&(e.bl_count[u]++,h=0,f>=s&&(h=o[f-s]),p=t[f*2],e.opt_len+=p*(u+h),n&&(e.static_len+=p*(i[f*2+1]+h)));if(_!==0){do{for(u=d-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,_-=2}while(_>0);for(u=d;u!==0;u--)for(f=e.bl_count[u];f!==0;)w=e.heap[--l],!(w>r)&&(t[w*2+1]!==u&&(e.opt_len+=(u-t[w*2+1])*t[w*2],t[w*2+1]=u),f--)}}function Kr(e,a,t){var r=new Array(_e+1),i=0,n,o;for(n=1;n<=_e;n++)r[n]=i=i+t[n-1]<<1;for(o=0;o<=a;o++){var s=e[o*2+1];s!==0&&(e[o*2]=qr(r[s]++,s))}}function qi(){var e,a,t,r,i,n=new Array(_e+1);for(t=0,r=0;r<Lt-1;r++)for(Wt[r]=t,e=0;e<1<<Bt[r];e++)Ne[t++]=r;for(Ne[t-1]=r,i=0,r=0;r<16;r++)for(st[r]=i,e=0;e<1<<nt[r];e++)Fe[i++]=r;for(i>>=7;r<Ae;r++)for(st[r]=i<<7,e=0;e<1<<nt[r]-7;e++)Fe[256+i++]=r;for(a=0;a<=_e;a++)n[a]=0;for(e=0;e<=143;)J[e*2+1]=8,e++,n[8]++;for(;e<=255;)J[e*2+1]=9,e++,n[9]++;for(;e<=279;)J[e*2+1]=7,e++,n[7]++;for(;e<=287;)J[e*2+1]=8,e++,n[8]++;for(Kr(J,Le+1,n),e=0;e<Ae;e++)Ue[e*2+1]=5,Ue[e*2]=qr(e,5);Wr=new zt(J,Bt,Pe+1,Le,_e),Pr=new zt(Ue,nt,0,Ae,_e),Zr=new zt(new Array(0),Wi,0,Ft,Ni)}function Xr(e){var a;for(a=0;a<Le;a++)e.dyn_ltree[a*2]=0;for(a=0;a<Ae;a++)e.dyn_dtree[a*2]=0;for(a=0;a<Ft;a++)e.bl_tree[a*2]=0;e.dyn_ltree[Nt*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function jr(e){e.bi_valid>8?We(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Ki(e,a,t,r){jr(e),r&&(We(e,t),We(e,~t)),zi.arraySet(e.pending_buf,e.window,a,t,e.pending),e.pending+=t}function Tr(e,a,t,r){var i=a*2,n=t*2;return e[i]<e[n]||e[i]===e[n]&&r[a]<=r[t]}function Ot(e,a,t){for(var r=e.heap[t],i=t<<1;i<=e.heap_len&&(i<e.heap_len&&Tr(a,e.heap[i+1],e.heap[i],e.depth)&&i++,!Tr(a,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r}function Ir(e,a,t){var r,i,n=0,o,s;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+n*2]<<8|e.pending_buf[e.d_buf+n*2+1],i=e.pending_buf[e.l_buf+n],n++,r===0?j(e,i,a):(o=Ne[i],j(e,o+Pe+1,a),s=Bt[o],s!==0&&(i-=Wt[o],F(e,i,s)),r--,o=Mr(r),j(e,o,t),s=nt[o],s!==0&&(r-=st[o],F(e,r,s)));while(n<e.last_lit);j(e,Nt,a)}function Ut(e,a){var t=a.dyn_tree,r=a.stat_desc.static_tree,i=a.stat_desc.has_stree,n=a.stat_desc.elems,o,s,d=-1,l;for(e.heap_len=0,e.heap_max=Br,o=0;o<n;o++)t[o*2]!==0?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=d<2?++d:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(a.max_code=d,o=e.heap_len>>1;o>=1;o--)Ot(e,t,o);l=n;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ot(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,t[l*2]=t[o*2]+t[s*2],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,t[o*2+1]=t[s*2+1]=l,e.heap[1]=l++,Ot(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Mi(e,a),Kr(t,d,e.bl_count)}function Dr(e,a,t){var r,i=-1,n,o=a[0*2+1],s=0,d=7,l=4;for(o===0&&(d=138,l=3),a[(t+1)*2+1]=65535,r=0;r<=t;r++)n=o,o=a[(r+1)*2+1],!(++s<d&&n===o)&&(s<l?e.bl_tree[n*2]+=s:n!==0?(n!==i&&e.bl_tree[n*2]++,e.bl_tree[Ur*2]++):s<=10?e.bl_tree[Lr*2]++:e.bl_tree[Fr*2]++,s=0,i=n,o===0?(d=138,l=3):n===o?(d=6,l=3):(d=7,l=4))}function zr(e,a,t){var r,i=-1,n,o=a[0*2+1],s=0,d=7,l=4;for(o===0&&(d=138,l=3),r=0;r<=t;r++)if(n=o,o=a[(r+1)*2+1],!(++s<d&&n===o)){if(s<l)do j(e,n,e.bl_tree);while(--s!==0);else n!==0?(n!==i&&(j(e,n,e.bl_tree),s--),j(e,Ur,e.bl_tree),F(e,s-3,2)):s<=10?(j(e,Lr,e.bl_tree),F(e,s-3,3)):(j(e,Fr,e.bl_tree),F(e,s-11,7));s=0,i=n,o===0?(d=138,l=3):n===o?(d=6,l=3):(d=7,l=4)}}function Xi(e){var a;for(Dr(e,e.dyn_ltree,e.l_desc.max_code),Dr(e,e.dyn_dtree,e.d_desc.max_code),Ut(e,e.bl_desc),a=Ft-1;a>=3&&e.bl_tree[Nr[a]*2+1]===0;a--);return e.opt_len+=3*(a+1)+5+5+4,a}function ji(e,a,t,r){var i;for(F(e,a-257,5),F(e,t-1,5),F(e,r-4,4),i=0;i<r;i++)F(e,e.bl_tree[Nr[i]*2+1],3);zr(e,e.dyn_ltree,a-1),zr(e,e.dyn_dtree,t-1)}function Gi(e){var a=4093624447,t;for(t=0;t<=31;t++,a>>>=1)if(a&1&&e.dyn_ltree[t*2]!==0)return Cr;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Er;for(t=32;t<Pe;t++)if(e.dyn_ltree[t*2]!==0)return Er;return Cr}var Hr=!1;function Yi(e){Hr||(qi(),Hr=!0),e.l_desc=new Ht(e.dyn_ltree,Wr),e.d_desc=new Ht(e.dyn_dtree,Pr),e.bl_desc=new Ht(e.bl_tree,Zr),e.bi_buf=0,e.bi_valid=0,Xr(e)}function Gr(e,a,t,r){F(e,(Bi<<1)+(r?1:0),3),Ki(e,a,t,!0)}function $i(e){F(e,Or<<1,3),j(e,Nt,J),Zi(e)}function Vi(e,a,t,r){var i,n,o=0;e.level>0?(e.strm.data_type===Oi&&(e.strm.data_type=Gi(e)),Ut(e,e.l_desc),Ut(e,e.d_desc),o=Xi(e),i=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=i&&(i=n)):i=n=t+5,t+4<=i&&a!==-1?Gr(e,a,t,r):e.strategy===Hi||n===i?(F(e,(Or<<1)+(r?1:0),3),Ir(e,J,Ue)):(F(e,(Ui<<1)+(r?1:0),3),ji(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Ir(e,e.dyn_ltree,e.dyn_dtree)),Xr(e),r&&jr(e)}function Qi(e,a,t){return e.pending_buf[e.d_buf+e.last_lit*2]=a>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=a&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,a===0?e.dyn_ltree[t*2]++:(e.matches++,a--,e.dyn_ltree[(Ne[t]+Pe+1)*2]++,e.dyn_dtree[Mr(a)*2]++),e.last_lit===e.lit_bufsize-1}Ce._tr_init=Yi;Ce._tr_stored_block=Gr;Ce._tr_flush_block=Vi;Ce._tr_tally=Qi;Ce._tr_align=$i});var Pt=H((Ms,$r)=>{"use strict";function Ji(e,a,t,r){for(var i=e&65535|0,n=e>>>16&65535|0,o=0;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+a[r++]|0,n=n+i|0;while(--o);i%=65521,n%=65521}return i|n<<16|0}$r.exports=Ji});var Zt=H((qs,Vr)=>{"use strict";function en(){for(var e,a=[],t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;a[t]=e}return a}var tn=en();function rn(e,a,t,r){var i=tn,n=r+t;e^=-1;for(var o=r;o<n;o++)e=e>>>8^i[(e^a[o])&255];return e^-1}Vr.exports=rn});var ot=H((Ks,Qr)=>{"use strict";Qr.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var oa=H($=>{"use strict";var U=Q(),P=Yr(),ra=Pt(),se=Zt(),an=ot(),ve=0,nn=1,sn=3,he=4,Jr=5,Y=0,ea=1,Z=-2,on=-3,Mt=-5,ln=-1,fn=1,lt=2,dn=3,hn=4,un=0,cn=2,ut=8,_n=9,pn=15,gn=8,wn=29,vn=256,Kt=vn+1+wn,bn=30,yn=19,xn=2*Kt+1,mn=15,R=3,fe=258,K=fe+R+1,Rn=32,ct=42,Xt=69,ft=73,dt=91,ht=103,pe=113,Me=666,z=1,qe=2,ge=3,Ie=4,kn=3;function de(e,a){return e.msg=an[a],a}function ta(e){return(e<<1)-(e>4?9:0)}function le(e){for(var a=e.length;--a>=0;)e[a]=0}function oe(e){var a=e.state,t=a.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(U.arraySet(e.output,a.pending_buf,a.pending_out,t,e.next_out),e.next_out+=t,a.pending_out+=t,e.total_out+=t,e.avail_out-=t,a.pending-=t,a.pending===0&&(a.pending_out=0))}function O(e,a){P._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,a),e.block_start=e.strstart,oe(e.strm)}function S(e,a){e.pending_buf[e.pending++]=a}function Ze(e,a){e.pending_buf[e.pending++]=a>>>8&255,e.pending_buf[e.pending++]=a&255}function An(e,a,t,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,U.arraySet(a,e.input,e.next_in,i,t),e.state.wrap===1?e.adler=ra(e.adler,a,i,t):e.state.wrap===2&&(e.adler=se(e.adler,a,i,t)),e.next_in+=i,e.total_in+=i,i)}function aa(e,a){var t=e.max_chain_length,r=e.strstart,i,n,o=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-K?e.strstart-(e.w_size-K):0,l=e.window,f=e.w_mask,w=e.prev,u=e.strstart+fe,h=l[r+o-1],p=l[r+o];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=a,!(l[i+o]!==p||l[i+o-1]!==h||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<u);if(n=fe-(u-r),r=u-fe,n>o){if(e.match_start=a,o=n,n>=s)break;h=l[r+o-1],p=l[r+o]}}while((a=w[a&f])>d&&--t!==0);return o<=e.lookahead?o:e.lookahead}function we(e){var a=e.w_size,t,r,i,n,o;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-K)){U.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,r=e.hash_size,t=r;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--r);r=a,t=r;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--r);n+=a}if(e.strm.avail_in===0)break;if(r=An(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=R)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+R-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<K&&e.strm.avail_in!==0)}function Sn(e,a){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(we(e),e.lookahead===0&&a===ve)return z;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+t;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,O(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-K&&(O(e,!1),e.strm.avail_out===0))return z}return e.insert=0,a===he?(O(e,!0),e.strm.avail_out===0?ge:Ie):(e.strstart>e.block_start&&(O(e,!1),e.strm.avail_out===0),z)}function qt(e,a){for(var t,r;;){if(e.lookahead<K){if(we(e),e.lookahead<K&&a===ve)return z;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-K&&(e.match_length=aa(e,t)),e.match_length>=R)if(r=P._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(O(e,!1),e.strm.avail_out===0))return z}return e.insert=e.strstart<R-1?e.strstart:R-1,a===he?(O(e,!0),e.strm.avail_out===0?ge:Ie):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?z:qe}function Ee(e,a){for(var t,r,i;;){if(e.lookahead<K){if(we(e),e.lookahead<K&&a===ve)return z;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-K&&(e.match_length=aa(e,t),e.match_length<=5&&(e.strategy===fn||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-R,r=P._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=R-1,e.strstart++,r&&(O(e,!1),e.strm.avail_out===0))return z}else if(e.match_available){if(r=P._tr_tally(e,0,e.window[e.strstart-1]),r&&O(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return z}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=P._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,a===he?(O(e,!0),e.strm.avail_out===0?ge:Ie):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?z:qe}function Cn(e,a){for(var t,r,i,n,o=e.window;;){if(e.lookahead<=fe){if(we(e),e.lookahead<=fe&&a===ve)return z;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){n=e.strstart+fe;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<n);e.match_length=fe-(n-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(t=P._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(O(e,!1),e.strm.avail_out===0))return z}return e.insert=0,a===he?(O(e,!0),e.strm.avail_out===0?ge:Ie):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?z:qe}function En(e,a){for(var t;;){if(e.lookahead===0&&(we(e),e.lookahead===0)){if(a===ve)return z;break}if(e.match_length=0,t=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(O(e,!1),e.strm.avail_out===0))return z}return e.insert=0,a===he?(O(e,!0),e.strm.avail_out===0?ge:Ie):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?z:qe}function G(e,a,t,r,i){this.good_length=e,this.max_lazy=a,this.nice_length=t,this.max_chain=r,this.func=i}var Te;Te=[new G(0,0,0,0,Sn),new G(4,4,8,4,qt),new G(4,5,16,8,qt),new G(4,6,32,32,qt),new G(4,4,16,16,Ee),new G(8,16,32,32,Ee),new G(8,16,128,128,Ee),new G(8,32,128,256,Ee),new G(32,128,258,1024,Ee),new G(32,258,258,4096,Ee)];function Tn(e){e.window_size=2*e.w_size,le(e.head),e.max_lazy_match=Te[e.level].max_lazy,e.good_match=Te[e.level].good_length,e.nice_match=Te[e.level].nice_length,e.max_chain_length=Te[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0}function In(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new U.Buf16(xn*2),this.dyn_dtree=new U.Buf16((2*bn+1)*2),this.bl_tree=new U.Buf16((2*yn+1)*2),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new U.Buf16(mn+1),this.heap=new U.Buf16(2*Kt+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new U.Buf16(2*Kt+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ia(e){var a;return!e||!e.state?de(e,Z):(e.total_in=e.total_out=0,e.data_type=cn,a=e.state,a.pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?ct:pe,e.adler=a.wrap===2?0:1,a.last_flush=ve,P._tr_init(a),Y)}function na(e){var a=ia(e);return a===Y&&Tn(e.state),a}function Dn(e,a){return!e||!e.state||e.state.wrap!==2?Z:(e.state.gzhead=a,Y)}function sa(e,a,t,r,i,n){if(!e)return Z;var o=1;if(a===ln&&(a=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>_n||t!==ut||r<8||r>15||a<0||a>9||n<0||n>hn)return de(e,Z);r===8&&(r=9);var s=new In;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+R-1)/R),s.window=new U.Buf8(s.w_size*2),s.head=new U.Buf16(s.hash_size),s.prev=new U.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new U.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=(1+2)*s.lit_bufsize,s.level=a,s.strategy=n,s.method=t,na(e)}function zn(e,a){return sa(e,a,ut,pn,gn,un)}function Hn(e,a){var t,r,i,n;if(!e||!e.state||a>Jr||a<0)return e?de(e,Z):Z;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Me&&a!==he)return de(e,e.avail_out===0?Mt:Z);if(r.strm=e,t=r.last_flush,r.last_flush=a,r.status===ct)if(r.wrap===2)e.adler=0,S(r,31),S(r,139),S(r,8),r.gzhead?(S(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),S(r,r.gzhead.time&255),S(r,r.gzhead.time>>8&255),S(r,r.gzhead.time>>16&255),S(r,r.gzhead.time>>24&255),S(r,r.level===9?2:r.strategy>=lt||r.level<2?4:0),S(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(S(r,r.gzhead.extra.length&255),S(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=se(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Xt):(S(r,0),S(r,0),S(r,0),S(r,0),S(r,0),S(r,r.level===9?2:r.strategy>=lt||r.level<2?4:0),S(r,kn),r.status=pe);else{var o=ut+(r.w_bits-8<<4)<<8,s=-1;r.strategy>=lt||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,o|=s<<6,r.strstart!==0&&(o|=Rn),o+=31-o%31,r.status=pe,Ze(r,o),r.strstart!==0&&(Ze(r,e.adler>>>16),Ze(r,e.adler&65535)),e.adler=1}if(r.status===Xt)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=se(e.adler,r.pending_buf,r.pending-i,i)),oe(e),i=r.pending,r.pending===r.pending_buf_size));)S(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=se(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=ft)}else r.status=ft;if(r.status===ft)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=se(e.adler,r.pending_buf,r.pending-i,i)),oe(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.name.length?n=r.gzhead.name.charCodeAt(r.gzindex++)&255:n=0,S(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=se(e.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.gzindex=0,r.status=dt)}else r.status=dt;if(r.status===dt)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=se(e.adler,r.pending_buf,r.pending-i,i)),oe(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.comment.length?n=r.gzhead.comment.charCodeAt(r.gzindex++)&255:n=0,S(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=se(e.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.status=ht)}else r.status=ht;if(r.status===ht&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&oe(e),r.pending+2<=r.pending_buf_size&&(S(r,e.adler&255),S(r,e.adler>>8&255),e.adler=0,r.status=pe)):r.status=pe),r.pending!==0){if(oe(e),e.avail_out===0)return r.last_flush=-1,Y}else if(e.avail_in===0&&ta(a)<=ta(t)&&a!==he)return de(e,Mt);if(r.status===Me&&e.avail_in!==0)return de(e,Mt);if(e.avail_in!==0||r.lookahead!==0||a!==ve&&r.status!==Me){var d=r.strategy===lt?En(r,a):r.strategy===dn?Cn(r,a):Te[r.level].func(r,a);if((d===ge||d===Ie)&&(r.status=Me),d===z||d===ge)return e.avail_out===0&&(r.last_flush=-1),Y;if(d===qe&&(a===nn?P._tr_align(r):a!==Jr&&(P._tr_stored_block(r,0,0,!1),a===sn&&(le(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),oe(e),e.avail_out===0))return r.last_flush=-1,Y}return a!==he?Y:r.wrap<=0?ea:(r.wrap===2?(S(r,e.adler&255),S(r,e.adler>>8&255),S(r,e.adler>>16&255),S(r,e.adler>>24&255),S(r,e.total_in&255),S(r,e.total_in>>8&255),S(r,e.total_in>>16&255),S(r,e.total_in>>24&255)):(Ze(r,e.adler>>>16),Ze(r,e.adler&65535)),oe(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Y:ea)}function On(e){var a;return!e||!e.state?Z:(a=e.state.status,a!==ct&&a!==Xt&&a!==ft&&a!==dt&&a!==ht&&a!==pe&&a!==Me?de(e,Z):(e.state=null,a===pe?de(e,on):Y))}function Bn(e,a){var t=a.length,r,i,n,o,s,d,l,f;if(!e||!e.state||(r=e.state,o=r.wrap,o===2||o===1&&r.status!==ct||r.lookahead))return Z;for(o===1&&(e.adler=ra(e.adler,a,t,0)),r.wrap=0,t>=r.w_size&&(o===0&&(le(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new U.Buf8(r.w_size),U.arraySet(f,a,t-r.w_size,r.w_size,0),a=f,t=r.w_size),s=e.avail_in,d=e.next_in,l=e.input,e.avail_in=t,e.next_in=0,e.input=a,we(r);r.lookahead>=R;){i=r.strstart,n=r.lookahead-(R-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+R-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--n);r.strstart=i,r.lookahead=R-1,we(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=R-1,r.match_available=0,e.next_in=d,e.input=l,e.avail_in=s,r.wrap=o,Y}$.deflateInit=zn;$.deflateInit2=sa;$.deflateReset=na;$.deflateResetKeep=ia;$.deflateSetHeader=Dn;$.deflate=Hn;$.deflateEnd=On;$.deflateSetDictionary=Bn;$.deflateInfo="pako deflate (from Nodeca project)"});var jt=H(De=>{"use strict";var _t=Q(),la=!0,fa=!0;try{String.fromCharCode.apply(null,[0])}catch{la=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fa=!1}var Ke=new _t.Buf8(256);for(ee=0;ee<256;ee++)Ke[ee]=ee>=252?6:ee>=248?5:ee>=240?4:ee>=224?3:ee>=192?2:1;var ee;Ke[254]=Ke[254]=1;De.string2buf=function(e){var a,t,r,i,n,o=e.length,s=0;for(i=0;i<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(a=new _t.Buf8(s),n=0,i=0;n<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?a[n++]=t:t<2048?(a[n++]=192|t>>>6,a[n++]=128|t&63):t<65536?(a[n++]=224|t>>>12,a[n++]=128|t>>>6&63,a[n++]=128|t&63):(a[n++]=240|t>>>18,a[n++]=128|t>>>12&63,a[n++]=128|t>>>6&63,a[n++]=128|t&63);return a};function da(e,a){if(a<65534&&(e.subarray&&fa||!e.subarray&&la))return String.fromCharCode.apply(null,_t.shrinkBuf(e,a));for(var t="",r=0;r<a;r++)t+=String.fromCharCode(e[r]);return t}De.buf2binstring=function(e){return da(e,e.length)};De.binstring2buf=function(e){for(var a=new _t.Buf8(e.length),t=0,r=a.length;t<r;t++)a[t]=e.charCodeAt(t);return a};De.buf2string=function(e,a){var t,r,i,n,o=a||e.length,s=new Array(o*2);for(r=0,t=0;t<o;){if(i=e[t++],i<128){s[r++]=i;continue}if(n=Ke[i],n>4){s[r++]=65533,t+=n-1;continue}for(i&=n===2?31:n===3?15:7;n>1&&t<o;)i=i<<6|e[t++]&63,n--;if(n>1){s[r++]=65533;continue}i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|i&1023)}return da(s,r)};De.utf8border=function(e,a){var t;for(a=a||e.length,a>e.length&&(a=e.length),t=a-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?a:t+Ke[e[t]]>a?t:a}});var Gt=H((Gs,ha)=>{"use strict";function Un(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}ha.exports=Un});var pa=H(Ge=>{"use strict";var Xe=oa(),je=Q(),$t=jt(),Vt=ot(),Ln=Gt(),_a=Object.prototype.toString,Fn=0,Yt=4,ze=0,ua=1,ca=2,Nn=-1,Wn=0,Pn=8;function be(e){if(!(this instanceof be))return new be(e);this.options=je.assign({level:Nn,method:Pn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wn,to:""},e||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ln,this.strm.avail_out=0;var t=Xe.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(t!==ze)throw new Error(Vt[t]);if(a.header&&Xe.deflateSetHeader(this.strm,a.header),a.dictionary){var r;if(typeof a.dictionary=="string"?r=$t.string2buf(a.dictionary):_a.call(a.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(a.dictionary):r=a.dictionary,t=Xe.deflateSetDictionary(this.strm,r),t!==ze)throw new Error(Vt[t]);this._dict_set=!0}}be.prototype.push=function(e,a){var t=this.strm,r=this.options.chunkSize,i,n;if(this.ended)return!1;n=a===~~a?a:a===!0?Yt:Fn,typeof e=="string"?t.input=$t.string2buf(e):_a.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new je.Buf8(r),t.next_out=0,t.avail_out=r),i=Xe.deflate(t,n),i!==ua&&i!==ze)return this.onEnd(i),this.ended=!0,!1;(t.avail_out===0||t.avail_in===0&&(n===Yt||n===ca))&&(this.options.to==="string"?this.onData($t.buf2binstring(je.shrinkBuf(t.output,t.next_out))):this.onData(je.shrinkBuf(t.output,t.next_out)))}while((t.avail_in>0||t.avail_out===0)&&i!==ua);return n===Yt?(i=Xe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ze):(n===ca&&(this.onEnd(ze),t.avail_out=0),!0)};be.prototype.onData=function(e){this.chunks.push(e)};be.prototype.onEnd=function(e){e===ze&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=je.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Qt(e,a){var t=new be(a);if(t.push(e,!0),t.err)throw t.msg||Vt[t.err];return t.result}function Zn(e,a){return a=a||{},a.raw=!0,Qt(e,a)}function Mn(e,a){return a=a||{},a.gzip=!0,Qt(e,a)}Ge.Deflate=be;Ge.deflate=Qt;Ge.deflateRaw=Zn;Ge.gzip=Mn});var wa=H(($s,ga)=>{"use strict";var pt=30,qn=12;ga.exports=function(a,t){var r,i,n,o,s,d,l,f,w,u,h,p,_,y,g,m,E,x,c,C,k,v,A,I,b;r=a.state,i=a.next_in,I=a.input,n=i+(a.avail_in-5),o=a.next_out,b=a.output,s=o-(t-a.avail_out),d=o+(a.avail_out-257),l=r.dmax,f=r.wsize,w=r.whave,u=r.wnext,h=r.window,p=r.hold,_=r.bits,y=r.lencode,g=r.distcode,m=(1<<r.lenbits)-1,E=(1<<r.distbits)-1;e:do{_<15&&(p+=I[i++]<<_,_+=8,p+=I[i++]<<_,_+=8),x=y[p&m];t:for(;;){if(c=x>>>24,p>>>=c,_-=c,c=x>>>16&255,c===0)b[o++]=x&65535;else if(c&16){C=x&65535,c&=15,c&&(_<c&&(p+=I[i++]<<_,_+=8),C+=p&(1<<c)-1,p>>>=c,_-=c),_<15&&(p+=I[i++]<<_,_+=8,p+=I[i++]<<_,_+=8),x=g[p&E];r:for(;;){if(c=x>>>24,p>>>=c,_-=c,c=x>>>16&255,c&16){if(k=x&65535,c&=15,_<c&&(p+=I[i++]<<_,_+=8,_<c&&(p+=I[i++]<<_,_+=8)),k+=p&(1<<c)-1,k>l){a.msg="invalid distance too far back",r.mode=pt;break e}if(p>>>=c,_-=c,c=o-s,k>c){if(c=k-c,c>w&&r.sane){a.msg="invalid distance too far back",r.mode=pt;break e}if(v=0,A=h,u===0){if(v+=f-c,c<C){C-=c;do b[o++]=h[v++];while(--c);v=o-k,A=b}}else if(u<c){if(v+=f+u-c,c-=u,c<C){C-=c;do b[o++]=h[v++];while(--c);if(v=0,u<C){c=u,C-=c;do b[o++]=h[v++];while(--c);v=o-k,A=b}}}else if(v+=u-c,c<C){C-=c;do b[o++]=h[v++];while(--c);v=o-k,A=b}for(;C>2;)b[o++]=A[v++],b[o++]=A[v++],b[o++]=A[v++],C-=3;C&&(b[o++]=A[v++],C>1&&(b[o++]=A[v++]))}else{v=o-k;do b[o++]=b[v++],b[o++]=b[v++],b[o++]=b[v++],C-=3;while(C>2);C&&(b[o++]=b[v++],C>1&&(b[o++]=b[v++]))}}else if((c&64)===0){x=g[(x&65535)+(p&(1<<c)-1)];continue r}else{a.msg="invalid distance code",r.mode=pt;break e}break}}else if((c&64)===0){x=y[(x&65535)+(p&(1<<c)-1)];continue t}else if(c&32){r.mode=qn;break e}else{a.msg="invalid literal/length code",r.mode=pt;break e}break}}while(i<n&&o<d);C=_>>3,i-=C,_-=C<<3,p&=(1<<_)-1,a.next_in=i,a.next_out=o,a.avail_in=i<n?5+(n-i):5-(i-n),a.avail_out=o<d?257+(d-o):257-(o-d),r.hold=p,r.bits=_}});var ka=H((Vs,Ra)=>{"use strict";var va=Q(),He=15,ba=852,ya=592,xa=0,Jt=1,ma=2,Kn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Xn=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],jn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Gn=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ra.exports=function(a,t,r,i,n,o,s,d){var l=d.bits,f=0,w=0,u=0,h=0,p=0,_=0,y=0,g=0,m=0,E=0,x,c,C,k,v,A=null,I=0,b,q=new va.Buf16(He+1),tt=new va.Buf16(He+1),rt=null,Rr=0,kr,at,it;for(f=0;f<=He;f++)q[f]=0;for(w=0;w<i;w++)q[t[r+w]]++;for(p=l,h=He;h>=1&&q[h]===0;h--);if(p>h&&(p=h),h===0)return n[o++]=1<<24|64<<16|0,n[o++]=1<<24|64<<16|0,d.bits=1,0;for(u=1;u<h&&q[u]===0;u++);for(p<u&&(p=u),g=1,f=1;f<=He;f++)if(g<<=1,g-=q[f],g<0)return-1;if(g>0&&(a===xa||h!==1))return-1;for(tt[1]=0,f=1;f<He;f++)tt[f+1]=tt[f]+q[f];for(w=0;w<i;w++)t[r+w]!==0&&(s[tt[t[r+w]]++]=w);if(a===xa?(A=rt=s,b=19):a===Jt?(A=Kn,I-=257,rt=Xn,Rr-=257,b=256):(A=jn,rt=Gn,b=-1),E=0,w=0,f=u,v=o,_=p,y=0,C=-1,m=1<<p,k=m-1,a===Jt&&m>ba||a===ma&&m>ya)return 1;for(;;){kr=f-y,s[w]<b?(at=0,it=s[w]):s[w]>b?(at=rt[Rr+s[w]],it=A[I+s[w]]):(at=32+64,it=0),x=1<<f-y,c=1<<_,u=c;do c-=x,n[v+(E>>y)+c]=kr<<24|at<<16|it|0;while(c!==0);for(x=1<<f-1;E&x;)x>>=1;if(x!==0?(E&=x-1,E+=x):E=0,w++,--q[f]===0){if(f===h)break;f=t[r+s[w]]}if(f>p&&(E&k)!==C){for(y===0&&(y=p),v+=u,_=f-y,g=1<<_;_+y<h&&(g-=q[_+y],!(g<=0));)_++,g<<=1;if(m+=1<<_,a===Jt&&m>ba||a===ma&&m>ya)return 1;C=E&k,n[C]=p<<24|_<<16|v-o|0}}return E!==0&&(n[v+E]=f-y<<24|64<<16|0),d.bits=p,0}});var ni=H(X=>{"use strict";var W=Q(),nr=Pt(),V=Zt(),Yn=wa(),Ye=ka(),$n=0,$a=1,Va=2,Aa=4,Vn=5,gt=6,ye=0,Qn=1,Jn=2,M=-2,Qa=-3,sr=-4,es=-5,Sa=8,Ja=1,Ca=2,Ea=3,Ta=4,Ia=5,Da=6,za=7,Ha=8,Oa=9,Ba=10,bt=11,te=12,er=13,Ua=14,tr=15,La=16,Fa=17,Na=18,Wa=19,wt=20,vt=21,Pa=22,Za=23,Ma=24,qa=25,Ka=26,rr=27,Xa=28,ja=29,T=30,or=31,ts=32,rs=852,as=592,is=15,ns=is;function Ga(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function ss(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new W.Buf16(320),this.work=new W.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ei(e){var a;return!e||!e.state?M:(a=e.state,e.total_in=e.total_out=a.total=0,e.msg="",a.wrap&&(e.adler=a.wrap&1),a.mode=Ja,a.last=0,a.havedict=0,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new W.Buf32(rs),a.distcode=a.distdyn=new W.Buf32(as),a.sane=1,a.back=-1,ye)}function ti(e){var a;return!e||!e.state?M:(a=e.state,a.wsize=0,a.whave=0,a.wnext=0,ei(e))}function ri(e,a){var t,r;return!e||!e.state||(r=e.state,a<0?(t=0,a=-a):(t=(a>>4)+1,a<48&&(a&=15)),a&&(a<8||a>15))?M:(r.window!==null&&r.wbits!==a&&(r.window=null),r.wrap=t,r.wbits=a,ti(e))}function ai(e,a){var t,r;return e?(r=new ss,e.state=r,r.window=null,t=ri(e,a),t!==ye&&(e.state=null),t):M}function os(e){return ai(e,ns)}var Ya=!0,ar,ir;function ls(e){if(Ya){var a;for(ar=new W.Buf32(512),ir=new W.Buf32(32),a=0;a<144;)e.lens[a++]=8;for(;a<256;)e.lens[a++]=9;for(;a<280;)e.lens[a++]=7;for(;a<288;)e.lens[a++]=8;for(Ye($a,e.lens,0,288,ar,0,e.work,{bits:9}),a=0;a<32;)e.lens[a++]=5;Ye(Va,e.lens,0,32,ir,0,e.work,{bits:5}),Ya=!1}e.lencode=ar,e.lenbits=9,e.distcode=ir,e.distbits=5}function ii(e,a,t,r){var i,n=e.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new W.Buf8(n.wsize)),r>=n.wsize?(W.arraySet(n.window,a,t-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):(i=n.wsize-n.wnext,i>r&&(i=r),W.arraySet(n.window,a,t-r,i,n.wnext),r-=i,r?(W.arraySet(n.window,a,t-r,r,0),n.wnext=r,n.whave=n.wsize):(n.wnext+=i,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=i))),0}function fs(e,a){var t,r,i,n,o,s,d,l,f,w,u,h,p,_,y=0,g,m,E,x,c,C,k,v,A=new W.Buf8(4),I,b,q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return M;t=e.state,t.mode===te&&(t.mode=er),o=e.next_out,i=e.output,d=e.avail_out,n=e.next_in,r=e.input,s=e.avail_in,l=t.hold,f=t.bits,w=s,u=d,v=ye;e:for(;;)switch(t.mode){case Ja:if(t.wrap===0){t.mode=er;break}for(;f<16;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(t.wrap&2&&l===35615){t.check=0,A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0),l=0,f=0,t.mode=Ca;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=T;break}if((l&15)!==Sa){e.msg="unknown compression method",t.mode=T;break}if(l>>>=4,f-=4,k=(l&15)+8,t.wbits===0)t.wbits=k;else if(k>t.wbits){e.msg="invalid window size",t.mode=T;break}t.dmax=1<<k,e.adler=t.check=1,t.mode=l&512?Ba:te,l=0,f=0;break;case Ca:for(;f<16;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==Sa){e.msg="unknown compression method",t.mode=T;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=T;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0)),l=0,f=0,t.mode=Ea;case Ea:for(;f<32;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,t.check=V(t.check,A,4,0)),l=0,f=0,t.mode=Ta;case Ta:for(;f<16;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0)),l=0,f=0,t.mode=Ia;case Ia:if(t.flags&1024){for(;f<16;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=Da;case Da:if(t.flags&1024&&(h=t.length,h>s&&(h=s),h&&(t.head&&(k=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),W.arraySet(t.head.extra,r,n,h,k)),t.flags&512&&(t.check=V(t.check,r,h,n)),s-=h,n+=h,t.length-=h),t.length))break e;t.length=0,t.mode=za;case za:if(t.flags&2048){if(s===0)break e;h=0;do k=r[n+h++],t.head&&k&&t.length<65536&&(t.head.name+=String.fromCharCode(k));while(k&&h<s);if(t.flags&512&&(t.check=V(t.check,r,h,n)),s-=h,n+=h,k)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ha;case Ha:if(t.flags&4096){if(s===0)break e;h=0;do k=r[n+h++],t.head&&k&&t.length<65536&&(t.head.comment+=String.fromCharCode(k));while(k&&h<s);if(t.flags&512&&(t.check=V(t.check,r,h,n)),s-=h,n+=h,k)break e}else t.head&&(t.head.comment=null);t.mode=Oa;case Oa:if(t.flags&512){for(;f<16;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=T;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=te;break;case Ba:for(;f<32;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}e.adler=t.check=Ga(l),l=0,f=0,t.mode=bt;case bt:if(t.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=n,e.avail_in=s,t.hold=l,t.bits=f,Jn;e.adler=t.check=1,t.mode=te;case te:if(a===Vn||a===gt)break e;case er:if(t.last){l>>>=f&7,f-=f&7,t.mode=rr;break}for(;f<3;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=Ua;break;case 1:if(ls(t),t.mode=wt,a===gt){l>>>=2,f-=2;break e}break;case 2:t.mode=Fa;break;case 3:e.msg="invalid block type",t.mode=T}l>>>=2,f-=2;break;case Ua:for(l>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=T;break}if(t.length=l&65535,l=0,f=0,t.mode=tr,a===gt)break e;case tr:t.mode=La;case La:if(h=t.length,h){if(h>s&&(h=s),h>d&&(h=d),h===0)break e;W.arraySet(i,r,n,h,o),s-=h,n+=h,d-=h,o+=h,t.length-=h;break}t.mode=te;break;case Fa:for(;f<14;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=T;break}t.have=0,t.mode=Na;case Na:for(;t.have<t.ncode;){for(;f<3;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}t.lens[q[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,I={bits:t.lenbits},v=Ye($n,t.lens,0,19,t.lencode,0,t.work,I),t.lenbits=I.bits,v){e.msg="invalid code lengths set",t.mode=T;break}t.have=0,t.mode=Wa;case Wa:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[l&(1<<t.lenbits)-1],g=y>>>24,m=y>>>16&255,E=y&65535,!(g<=f);){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(E<16)l>>>=g,f-=g,t.lens[t.have++]=E;else{if(E===16){for(b=g+2;f<b;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(l>>>=g,f-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=T;break}k=t.lens[t.have-1],h=3+(l&3),l>>>=2,f-=2}else if(E===17){for(b=g+3;f<b;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}l>>>=g,f-=g,k=0,h=3+(l&7),l>>>=3,f-=3}else{for(b=g+7;f<b;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}l>>>=g,f-=g,k=0,h=11+(l&127),l>>>=7,f-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=T;break}for(;h--;)t.lens[t.have++]=k}}if(t.mode===T)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=T;break}if(t.lenbits=9,I={bits:t.lenbits},v=Ye($a,t.lens,0,t.nlen,t.lencode,0,t.work,I),t.lenbits=I.bits,v){e.msg="invalid literal/lengths set",t.mode=T;break}if(t.distbits=6,t.distcode=t.distdyn,I={bits:t.distbits},v=Ye(Va,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,I),t.distbits=I.bits,v){e.msg="invalid distances set",t.mode=T;break}if(t.mode=wt,a===gt)break e;case wt:t.mode=vt;case vt:if(s>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=n,e.avail_in=s,t.hold=l,t.bits=f,Yn(e,u),o=e.next_out,i=e.output,d=e.avail_out,n=e.next_in,r=e.input,s=e.avail_in,l=t.hold,f=t.bits,t.mode===te&&(t.back=-1);break}for(t.back=0;y=t.lencode[l&(1<<t.lenbits)-1],g=y>>>24,m=y>>>16&255,E=y&65535,!(g<=f);){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(m&&(m&240)===0){for(x=g,c=m,C=E;y=t.lencode[C+((l&(1<<x+c)-1)>>x)],g=y>>>24,m=y>>>16&255,E=y&65535,!(x+g<=f);){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}l>>>=x,f-=x,t.back+=x}if(l>>>=g,f-=g,t.back+=g,t.length=E,m===0){t.mode=Ka;break}if(m&32){t.back=-1,t.mode=te;break}if(m&64){e.msg="invalid literal/length code",t.mode=T;break}t.extra=m&15,t.mode=Pa;case Pa:if(t.extra){for(b=t.extra;f<b;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Za;case Za:for(;y=t.distcode[l&(1<<t.distbits)-1],g=y>>>24,m=y>>>16&255,E=y&65535,!(g<=f);){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if((m&240)===0){for(x=g,c=m,C=E;y=t.distcode[C+((l&(1<<x+c)-1)>>x)],g=y>>>24,m=y>>>16&255,E=y&65535,!(x+g<=f);){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}l>>>=x,f-=x,t.back+=x}if(l>>>=g,f-=g,t.back+=g,m&64){e.msg="invalid distance code",t.mode=T;break}t.offset=E,t.extra=m&15,t.mode=Ma;case Ma:if(t.extra){for(b=t.extra;f<b;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=T;break}t.mode=qa;case qa:if(d===0)break e;if(h=u-d,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=T;break}h>t.wnext?(h-=t.wnext,p=t.wsize-h):p=t.wnext-h,h>t.length&&(h=t.length),_=t.window}else _=i,p=o-t.offset,h=t.length;h>d&&(h=d),d-=h,t.length-=h;do i[o++]=_[p++];while(--h);t.length===0&&(t.mode=vt);break;case Ka:if(d===0)break e;i[o++]=t.length,d--,t.mode=vt;break;case rr:if(t.wrap){for(;f<32;){if(s===0)break e;s--,l|=r[n++]<<f,f+=8}if(u-=d,e.total_out+=u,t.total+=u,u&&(e.adler=t.check=t.flags?V(t.check,i,u,o-u):nr(t.check,i,u,o-u)),u=d,(t.flags?l:Ga(l))!==t.check){e.msg="incorrect data check",t.mode=T;break}l=0,f=0}t.mode=Xa;case Xa:if(t.wrap&&t.flags){for(;f<32;){if(s===0)break e;s--,l+=r[n++]<<f,f+=8}if(l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=T;break}l=0,f=0}t.mode=ja;case ja:v=Qn;break e;case T:v=Qa;break e;case or:return sr;case ts:default:return M}return e.next_out=o,e.avail_out=d,e.next_in=n,e.avail_in=s,t.hold=l,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<T&&(t.mode<rr||a!==Aa))&&ii(e,e.output,e.next_out,u-e.avail_out)?(t.mode=or,sr):(w-=e.avail_in,u-=e.avail_out,e.total_in+=w,e.total_out+=u,t.total+=u,t.wrap&&u&&(e.adler=t.check=t.flags?V(t.check,i,u,e.next_out-u):nr(t.check,i,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===te?128:0)+(t.mode===wt||t.mode===tr?256:0),(w===0&&u===0||a===Aa)&&v===ye&&(v=es),v)}function ds(e){if(!e||!e.state)return M;var a=e.state;return a.window&&(a.window=null),e.state=null,ye}function hs(e,a){var t;return!e||!e.state||(t=e.state,(t.wrap&2)===0)?M:(t.head=a,a.done=!1,ye)}function us(e,a){var t=a.length,r,i,n;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==bt)?M:r.mode===bt&&(i=1,i=nr(i,a,t,0),i!==r.check)?Qa:(n=ii(e,a,t,t),n?(r.mode=or,sr):(r.havedict=1,ye))}X.inflateReset=ti;X.inflateReset2=ri;X.inflateResetKeep=ei;X.inflateInit=os;X.inflateInit2=ai;X.inflate=fs;X.inflateEnd=ds;X.inflateGetHeader=hs;X.inflateSetDictionary=us;X.inflateInfo="pako inflate (from Nodeca project)"});var lr=H((Js,si)=>{"use strict";si.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var li=H((eo,oi)=>{"use strict";function cs(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}oi.exports=cs});var di=H(Ve=>{"use strict";var Oe=ni(),$e=Q(),yt=jt(),D=lr(),fr=ot(),_s=Gt(),ps=li(),fi=Object.prototype.toString;function xe(e){if(!(this instanceof xe))return new xe(e);this.options=$e.assign({chunkSize:16384,windowBits:0,to:""},e||{});var a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(e&&e.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _s,this.strm.avail_out=0;var t=Oe.inflateInit2(this.strm,a.windowBits);if(t!==D.Z_OK)throw new Error(fr[t]);if(this.header=new ps,Oe.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=yt.string2buf(a.dictionary):fi.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(t=Oe.inflateSetDictionary(this.strm,a.dictionary),t!==D.Z_OK)))throw new Error(fr[t])}xe.prototype.push=function(e,a){var t=this.strm,r=this.options.chunkSize,i=this.options.dictionary,n,o,s,d,l,f=!1;if(this.ended)return!1;o=a===~~a?a:a===!0?D.Z_FINISH:D.Z_NO_FLUSH,typeof e=="string"?t.input=yt.binstring2buf(e):fi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new $e.Buf8(r),t.next_out=0,t.avail_out=r),n=Oe.inflate(t,D.Z_NO_FLUSH),n===D.Z_NEED_DICT&&i&&(n=Oe.inflateSetDictionary(this.strm,i)),n===D.Z_BUF_ERROR&&f===!0&&(n=D.Z_OK,f=!1),n!==D.Z_STREAM_END&&n!==D.Z_OK)return this.onEnd(n),this.ended=!0,!1;t.next_out&&(t.avail_out===0||n===D.Z_STREAM_END||t.avail_in===0&&(o===D.Z_FINISH||o===D.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=yt.utf8border(t.output,t.next_out),d=t.next_out-s,l=yt.buf2string(t.output,s),t.next_out=d,t.avail_out=r-d,d&&$e.arraySet(t.output,t.output,s,d,0),this.onData(l)):this.onData($e.shrinkBuf(t.output,t.next_out))),t.avail_in===0&&t.avail_out===0&&(f=!0)}while((t.avail_in>0||t.avail_out===0)&&n!==D.Z_STREAM_END);return n===D.Z_STREAM_END&&(o=D.Z_FINISH),o===D.Z_FINISH?(n=Oe.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===D.Z_OK):(o===D.Z_SYNC_FLUSH&&(this.onEnd(D.Z_OK),t.avail_out=0),!0)};xe.prototype.onData=function(e){this.chunks.push(e)};xe.prototype.onEnd=function(e){e===D.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$e.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function dr(e,a){var t=new xe(a);if(t.push(e,!0),t.err)throw t.msg||fr[t.err];return t.result}function gs(e,a){return a=a||{},a.raw=!0,dr(e,a)}Ve.Inflate=xe;Ve.inflate=dr;Ve.inflateRaw=gs;Ve.ungzip=dr});var hr=H((ro,ui)=>{"use strict";var ws=Q().assign,vs=pa(),bs=di(),ys=lr(),hi={};ws(hi,vs,bs,ys);ui.exports=hi});var gi=H(()=>{});var wi=H((ho,wr)=>{"use strict";(function(){var e,a=0,t=[],r;for(r=0;r<256;r++)t[r]=(r+256).toString(16).substr(1);s.BUFFER_SIZE=4096,s.bin=o,s.clearBuffer=function(){e=null,a=0},s.test=function(d){return typeof d=="string"?/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(d):!1};var i;typeof crypto<"u"?i=crypto:typeof window<"u"&&typeof window.msCrypto<"u"&&(i=window.msCrypto),typeof wr<"u"&&typeof Sr=="function"?(i=i||gi(),wr.exports=s):typeof window<"u"&&(window.uuid=s),s.randomBytes=function(){if(i){if(i.randomBytes)return i.randomBytes;if(i.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(d){var l=new Uint8Array(d);return i.getRandomValues(l),Array.from(l)}:function(d){var l=new Uint8Array(d);return i.getRandomValues(l),l}}return function(d){var l,f=[];for(l=0;l<d;l++)f.push(Math.floor(Math.random()*256));return f}}();function n(d){return(!e||a+d>s.BUFFER_SIZE)&&(a=0,e=s.randomBytes(s.BUFFER_SIZE)),e.slice(a,a+=d)}function o(){var d=n(16);return d[6]=d[6]&15|64,d[8]=d[8]&63|128,d}function s(){var d=o();return t[d[0]]+t[d[1]]+t[d[2]]+t[d[3]]+"-"+t[d[4]]+t[d[5]]+"-"+t[d[6]]+t[d[7]]+"-"+t[d[8]]+t[d[9]]+"-"+t[d[10]]+t[d[11]]+t[d[12]]+t[d[13]]+t[d[14]]+t[d[15]]}})()});var _i=It(hr(),1);function ci(e){let a;typeof e=="string"?a=e:e&&e.length?a=e.reduce((t,r)=>(t+=String.fromCharCode(r),t),""):e?a=e.toString():a="";try{return"__wb_post_data="+btoa(a)}catch{return"__wb_post_data="}}function xs(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mt(e){try{if(!e.startsWith("https:")&&!e.startsWith("http:"))return e;e=e.replace(/^(https?:\/\/)www\d*\./,"$1");let a=e.toLowerCase(),t=new URL(a),i=t.hostname.split(".").reverse().join(",");if(t.port&&(i+=":"+t.port),i+=")",i+=t.pathname,t.search){t.searchParams.sort(),i+=t.search;for(let[n,o]of t.searchParams.entries())if(!o){let s=new RegExp(`(?<=[&?])${xs(n)}=(?=&|$)`);s.exec(a)||(i=i.replace(s,n))}}return i}catch{return e}}function Rt(e){let{method:a,headers:t,postData:r}=e;if(a==="GET")return!1;let i=(t.get("content-type")||"").split(";")[0];function n(s){return s instanceof Uint8Array&&(s=new TextDecoder().decode(s)),s}let o="";switch(i){case"application/x-www-form-urlencoded":o=n(r);break;case"application/json":o=xt(n(r));break;case"text/plain":try{o=xt(n(r),!1)}catch{o=ci(r)}break;case"multipart/form-data":{let s=t.get("content-type");if(!s)throw new Error("utils cannot call postToGetURL when missing content-type header");o=pr(n(r),s);break}default:o=ci(r)}return o!==null?(e.url=ur(e.url,o,e.method),e.method="GET",e.requestBody=o,!0):!1}function ur(e,a,t){if(!t)return e;let r=e.indexOf("?")>0?"&":"?";return`${e}${r}__wb_method=${t}&${a}`}function cr(e,a=!0){if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}let t=new URLSearchParams,r={},i=n=>t.has(n)?(n in r||(r[n]=1),n+"."+ ++r[n]+"_"):n;try{JSON.stringify(e,(n,o)=>(["object","function"].includes(typeof o)||t.set(i(n),o),o))}catch(n){if(!a)throw n}return t}function _r(e,a){let t=new URLSearchParams;e instanceof Uint8Array&&(e=new TextDecoder().decode(e));try{let r=a.split("boundary=")[1],i=e.split(new RegExp("-*"+r+"-*","mi"));for(let n of i){let o=n.trim().match(/name="([^"]+)"\r\n\r\n(.*)/im);o&&t.set(o[1],o[2])}}catch{}return t}function xt(e,a=!0){return cr(e,a).toString()}function pr(e,a){return _r(e,a).toString()}function ue(e,a){if(e.length===1)return e[0];let t=new Uint8Array(a),r=0;for(let i of e)t.set(i,r),r+=i.byteLength;return t}function re(e,a){return[e.slice(0,a),e.slice(a)]}var pi=new TextDecoder("utf-8"),me=class extends _i.default.Inflate{constructor(t,r){super(t);this.ended=!1;this.chunks=[];this.reader=r}onEnd(t){this.err=t,this.err||(this.reader._rawOffset+=this.strm.total_in)}},N=class{static async readFully(a,t=[]){let r=t,i=0;if(t)for(let n of t)i+=n.length;for await(let n of a)r.push(n),i+=n.byteLength;return ue(r,i)}getReadableStream(){let a=this[Symbol.asyncIterator]();return new ReadableStream({pull(t){return a.next().then(r=>{r.done||!r.value?t.close():t.enqueue(r.value)})}})}async readFully(a=[]){return await N.readFully(this,a)}async readline(a=0){let t=await this.readlineRaw(a);return t?pi.decode(t):""}async*iterLines(a=0){let t=null;for(;t=await this.readline(a);)yield t}};function ms(e){return e&&Symbol.iterator in Object(e)}function Rs(e){return e&&Symbol.asyncIterator in Object(e)}var L=class extends N{constructor(t,r="gzip",i=!1){super();this.compressed=r,this.opts={raw:r==="deflateRaw"},this.inflator=r?new me(this.opts,this):null;let n;if(Rs(t))n=t;else if(typeof t=="object"&&"read"in t&&typeof t.read=="function")n=L.fromReadable(t);else if(t instanceof ReadableStream)n=L.fromReadable(t.getReader());else if(ms(t))n=L.fromIter(t);else throw new TypeError("Invalid Stream Source");i?this._sourceIter=this.dechunk(n):this._sourceIter=n[Symbol.asyncIterator](),this.lastValue=null,this.errored=!1,this._savedChunk=null,this._rawOffset=0,this._readOffset=0,this.numChunks=0}async _loadNext(){let t=await this._sourceIter.next();return t.done?null:t.value}async*dechunk(t){let r=t instanceof L?t:new L(t,null),i=-1,n=!0;for(;i!=0;){let o=await r.readlineRaw(64),s=new Uint8Array;if(i=o?parseInt(pi.decode(o),16):0,!i||i>2**32){if(Number.isNaN(i)||i>2**32){n||(this.errored=!0),yield o;break}}else if(s=await r.readSize(i),s.length!=i){n?yield o:this.errored=!0,yield s;break}let d=await r.readSize(2);if(d[0]!=13||d[1]!=10){n?yield o:this.errored=!0,yield s,yield d;break}else{if(n=!1,!s||i===0)return;yield s}}yield*r}unread(t){!t.length||(this._readOffset-=t.length,this._savedChunk&&console.log("Already have chunk!"),this._savedChunk=t)}async _next(){if(this._savedChunk){let r=this._savedChunk;return this._savedChunk=null,r}if(this.compressed){let r=this._getNextChunk();if(r)return r}let t=await this._loadNext();for(;this.compressed&&t;){this._push(t);let r=this._getNextChunk(t);if(r)return r;t=await this._loadNext()}return t}_push(t){if(!this.inflator)throw new Error("AsyncIterReader cannot call _push when this.compressed is null");this.lastValue=t,this.inflator.ended&&(this.inflator=new me(this.opts,this)),this.inflator.push(t),this.inflator.err&&this.inflator.ended&&this.compressed==="deflate"&&this.opts.raw===!1&&this.numChunks===0&&(this.opts.raw=!0,this.compressed="deflateRaw",this.inflator=new me(this.opts,this),this.inflator.push(t))}_getNextChunk(t){if(!this.inflator)throw new Error("AsyncIterReader cannot call _getNextChunk when this.compressed is null");for(;;){if(this.inflator.chunks.length>0)return this.numChunks++,this.inflator.chunks.shift();if(this.inflator.ended){if(this.inflator.err!==0)return this.compressed=null,t;let r=this.inflator.strm.avail_in;if(r&&this.lastValue){this._push(this.lastValue.slice(-r));continue}}return null}}async*[Symbol.asyncIterator](){let t=null;for(;t=await this._next();)this._readOffset+=t.length,yield t}async readlineRaw(t){let r=[],i=0,n=-1,o=null;for await(let s of this){if(t&&i+s.byteLength>t){o=s,n=t-i-1;let d=s.slice(0,n+1).indexOf(10);d>=0&&(n=d);break}if(n=s.indexOf(10),n>=0){o=s;break}r.push(s),i+=s.byteLength}if(o){let[s,d]=re(o,n+1);r.push(s),i+=s.byteLength,this.unread(d)}else if(!r.length)return null;return ue(r,i)}async readFully(t=[]){return(await this._readOrSkip(-1,!1,t))[1]}async readSize(t){return(await this._readOrSkip(t))[1]}async skipSize(t){return(await this._readOrSkip(t,!0))[0]}async _readOrSkip(t=-1,r=!1,i=[]){let n=i,o=0;for await(let s of this){if(t>=0)if(s.length>t){let[d,l]=re(s,t);r||n.push(d),o+=d.byteLength,this.unread(l);break}else if(s.length===t){r||n.push(s),o+=s.byteLength,t=0;break}else t-=s.length;r||n.push(s),o+=s.byteLength}return r?[o,new Uint8Array]:[o,ue(n,o)]}getReadOffset(){return this._readOffset}getRawOffset(){return this.compressed?this._rawOffset:this._readOffset}getRawLength(t){return this.compressed?this.inflator.strm.total_in:this._readOffset-t}static fromReadable(t){return{async*[Symbol.asyncIterator](){let i=null;for(;(i=await t.read())&&!i.done;)yield i.value}}}static fromIter(t){return{async*[Symbol.asyncIterator](){for(let i of t)yield i}}}},ae=class extends N{constructor(t,r,i=0){super();this.sourceIter=t,this.length=r,this.limit=r,this.skip=i}setLimitSkip(t,r=0){this.limit=t,this.skip=r}async*[Symbol.asyncIterator](){if(!(this.limit<=0))for await(let t of this.sourceIter){if(this.skip>0)if(t.length>=this.skip){let[,r]=re(t,this.skip);t=r,this.skip=0}else{this.skip-=t.length;continue}if(t.length>this.limit){let[r,i]=re(t,this.limit);t=r,this.sourceIter.unread&&this.sourceIter.unread(i)}if(t.length&&(this.limit-=t.length,yield t),this.limit<=0)break}}async readlineRaw(t){if(this.limit<=0)return null;let r=await this.sourceIter.readlineRaw(t?Math.min(t,this.limit):this.limit);return this.limit-=r?.length||0,r}async skipFully(){let t=this.limit;for(;this.limit>0;)this.limit-=await this.sourceIter.skipSize(this.limit);return t}};var kt=new Uint8Array([13,10]),gr=new Uint8Array([13,10,13,10]),ks=new TextDecoder("utf-8"),ce=class{constructor({statusline:a,headers:t}){this.statusline=a,this.headers=t}toString(){let a=[this.statusline];for(let[t,r]of this.headers)a.push(`${t}: ${r}`);return a.join(`\r
`)+`\r
`}async*iterSerialize(a){yield a.encode(this.statusline),yield kt;for(let[t,r]of this.headers)yield a.encode(`${t}: ${r}\r
`)}_parseResponseStatusLine(){let a=As(this.statusline," ",2);this._protocol=a[0]??"",this._statusCode=a.length>1?Number(a[1]):"",this._statusText=a.length>2?a[2]:""}get statusCode(){return this._statusCode===void 0&&this._parseResponseStatusLine(),this._statusCode}get protocol(){return this._protocol===void 0&&this._parseResponseStatusLine(),this._protocol}get statusText(){return this._statusText===void 0&&this._parseResponseStatusLine(),this._statusText}_parseRequestStatusLine(){let a=this.statusline.split(" ",2);this._method=a[0]??"",this._requestPath=a.length>1?a[1]:""}get method(){return this._method===void 0&&this._parseRequestStatusLine(),this._method}get requestPath(){return this._requestPath===void 0&&this._parseRequestStatusLine(),this._requestPath}},Be=class{async parse(a,{headersClass:t,firstLine:r}={headersClass:Map}){let i=r||await a.readline();if(!i)return null;let n=i.trimEnd();if(!n)return null;let o=new t,s=await Cs(a),d=0,l,f,w,u="",h;for(;d<s.length;){if(w=s.indexOf(`
`,d),h&&(s[d]===" "||s[d]==="	"))h+=s.slice(d,w<0?void 0:w).trimEnd();else{if(h){try{o.set(u,h)}catch{}h=null}l=s.indexOf(":",d),f=l<0?d:l+1,l>=0&&l<w?(u=s.slice(d,l).trimStart(),h=s.slice(f,w<0?void 0:w).trim()):h=null}if(w<0)break;d=w+1}if(h)try{o.set(u,h)}catch{}return new ce({statusline:n,headers:o})}};function As(e,a,t){let r=e.split(a),i=r.slice(0,t);return r.slice(t).length>0&&i.push(r.slice(t).join(a)),i}async function Ss(e,a){let t=0;for(let r=0;r<e.length-4;r++){let i=e.indexOf(13,t);if(i<0)break;if(i+3>=e.length){let{value:n}=await a.next();if(!n)break;let o=new Uint8Array(n.length+e.length);o.set(e,0),o.set(n,e.length),e=o}if(e[i+1]===10&&e[i+2]===13&&e[i+3]===10)return[i+3,e];t=i+1}return[-1,e]}async function Cs(e){let a=[],t=0,r=0,i=null,n=e[Symbol.asyncIterator]();for await(let o of n){if([r,o]=await Ss(o,n),r>=0){i=o;break}a.push(o),t+=o.byteLength}if(i){let[o,s]=re(i,r+1);a.push(o),t+=o.byteLength,e.unread(s)}else if(!a.length)return"";return ks.decode(ue(a,t))}var vi=It(wi(),1);var Es=new TextDecoder("utf-8"),Ts=new TextEncoder,vr="WARC/1.1",At="WARC/1.0",Is="http://netpreserve.org/warc/1.0/revisit/identical-payload-digest",Ds="http://netpreserve.org/warc/1.1/revisit/identical-payload-digest",zs={warcinfo:"application/warc-fields",response:"application/http; msgtype=response",revisit:"application/http; msgtype=response",request:"application/http; msgtype=request",metadata:"application/warc-fields"},ie=class extends N{constructor({warcHeaders:t,reader:r}){super();this._offset=0;this._length=0;this.method="";this.requestBody="";this._urlkey="";this.warcHeaders=t,this._reader=r,this._contentReader=null,this.payload=null,this.httpHeaders=null,this.consumed="",this.fixUp()}static create({url:t,date:r,type:i,warcHeaders:n={},filename:o="",httpHeaders:s={},statusline:d="HTTP/1.1 200 OK",warcVersion:l=At,keepHeadersCase:f=!0,refersToUrl:w=void 0,refersToDate:u=void 0}={},h){function p(m){let E=m;return l===At&&(m=m.split(".")[0],m.charAt(E.length-1)!="Z"&&(m+="Z")),m}r=p(r||new Date().toISOString()),n={...n},i==="warcinfo"?o&&(n["WARC-Filename"]=o):n["WARC-Target-URI"]=t,n["WARC-Date"]=r,n["WARC-Type"]=i,i==="revisit"&&(n["WARC-Profile"]=l===vr?Ds:Is,n["WARC-Refers-To-Target-URI"]=w,n["WARC-Refers-To-Date"]=p(u||new Date().toISOString())),n=new ce({statusline:l,headers:f?new Map(Object.entries(n)):new Headers(n)}),n.headers.get("WARC-Record-ID")||n.headers.set("WARC-Record-ID",`<urn:uuid:${(0,vi.default)()}>`),n.headers.get("Content-Type")||n.headers.set("Content-Type",i&&zs[i]||"application/octet-stream"),h||(h=async function*(){}());let _=new ie({warcHeaders:n,reader:h}),y=null,g=[];switch(i){case"response":case"request":case"revisit":g=Object.entries(s),y=f?new Map(g):new Headers(s),(g.length>0||i!=="revisit")&&(_.httpHeaders=new ce({statusline:d,headers:y}));break}return _}static createWARCInfo(t={},r){async function*i(){for(let[n,o]of Object.entries(r))yield Ts.encode(`${n}: ${o}\r
`)}return t.type="warcinfo",ie.create(t,i())}getResponseInfo(){let t=this.httpHeaders;return t?{headers:t.headers,status:t.statusCode,statusText:t.statusText}:null}fixUp(){let t=this.warcHeaders.headers.get("WARC-Target-URI");t&&t.startsWith("<")&&t.endsWith(">")&&this.warcHeaders.headers.set("WARC-Target-URI",t.slice(1,-1))}async readFully(t=!1,r=[]){if(this.httpHeaders){if(this.payload&&!this.payload.length)return r&&r[0]||this.payload;if(this._contentReader&&!t)throw new TypeError("WARC Record decoding already started, but requesting raw payload");if(t&&this.consumed==="raw"&&this.payload)return await this._createDecodingReader([this.payload]).readFully(r)}return this.payload?this.payload:(t?(this.payload=await super.readFully(r),this.consumed="content"):(this.payload=await N.readFully(this._reader,r),this.consumed="raw"),this.payload)}get reader(){if(this._contentReader)throw new TypeError("WARC Record decoding already started, but requesting raw payload");return this._reader}get contentReader(){return this.httpHeaders?(this._contentReader||(this._contentReader=this._createDecodingReader(this._reader)),this._contentReader):this._reader}_createDecodingReader(t){if(!this.httpHeaders)throw new Error("WARCRecord cannot call _createDecodingReader when this.httpHeaders === null");let r=this.httpHeaders.headers.get("Content-Encoding"),i=this.httpHeaders.headers.get("Transfer-Encoding"),n=i==="chunked";return!r&&!n&&(r=i),new L(t,r,n)}async readlineRaw(t){if(this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");if(this.contentReader instanceof N)return this.contentReader.readlineRaw(t);throw new Error("WARCRecord cannot call readlineRaw on this.contentReader if it does not extend BaseAsyncIterReader")}async contentText(){let t=await this.readFully(!0);return Es.decode(t)}async*[Symbol.asyncIterator](){for await(let t of this.contentReader)if(yield t,this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");this.consumed="content"}async skipFully(){if(!this.consumed){if(this._reader instanceof ae){let t=await this._reader.skipFully();return this.consumed="skipped",t}throw new Error("WARCRecord cannot call skipFully on this._reader if it is not a LimitReader")}}warcHeader(t){return this.warcHeaders.headers.get(t)}get warcType(){return this.warcHeaders.headers.get("WARC-Type")}get warcTargetURI(){return this.warcHeaders.headers.get("WARC-Target-URI")}get warcDate(){return this.warcHeaders.headers.get("WARC-Date")}get warcRefersToTargetURI(){return this.warcHeaders.headers.get("WARC-Refers-To-Target-URI")}get warcRefersToDate(){return this.warcHeaders.headers.get("WARC-Refers-To-Date")}get warcPayloadDigest(){return this.warcHeaders.headers.get("WARC-Payload-Digest")}get warcBlockDigest(){return this.warcHeaders.headers.get("WARC-Block-Digest")}get warcContentType(){return this.warcHeaders.headers.get("Content-Type")}get warcContentLength(){return Number(this.warcHeaders.headers.get("Content-Length"))}};var bi=new TextDecoder,br=new Uint8Array([]),ne=class{static parse(a,t){return new ne(a,t).parse()}static iterRecords(a,t){return new ne(a,t)[Symbol.asyncIterator]()}constructor(a,{keepHeadersCase:t=!1,parseHttp:r=!0}={}){this._offset=0,this._warcHeadersLength=0,this._headersClass=t?Map:Headers,this._parseHttp=r,a instanceof L?this._reader=a:this._reader=new L(a),this._record=null}async readToNextRecord(){if(!this._reader||!this._record)return br;await this._record.skipFully(),this._reader.compressed&&(this._offset=this._reader.getRawOffset());let a=await this._reader.readlineRaw(),t=0;if(!a)a=br;else{if(t=a.byteLength-1,t===9&&bi.decode(a).startsWith("WARC/"))return a;for(;t>0;){let r=a[t-1];if(r!==10&&r!==13)break;t--}t&&console.warn(`Content-Length Too Small: Record not followed by newline, Remainder Length: ${t}, Offset: ${this._reader.getRawOffset()-a.byteLength}`)}if(this._reader.compressed)await this._reader.skipSize(2),a=br;else{for(a=await this._reader.readlineRaw();a&&a.byteLength===2;)a=await this._reader.readlineRaw();this._offset=this._reader.getRawOffset(),a&&(this._offset-=a.length)}return a}_initRecordReader(a){return new ae(this._reader,Number(a.headers.get("Content-Length")||0))}async parse(){let a=await this.readToNextRecord(),t=a?bi.decode(a):"",r=new Be,i=await r.parse(this._reader,{firstLine:t,headersClass:this._headersClass});if(!i)return null;this._warcHeadersLength=this._reader.getReadOffset();let n=new ie({warcHeaders:i,reader:this._initRecordReader(i)});if(this._record=n,this._parseHttp)switch(n.warcType){case"response":case"request":await this._addHttpHeaders(n,r);break;case"revisit":n.warcContentLength>0&&await this._addHttpHeaders(n,r);break}return n}get offset(){return this._offset}get recordLength(){return this._reader.getRawLength(this._offset)}async*[Symbol.asyncIterator](){let a=null;for(;(a=await this.parse())!==null;)yield a;this._record=null}async _addHttpHeaders(a,t){let r=await t.parse(this._reader,{headersClass:this._headersClass});a.httpHeaders=r;let i=this._reader.getReadOffset()-this._warcHeadersLength;a.reader instanceof ae&&a.reader.setLimitSkip(a.warcContentLength-i)}};function yr(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}var Hs="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Os="0123456789ABCDEFGHIJKLMNOPQRSTUV",Bs="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function St(e,a,t){t=t||{};let r,i;switch(a){case"RFC3548":case"RFC4648":r=Hs,i=!0;break;case"RFC4648-HEX":r=Os,i=!0;break;case"Crockford":r=Bs,i=!1;break;default:throw new Error("Unknown base32 variant: "+a)}let n=t.padding!==void 0?t.padding:i,o=yr(e),s=0,d=0,l="";for(let f=0;f<o.byteLength;f++)for(d=d<<8|o.getUint8(f),s+=8;s>=5;)l+=r[d>>>s-5&31],s-=5;if(s>0&&(l+=r[d<<5-s&31]),n)for(;l.length%8!==0;)l+="=";return l}var xi=It(hr(),1);import{createSHA256 as yi,createSHA1 as Us}from"hash-wasm";var Ct=new TextEncoder,Re=class extends N{constructor(t,r={}){super();this.gzip=!1;this.digestAlgo="";this.digestAlgoPrefix="";this.digestBase32=!1;this.preferPako=!1;this.gzip=Boolean(r.gzip),this.record=t;let i=r&&r.digest||{};this.digestAlgo=i?.algo||"sha-256",this.digestAlgoPrefix=i?.prefix||"sha256:",this.digestBase32=Boolean(i?.base32),this.preferPako=Boolean(r?.preferPako),Re.noComputeDigest(t)&&(this.digestAlgo="")}static noComputeDigest(t){return t.warcType==="revisit"||t.warcType==="warcinfo"||t.warcPayloadDigest&&t.warcBlockDigest}async*[Symbol.asyncIterator](){if(!this.gzip){yield*this.generateRecord();return}let t=null;"CompressionStream"in globalThis&&!this.preferPako?(t=new globalThis.CompressionStream("gzip"),yield*this.streamCompress(t)):yield*this.pakoCompress()}async readlineRaw(t){return null}async*pakoCompress(){let t=new xi.default.Deflate({gzip:!0}),r=null;for await(let i of this.generateRecord())for(r&&r.length>0&&t.push(r),r=i;t.chunks.length;)yield t.chunks.shift();r&&t.push(r,!0),yield t.result}async*streamCompress(t){let r=this.generateRecord();new ReadableStream({async pull(s){let d=await r.next();d.done?s.close():s.enqueue(d.value)}}).pipeThrough(t);let n=null,o=t.readable.getReader();for(;(n=await o.read())&&!n.done;)yield n.value}},ke=class extends Re{static async serialize(a,t){return await new ke(a,t).readFully()}static base16(a){return Array.from(new Uint8Array(a)).map(r=>r.toString(16).padStart(2,"0")).join("")}async digestMessage(a){let t=await crypto.subtle.digest(this.digestAlgo,a);return this.digestAlgoPrefix+(this.digestBase32?St(t,"RFC4648"):ke.base16(t))}async*generateRecord(){let a=0,t=null,r=0;this.record.httpHeaders&&(t=Ct.encode(this.record.httpHeaders.toString()+`\r
`),r=t.length);let i=await this.record.readFully(!1,t?[t]:[]);if(a+=i.length,this.digestAlgo){let o=await this.digestMessage(i),s=r>0?await this.digestMessage(i.slice(r)):o;this.record.warcHeaders.headers.set("WARC-Payload-Digest",s),this.record.warcHeaders.headers.set("WARC-Block-Digest",o)}this.record.warcHeaders.headers.set("Content-Length",a.toString()),yield Ct.encode(this.record.warcHeaders.toString()),yield kt,yield i,yield gr}},Qe=class{},xr=class extends Qe{constructor(){super(...arguments);this.buffers=[]}write(t){this.buffers.push(t)}async*readAll(){for(let t of this.buffers)yield t}},Et=class extends Re{constructor(t,r={},i=new xr){super(t,r);this.buffered=!1;this.blockHasher=null;this.payloadHasher=null;this.httpHeadersBuff=null;this.warcHeadersBuff=null;this.externalBuffer=i}newHasher(){switch(this.digestAlgo){case"sha-256":return yi();case"sha-1":return Us();case"":return null;default:return yi()}}getDigest(t){return this.digestAlgoPrefix+(this.digestBase32?St(t.digest("binary"),"RFC4648"):t.digest("hex"))}async bufferRecord(){if(this.buffered)return;let t=this.record,r=await this.newHasher(),i=await this.newHasher(),n=0;t.httpHeaders&&(this.httpHeadersBuff=Ct.encode(t.httpHeaders.toString()+`\r
`),n+=this.httpHeadersBuff.length,r?.update(this.httpHeadersBuff));for await(let o of t.reader)r?.update(o),i?.update(o),await this.externalBuffer.write(o),n+=o.length;i&&t.warcHeaders.headers.set("WARC-Payload-Digest",this.getDigest(i)),r&&t.warcHeaders.headers.set("WARC-Block-Digest",this.getDigest(r)),t.warcHeaders.headers.set("Content-Length",n.toString()),this.warcHeadersBuff=Ct.encode(t.warcHeaders.toString()),this.buffered=!0}async*generateRecord(){if(this.buffered||await this.bufferRecord(),this.warcHeadersBuff&&(yield this.warcHeadersBuff),yield kt,this.httpHeadersBuff&&(yield this.httpHeadersBuff),this.externalBuffer)for await(let t of this.externalBuffer.readAll())yield t;yield gr}};var Ls=["offset","warc-type","warc-target-uri"],mr=class{constructor(a={}){this.opts=a,this.fields=a&&a.fields?a.fields.split(","):Ls,this.parseHttp=!1}serialize(a){return JSON.stringify(a)+`
`}write(a,t){t.write(this.serialize(a))}async writeAll(a,t){for await(let r of this.iterIndex(a))this.write(r,t)}async*iterIndex(a){let t={strictHeaders:!0,parseHttp:this.parseHttp};for(let{filename:r,reader:i}of a){let n=new ne(i,t);yield*this.iterRecords(n,r)}}async*iterRecords(a,t){for await(let r of a){await r.skipFully();let i=this.indexRecord(r,a,t);i&&(yield i)}}indexRecord(a,t,r){if(this.filterRecord&&!this.filterRecord(a))return null;let i={},n=t.offset,o=t.recordLength,s={offset:n,length:o,filename:r};for(let d of this.fields)d in s?i[d]=s[d]:this.setField(d,a,i);return i}setField(a,t,r){let i=this.getField(a,t);i!==null&&(r[a]=i)}getField(a,t){return a==="http:status"?t.httpHeaders&&(t.warcType==="response"||t.warcType==="revisit")?t.httpHeaders.statusCode:null:a.startsWith("http:")?t.httpHeaders?t.httpHeaders.headers.get(a.slice(5)):null:t.warcHeaders.headers.get(a)||null}},Je=class extends mr{constructor(a){super(a);for(let t of this.fields)if(t.startsWith("http:")){this.parseHttp=!0;break}}},Fs="urlkey,timestamp,url,mime,status,digest,length,offset,filename".split(","),Ns="urlkey,timestamp,url,mime,status,digest,redirect,meta,length,offset,filename".split(","),et=class extends Je{constructor(t){super(t);switch(this.includeAll=Boolean(t?.all),this.overrideIndexForAll=Boolean(t?.all),this.fields=Fs,this.parseHttp=!0,this.noSurt=Boolean(t?.noSurt),this._lastRecord=null,t?.format){case"cdxj":this.serialize=this.serializeCDXJ;break;case"cdx":this.serialize=this.serializeCDX11;break;case"json":default:break}}async*iterRecords(t,r){this._lastRecord=null;for await(let n of t){await n.readFully();let o=this.indexRecord(n,t,r);o&&(yield o)}let i=this.indexRecord(null,t,r);i&&(yield i)}filterRecord(t){if(this.includeAll)return!0;let r=t.warcType;return!(r==="request"||r==="warcinfo"||(r==="metadata"||r==="resource")&&t.warcContentType==="application/warc-fields")}indexRecord(t,r,i){if(this.overrideIndexForAll)return t?super.indexRecord(t,r,i):null;let n=this._lastRecord;if(this._lastRecord=t,t&&(t._offset=r.offset,t._length=r.recordLength),!n)return null;if(!t||n.warcTargetURI!=t.warcTargetURI)return this.indexRecordPair(n,null,r,i);let o=t.warcType,s=n.warcType;return o==="request"&&(s==="response"||s==="revisit")?(this._lastRecord=null,this.indexRecordPair(n,t,r,i)):(o==="response"||o==="revisit")&&s==="request"?(this._lastRecord=null,this.indexRecordPair(t,n,r,i)):this.indexRecordPair(n,null,r,i)}indexRecordPair(t,r,i,n){let o,s,d=t.warcTargetURI||"";if(r&&r.httpHeaders&&r.httpHeaders.method!=="GET"){let f={url:d,method:r.httpHeaders.method,headers:r.httpHeaders.headers,postData:r.payload};o=f.method,Rt(f)&&(s=f.requestBody,t.method=o,t.requestBody=s,d=f.url)}t._urlkey=d;let l=super.indexRecord(t,i,n);return l&&(t&&t._offset!==void 0&&(l.offset=t._offset,l.length=t._length),o&&(l.method=o),s&&(l.requestBody=s)),l}serializeCDXJ(t){let{urlkey:r,timestamp:i}=t;return delete t.urlkey,delete t.timestamp,`${r} ${i} ${JSON.stringify(t)}
`}serializeCDX11(t){let r=[];for(let i of Ns)r.push(t[i]!=null?t[i]:"-");return r.join(" ")+`
`}getField(t,r){let i=null;switch(t){case"urlkey":return i=r._urlkey||r.warcTargetURI||null,this.noSurt||i===null?i:mt(i);case"timestamp":return i=r.warcDate??"",i.replace(/[-:T]/g,"").slice(0,14);case"url":return r.warcTargetURI;case"mime":switch(r.warcType){case"revisit":return"warc/revisit";case"response":case"request":t="http:content-type";break;default:t="content-type"}return i=super.getField(t,r),i?i.toString().split(";",1)[0]?.trim():null;case"status":return super.getField("http:status",r);case"digest":return i=r.warcPayloadDigest,i?i.split(":",2)[1]:null;default:return null}}},Tt=class extends et{constructor(a){super(a),this.overrideIndexForAll=!1}indexRecordPair(a,t,r,i){let n=super.indexRecordPair(a,t,r,i);return n&&{cdx:n,record:a,reqRecord:t}}};export{L as AsyncIterReader,N as BaseAsyncIterReader,Tt as CDXAndRecordIndexer,et as CDXIndexer,Je as Indexer,ae as LimitReader,me as NoConcatInflator,ce as StatusAndHeaders,Be as StatusAndHeadersParser,Qe as StreamingBufferIO,Et as StreamingWARCSerializer,ne as WARCParser,ie as WARCRecord,ke as WARCSerializer,At as WARC_1_0,vr as WARC_1_1,ur as appendRequestQuery,ue as concatChunks,mt as getSurt,cr as jsonToQueryParams,xt as jsonToQueryString,_r as mfdToQueryParams,pr as mfdToQueryString,Rt as postToGetUrl,re as splitChunk};
//# sourceMappingURL=index.all.js.map