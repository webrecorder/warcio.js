var Ri=Object.create;var Rr=Object.defineProperty;var mi=Object.getOwnPropertyDescriptor;var ki=Object.getOwnPropertyNames;var Ai=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty;var mr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(a,t)=>(typeof require<"u"?require:a)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports);var Ci=(e,a,t,r)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of ki(a))!Si.call(e,i)&&i!==t&&Rr(e,i,{get:()=>a[i],enumerable:!(r=mi(a,i))||r.enumerable});return e};var Tt=(e,a,t)=>(t=e!=null?Ri(Ai(e)):{},Ci(a||!e||!e.__esModule?Rr(t,"default",{value:e,enumerable:!0}):t,e));var ee=D(O=>{"use strict";var Ei=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Ti(e,a){return Object.prototype.hasOwnProperty.call(e,a)}O.assign=function(e){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var t=a.shift();if(!!t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var r in t)Ti(t,r)&&(e[r]=t[r])}}return e};O.shrinkBuf=function(e,a){return e.length===a?e:e.subarray?e.subarray(0,a):(e.length=a,e)};var Ii={arraySet:function(e,a,t,r,i){if(a.subarray&&e.subarray){e.set(a.subarray(t,t+r),i);return}for(var n=0;n<r;n++)e[i+n]=a[t+n]},flattenChunks:function(e){var a,t,r,i,n,s;for(r=0,a=0,t=e.length;a<t;a++)r+=e[a].length;for(s=new Uint8Array(r),i=0,a=0,t=e.length;a<t;a++)n=e[a],s.set(n,i),i+=n.length;return s}},Hi={arraySet:function(e,a,t,r,i){for(var n=0;n<r;n++)e[i+n]=a[t+n]},flattenChunks:function(e){return[].concat.apply([],e)}};O.setTyped=function(e){e?(O.Buf8=Uint8Array,O.Buf16=Uint16Array,O.Buf32=Int32Array,O.assign(O,Ii)):(O.Buf8=Array,O.Buf16=Array,O.Buf32=Array,O.assign(O,Hi))};O.setTyped(Ei)});var Xr=D(Se=>{"use strict";var zi=ee(),Di=4,kr=0,Ar=1,Bi=2;function Ae(e){for(var a=e.length;--a>=0;)e[a]=0}var Oi=0,Hr=1,Li=2,Ui=3,Fi=258,Lt=29,Ne=256,Le=Ne+1+Lt,ke=30,Ut=19,zr=2*Le+1,pe=15,It=16,Wi=7,Ft=256,Dr=16,Br=17,Or=18,Bt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ni=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Lr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Zi=512,te=new Array((Le+2)*2);Ae(te);var Oe=new Array(ke*2);Ae(Oe);var Ue=new Array(Zi);Ae(Ue);var Fe=new Array(Fi-Ui+1);Ae(Fe);var Wt=new Array(Lt);Ae(Wt);var st=new Array(ke);Ae(st);function Ht(e,a,t,r,i){this.static_tree=e,this.extra_bits=a,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Ur,Fr,Wr;function zt(e,a){this.dyn_tree=e,this.max_code=0,this.stat_desc=a}function Nr(e){return e<256?Ue[e]:Ue[256+(e>>>7)]}function We(e,a){e.pending_buf[e.pending++]=a&255,e.pending_buf[e.pending++]=a>>>8&255}function F(e,a,t){e.bi_valid>It-t?(e.bi_buf|=a<<e.bi_valid&65535,We(e,e.bi_buf),e.bi_buf=a>>It-e.bi_valid,e.bi_valid+=t-It):(e.bi_buf|=a<<e.bi_valid&65535,e.bi_valid+=t)}function j(e,a,t){F(e,t[a*2],t[a*2+1])}function Zr(e,a){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--a>0);return t>>>1}function Pi(e){e.bi_valid===16?(We(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Mi(e,a){var t=a.dyn_tree,r=a.max_code,i=a.stat_desc.static_tree,n=a.stat_desc.has_stree,s=a.stat_desc.extra_bits,o=a.stat_desc.extra_base,h=a.stat_desc.max_length,l,f,w,u,d,p,_=0;for(u=0;u<=pe;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<zr;l++)f=e.heap[l],u=t[t[f*2+1]*2+1]+1,u>h&&(u=h,_++),t[f*2+1]=u,!(f>r)&&(e.bl_count[u]++,d=0,f>=o&&(d=s[f-o]),p=t[f*2],e.opt_len+=p*(u+d),n&&(e.static_len+=p*(i[f*2+1]+d)));if(_!==0){do{for(u=h-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[h]--,_-=2}while(_>0);for(u=h;u!==0;u--)for(f=e.bl_count[u];f!==0;)w=e.heap[--l],!(w>r)&&(t[w*2+1]!==u&&(e.opt_len+=(u-t[w*2+1])*t[w*2],t[w*2+1]=u),f--)}}function Pr(e,a,t){var r=new Array(pe+1),i=0,n,s;for(n=1;n<=pe;n++)r[n]=i=i+t[n-1]<<1;for(s=0;s<=a;s++){var o=e[s*2+1];o!==0&&(e[s*2]=Zr(r[o]++,o))}}function qi(){var e,a,t,r,i,n=new Array(pe+1);for(t=0,r=0;r<Lt-1;r++)for(Wt[r]=t,e=0;e<1<<Bt[r];e++)Fe[t++]=r;for(Fe[t-1]=r,i=0,r=0;r<16;r++)for(st[r]=i,e=0;e<1<<nt[r];e++)Ue[i++]=r;for(i>>=7;r<ke;r++)for(st[r]=i<<7,e=0;e<1<<nt[r]-7;e++)Ue[256+i++]=r;for(a=0;a<=pe;a++)n[a]=0;for(e=0;e<=143;)te[e*2+1]=8,e++,n[8]++;for(;e<=255;)te[e*2+1]=9,e++,n[9]++;for(;e<=279;)te[e*2+1]=7,e++,n[7]++;for(;e<=287;)te[e*2+1]=8,e++,n[8]++;for(Pr(te,Le+1,n),e=0;e<ke;e++)Oe[e*2+1]=5,Oe[e*2]=Zr(e,5);Ur=new Ht(te,Bt,Ne+1,Le,pe),Fr=new Ht(Oe,nt,0,ke,pe),Wr=new Ht(new Array(0),Ni,0,Ut,Wi)}function Mr(e){var a;for(a=0;a<Le;a++)e.dyn_ltree[a*2]=0;for(a=0;a<ke;a++)e.dyn_dtree[a*2]=0;for(a=0;a<Ut;a++)e.bl_tree[a*2]=0;e.dyn_ltree[Ft*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function qr(e){e.bi_valid>8?We(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Ki(e,a,t,r){qr(e),r&&(We(e,t),We(e,~t)),zi.arraySet(e.pending_buf,e.window,a,t,e.pending),e.pending+=t}function Sr(e,a,t,r){var i=a*2,n=t*2;return e[i]<e[n]||e[i]===e[n]&&r[a]<=r[t]}function Dt(e,a,t){for(var r=e.heap[t],i=t<<1;i<=e.heap_len&&(i<e.heap_len&&Sr(a,e.heap[i+1],e.heap[i],e.depth)&&i++,!Sr(a,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r}function Cr(e,a,t){var r,i,n=0,s,o;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+n*2]<<8|e.pending_buf[e.d_buf+n*2+1],i=e.pending_buf[e.l_buf+n],n++,r===0?j(e,i,a):(s=Fe[i],j(e,s+Ne+1,a),o=Bt[s],o!==0&&(i-=Wt[s],F(e,i,o)),r--,s=Nr(r),j(e,s,t),o=nt[s],o!==0&&(r-=st[s],F(e,r,o)));while(n<e.last_lit);j(e,Ft,a)}function Ot(e,a){var t=a.dyn_tree,r=a.stat_desc.static_tree,i=a.stat_desc.has_stree,n=a.stat_desc.elems,s,o,h=-1,l;for(e.heap_len=0,e.heap_max=zr,s=0;s<n;s++)t[s*2]!==0?(e.heap[++e.heap_len]=h=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=h<2?++h:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(a.max_code=h,s=e.heap_len>>1;s>=1;s--)Dt(e,t,s);l=n;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Dt(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,Dt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Mi(e,a),Pr(t,h,e.bl_count)}function Er(e,a,t){var r,i=-1,n,s=a[0*2+1],o=0,h=7,l=4;for(s===0&&(h=138,l=3),a[(t+1)*2+1]=65535,r=0;r<=t;r++)n=s,s=a[(r+1)*2+1],!(++o<h&&n===s)&&(o<l?e.bl_tree[n*2]+=o:n!==0?(n!==i&&e.bl_tree[n*2]++,e.bl_tree[Dr*2]++):o<=10?e.bl_tree[Br*2]++:e.bl_tree[Or*2]++,o=0,i=n,s===0?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4))}function Tr(e,a,t){var r,i=-1,n,s=a[0*2+1],o=0,h=7,l=4;for(s===0&&(h=138,l=3),r=0;r<=t;r++)if(n=s,s=a[(r+1)*2+1],!(++o<h&&n===s)){if(o<l)do j(e,n,e.bl_tree);while(--o!==0);else n!==0?(n!==i&&(j(e,n,e.bl_tree),o--),j(e,Dr,e.bl_tree),F(e,o-3,2)):o<=10?(j(e,Br,e.bl_tree),F(e,o-3,3)):(j(e,Or,e.bl_tree),F(e,o-11,7));o=0,i=n,s===0?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4)}}function Xi(e){var a;for(Er(e,e.dyn_ltree,e.l_desc.max_code),Er(e,e.dyn_dtree,e.d_desc.max_code),Ot(e,e.bl_desc),a=Ut-1;a>=3&&e.bl_tree[Lr[a]*2+1]===0;a--);return e.opt_len+=3*(a+1)+5+5+4,a}function ji(e,a,t,r){var i;for(F(e,a-257,5),F(e,t-1,5),F(e,r-4,4),i=0;i<r;i++)F(e,e.bl_tree[Lr[i]*2+1],3);Tr(e,e.dyn_ltree,a-1),Tr(e,e.dyn_dtree,t-1)}function Gi(e){var a=4093624447,t;for(t=0;t<=31;t++,a>>>=1)if(a&1&&e.dyn_ltree[t*2]!==0)return kr;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ar;for(t=32;t<Ne;t++)if(e.dyn_ltree[t*2]!==0)return Ar;return kr}var Ir=!1;function Yi(e){Ir||(qi(),Ir=!0),e.l_desc=new zt(e.dyn_ltree,Ur),e.d_desc=new zt(e.dyn_dtree,Fr),e.bl_desc=new zt(e.bl_tree,Wr),e.bi_buf=0,e.bi_valid=0,Mr(e)}function Kr(e,a,t,r){F(e,(Oi<<1)+(r?1:0),3),Ki(e,a,t,!0)}function $i(e){F(e,Hr<<1,3),j(e,Ft,te),Pi(e)}function Vi(e,a,t,r){var i,n,s=0;e.level>0?(e.strm.data_type===Bi&&(e.strm.data_type=Gi(e)),Ot(e,e.l_desc),Ot(e,e.d_desc),s=Xi(e),i=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=i&&(i=n)):i=n=t+5,t+4<=i&&a!==-1?Kr(e,a,t,r):e.strategy===Di||n===i?(F(e,(Hr<<1)+(r?1:0),3),Cr(e,te,Oe)):(F(e,(Li<<1)+(r?1:0),3),ji(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Cr(e,e.dyn_ltree,e.dyn_dtree)),Mr(e),r&&qr(e)}function Qi(e,a,t){return e.pending_buf[e.d_buf+e.last_lit*2]=a>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=a&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,a===0?e.dyn_ltree[t*2]++:(e.matches++,a--,e.dyn_ltree[(Fe[t]+Ne+1)*2]++,e.dyn_dtree[Nr(a)*2]++),e.last_lit===e.lit_bufsize-1}Se._tr_init=Yi;Se._tr_stored_block=Kr;Se._tr_flush_block=Vi;Se._tr_tally=Qi;Se._tr_align=$i});var Nt=D((Ps,jr)=>{"use strict";function Ji(e,a,t,r){for(var i=e&65535|0,n=e>>>16&65535|0,s=0;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+a[r++]|0,n=n+i|0;while(--s);i%=65521,n%=65521}return i|n<<16|0}jr.exports=Ji});var Zt=D((Ms,Gr)=>{"use strict";function en(){for(var e,a=[],t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;a[t]=e}return a}var tn=en();function rn(e,a,t,r){var i=tn,n=r+t;e^=-1;for(var s=r;s<n;s++)e=e>>>8^i[(e^a[s])&255];return e^-1}Gr.exports=rn});var ot=D((qs,Yr)=>{"use strict";Yr.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var ia=D($=>{"use strict";var L=ee(),Z=Xr(),Jr=Nt(),le=Zt(),an=ot(),be=0,nn=1,sn=3,ce=4,$r=5,Y=0,Vr=1,P=-2,on=-3,Pt=-5,ln=-1,fn=1,lt=2,hn=3,dn=4,un=0,cn=2,ut=8,_n=9,pn=15,gn=8,wn=29,vn=256,qt=vn+1+wn,bn=30,yn=19,xn=2*qt+1,Rn=15,m=3,de=258,K=de+m+1,mn=32,ct=42,Kt=69,ft=73,ht=91,dt=103,ge=113,Pe=666,z=1,Me=2,we=3,Te=4,kn=3;function ue(e,a){return e.msg=an[a],a}function Qr(e){return(e<<1)-(e>4?9:0)}function he(e){for(var a=e.length;--a>=0;)e[a]=0}function fe(e){var a=e.state,t=a.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(L.arraySet(e.output,a.pending_buf,a.pending_out,t,e.next_out),e.next_out+=t,a.pending_out+=t,e.total_out+=t,e.avail_out-=t,a.pending-=t,a.pending===0&&(a.pending_out=0))}function B(e,a){Z._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,a),e.block_start=e.strstart,fe(e.strm)}function S(e,a){e.pending_buf[e.pending++]=a}function Ze(e,a){e.pending_buf[e.pending++]=a>>>8&255,e.pending_buf[e.pending++]=a&255}function An(e,a,t,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,L.arraySet(a,e.input,e.next_in,i,t),e.state.wrap===1?e.adler=Jr(e.adler,a,i,t):e.state.wrap===2&&(e.adler=le(e.adler,a,i,t)),e.next_in+=i,e.total_in+=i,i)}function ea(e,a){var t=e.max_chain_length,r=e.strstart,i,n,s=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-K?e.strstart-(e.w_size-K):0,l=e.window,f=e.w_mask,w=e.prev,u=e.strstart+de,d=l[r+s-1],p=l[r+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=a,!(l[i+s]!==p||l[i+s-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<u);if(n=de-(u-r),r=u-de,n>s){if(e.match_start=a,s=n,n>=o)break;d=l[r+s-1],p=l[r+s]}}while((a=w[a&f])>h&&--t!==0);return s<=e.lookahead?s:e.lookahead}function ve(e){var a=e.w_size,t,r,i,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-K)){L.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,r=e.hash_size,t=r;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--r);r=a,t=r;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--r);n+=a}if(e.strm.avail_in===0)break;if(r=An(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=m)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+m-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<m)););}while(e.lookahead<K&&e.strm.avail_in!==0)}function Sn(e,a){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ve(e),e.lookahead===0&&a===be)return z;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+t;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,B(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-K&&(B(e,!1),e.strm.avail_out===0))return z}return e.insert=0,a===ce?(B(e,!0),e.strm.avail_out===0?we:Te):(e.strstart>e.block_start&&(B(e,!1),e.strm.avail_out===0),z)}function Mt(e,a){for(var t,r;;){if(e.lookahead<K){if(ve(e),e.lookahead<K&&a===be)return z;if(e.lookahead===0)break}if(t=0,e.lookahead>=m&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-K&&(e.match_length=ea(e,t)),e.match_length>=m)if(r=Z._tr_tally(e,e.strstart-e.match_start,e.match_length-m),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=m){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Z._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(B(e,!1),e.strm.avail_out===0))return z}return e.insert=e.strstart<m-1?e.strstart:m-1,a===ce?(B(e,!0),e.strm.avail_out===0?we:Te):e.last_lit&&(B(e,!1),e.strm.avail_out===0)?z:Me}function Ce(e,a){for(var t,r,i;;){if(e.lookahead<K){if(ve(e),e.lookahead<K&&a===be)return z;if(e.lookahead===0)break}if(t=0,e.lookahead>=m&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=m-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-K&&(e.match_length=ea(e,t),e.match_length<=5&&(e.strategy===fn||e.match_length===m&&e.strstart-e.match_start>4096)&&(e.match_length=m-1)),e.prev_length>=m&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-m,r=Z._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-m),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=m-1,e.strstart++,r&&(B(e,!1),e.strm.avail_out===0))return z}else if(e.match_available){if(r=Z._tr_tally(e,0,e.window[e.strstart-1]),r&&B(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return z}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Z._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<m-1?e.strstart:m-1,a===ce?(B(e,!0),e.strm.avail_out===0?we:Te):e.last_lit&&(B(e,!1),e.strm.avail_out===0)?z:Me}function Cn(e,a){for(var t,r,i,n,s=e.window;;){if(e.lookahead<=de){if(ve(e),e.lookahead<=de&&a===be)return z;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=m&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){n=e.strstart+de;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<n);e.match_length=de-(n-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=m?(t=Z._tr_tally(e,1,e.match_length-m),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Z._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(B(e,!1),e.strm.avail_out===0))return z}return e.insert=0,a===ce?(B(e,!0),e.strm.avail_out===0?we:Te):e.last_lit&&(B(e,!1),e.strm.avail_out===0)?z:Me}function En(e,a){for(var t;;){if(e.lookahead===0&&(ve(e),e.lookahead===0)){if(a===be)return z;break}if(e.match_length=0,t=Z._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(B(e,!1),e.strm.avail_out===0))return z}return e.insert=0,a===ce?(B(e,!0),e.strm.avail_out===0?we:Te):e.last_lit&&(B(e,!1),e.strm.avail_out===0)?z:Me}function G(e,a,t,r,i){this.good_length=e,this.max_lazy=a,this.nice_length=t,this.max_chain=r,this.func=i}var Ee;Ee=[new G(0,0,0,0,Sn),new G(4,4,8,4,Mt),new G(4,5,16,8,Mt),new G(4,6,32,32,Mt),new G(4,4,16,16,Ce),new G(8,16,32,32,Ce),new G(8,16,128,128,Ce),new G(8,32,128,256,Ce),new G(32,128,258,1024,Ce),new G(32,258,258,4096,Ce)];function Tn(e){e.window_size=2*e.w_size,he(e.head),e.max_lazy_match=Ee[e.level].max_lazy,e.good_match=Ee[e.level].good_length,e.nice_match=Ee[e.level].nice_length,e.max_chain_length=Ee[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=m-1,e.match_available=0,e.ins_h=0}function In(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new L.Buf16(xn*2),this.dyn_dtree=new L.Buf16((2*bn+1)*2),this.bl_tree=new L.Buf16((2*yn+1)*2),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new L.Buf16(Rn+1),this.heap=new L.Buf16(2*qt+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new L.Buf16(2*qt+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ta(e){var a;return!e||!e.state?ue(e,P):(e.total_in=e.total_out=0,e.data_type=cn,a=e.state,a.pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?ct:ge,e.adler=a.wrap===2?0:1,a.last_flush=be,Z._tr_init(a),Y)}function ra(e){var a=ta(e);return a===Y&&Tn(e.state),a}function Hn(e,a){return!e||!e.state||e.state.wrap!==2?P:(e.state.gzhead=a,Y)}function aa(e,a,t,r,i,n){if(!e)return P;var s=1;if(a===ln&&(a=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>_n||t!==ut||r<8||r>15||a<0||a>9||n<0||n>dn)return ue(e,P);r===8&&(r=9);var o=new In;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+m-1)/m),o.window=new L.Buf8(o.w_size*2),o.head=new L.Buf16(o.hash_size),o.prev=new L.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new L.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=a,o.strategy=n,o.method=t,ra(e)}function zn(e,a){return aa(e,a,ut,pn,gn,un)}function Dn(e,a){var t,r,i,n;if(!e||!e.state||a>$r||a<0)return e?ue(e,P):P;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Pe&&a!==ce)return ue(e,e.avail_out===0?Pt:P);if(r.strm=e,t=r.last_flush,r.last_flush=a,r.status===ct)if(r.wrap===2)e.adler=0,S(r,31),S(r,139),S(r,8),r.gzhead?(S(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),S(r,r.gzhead.time&255),S(r,r.gzhead.time>>8&255),S(r,r.gzhead.time>>16&255),S(r,r.gzhead.time>>24&255),S(r,r.level===9?2:r.strategy>=lt||r.level<2?4:0),S(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(S(r,r.gzhead.extra.length&255),S(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=le(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Kt):(S(r,0),S(r,0),S(r,0),S(r,0),S(r,0),S(r,r.level===9?2:r.strategy>=lt||r.level<2?4:0),S(r,kn),r.status=ge);else{var s=ut+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=lt||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,s|=o<<6,r.strstart!==0&&(s|=mn),s+=31-s%31,r.status=ge,Ze(r,s),r.strstart!==0&&(Ze(r,e.adler>>>16),Ze(r,e.adler&65535)),e.adler=1}if(r.status===Kt)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=le(e.adler,r.pending_buf,r.pending-i,i)),fe(e),i=r.pending,r.pending===r.pending_buf_size));)S(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=le(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=ft)}else r.status=ft;if(r.status===ft)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=le(e.adler,r.pending_buf,r.pending-i,i)),fe(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.name.length?n=r.gzhead.name.charCodeAt(r.gzindex++)&255:n=0,S(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=le(e.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.gzindex=0,r.status=ht)}else r.status=ht;if(r.status===ht)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=le(e.adler,r.pending_buf,r.pending-i,i)),fe(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.comment.length?n=r.gzhead.comment.charCodeAt(r.gzindex++)&255:n=0,S(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=le(e.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.status=dt)}else r.status=dt;if(r.status===dt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&fe(e),r.pending+2<=r.pending_buf_size&&(S(r,e.adler&255),S(r,e.adler>>8&255),e.adler=0,r.status=ge)):r.status=ge),r.pending!==0){if(fe(e),e.avail_out===0)return r.last_flush=-1,Y}else if(e.avail_in===0&&Qr(a)<=Qr(t)&&a!==ce)return ue(e,Pt);if(r.status===Pe&&e.avail_in!==0)return ue(e,Pt);if(e.avail_in!==0||r.lookahead!==0||a!==be&&r.status!==Pe){var h=r.strategy===lt?En(r,a):r.strategy===hn?Cn(r,a):Ee[r.level].func(r,a);if((h===we||h===Te)&&(r.status=Pe),h===z||h===we)return e.avail_out===0&&(r.last_flush=-1),Y;if(h===Me&&(a===nn?Z._tr_align(r):a!==$r&&(Z._tr_stored_block(r,0,0,!1),a===sn&&(he(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),fe(e),e.avail_out===0))return r.last_flush=-1,Y}return a!==ce?Y:r.wrap<=0?Vr:(r.wrap===2?(S(r,e.adler&255),S(r,e.adler>>8&255),S(r,e.adler>>16&255),S(r,e.adler>>24&255),S(r,e.total_in&255),S(r,e.total_in>>8&255),S(r,e.total_in>>16&255),S(r,e.total_in>>24&255)):(Ze(r,e.adler>>>16),Ze(r,e.adler&65535)),fe(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Y:Vr)}function Bn(e){var a;return!e||!e.state?P:(a=e.state.status,a!==ct&&a!==Kt&&a!==ft&&a!==ht&&a!==dt&&a!==ge&&a!==Pe?ue(e,P):(e.state=null,a===ge?ue(e,on):Y))}function On(e,a){var t=a.length,r,i,n,s,o,h,l,f;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==ct||r.lookahead))return P;for(s===1&&(e.adler=Jr(e.adler,a,t,0)),r.wrap=0,t>=r.w_size&&(s===0&&(he(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new L.Buf8(r.w_size),L.arraySet(f,a,t-r.w_size,r.w_size,0),a=f,t=r.w_size),o=e.avail_in,h=e.next_in,l=e.input,e.avail_in=t,e.next_in=0,e.input=a,ve(r);r.lookahead>=m;){i=r.strstart,n=r.lookahead-(m-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+m-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--n);r.strstart=i,r.lookahead=m-1,ve(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=m-1,r.match_available=0,e.next_in=h,e.input=l,e.avail_in=o,r.wrap=s,Y}$.deflateInit=zn;$.deflateInit2=aa;$.deflateReset=ra;$.deflateResetKeep=ta;$.deflateSetHeader=Hn;$.deflate=Dn;$.deflateEnd=Bn;$.deflateSetDictionary=On;$.deflateInfo="pako deflate (from Nodeca project)"});var Xt=D(Ie=>{"use strict";var _t=ee(),na=!0,sa=!0;try{String.fromCharCode.apply(null,[0])}catch{na=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{sa=!1}var qe=new _t.Buf8(256);for(re=0;re<256;re++)qe[re]=re>=252?6:re>=248?5:re>=240?4:re>=224?3:re>=192?2:1;var re;qe[254]=qe[254]=1;Ie.string2buf=function(e){var a,t,r,i,n,s=e.length,o=0;for(i=0;i<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(a=new _t.Buf8(o),n=0,i=0;n<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?a[n++]=t:t<2048?(a[n++]=192|t>>>6,a[n++]=128|t&63):t<65536?(a[n++]=224|t>>>12,a[n++]=128|t>>>6&63,a[n++]=128|t&63):(a[n++]=240|t>>>18,a[n++]=128|t>>>12&63,a[n++]=128|t>>>6&63,a[n++]=128|t&63);return a};function oa(e,a){if(a<65534&&(e.subarray&&sa||!e.subarray&&na))return String.fromCharCode.apply(null,_t.shrinkBuf(e,a));for(var t="",r=0;r<a;r++)t+=String.fromCharCode(e[r]);return t}Ie.buf2binstring=function(e){return oa(e,e.length)};Ie.binstring2buf=function(e){for(var a=new _t.Buf8(e.length),t=0,r=a.length;t<r;t++)a[t]=e.charCodeAt(t);return a};Ie.buf2string=function(e,a){var t,r,i,n,s=a||e.length,o=new Array(s*2);for(r=0,t=0;t<s;){if(i=e[t++],i<128){o[r++]=i;continue}if(n=qe[i],n>4){o[r++]=65533,t+=n-1;continue}for(i&=n===2?31:n===3?15:7;n>1&&t<s;)i=i<<6|e[t++]&63,n--;if(n>1){o[r++]=65533;continue}i<65536?o[r++]=i:(i-=65536,o[r++]=55296|i>>10&1023,o[r++]=56320|i&1023)}return oa(o,r)};Ie.utf8border=function(e,a){var t;for(a=a||e.length,a>e.length&&(a=e.length),t=a-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?a:t+qe[e[t]]>a?t:a}});var jt=D((js,la)=>{"use strict";function Ln(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}la.exports=Ln});var ua=D(je=>{"use strict";var Ke=ia(),Xe=ee(),Yt=Xt(),$t=ot(),Un=jt(),da=Object.prototype.toString,Fn=0,Gt=4,He=0,fa=1,ha=2,Wn=-1,Nn=0,Zn=8;function ye(e){if(!(this instanceof ye))return new ye(e);this.options=Xe.assign({level:Wn,method:Zn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Nn,to:""},e||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Un,this.strm.avail_out=0;var t=Ke.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(t!==He)throw new Error($t[t]);if(a.header&&Ke.deflateSetHeader(this.strm,a.header),a.dictionary){var r;if(typeof a.dictionary=="string"?r=Yt.string2buf(a.dictionary):da.call(a.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(a.dictionary):r=a.dictionary,t=Ke.deflateSetDictionary(this.strm,r),t!==He)throw new Error($t[t]);this._dict_set=!0}}ye.prototype.push=function(e,a){var t=this.strm,r=this.options.chunkSize,i,n;if(this.ended)return!1;n=a===~~a?a:a===!0?Gt:Fn,typeof e=="string"?t.input=Yt.string2buf(e):da.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new Xe.Buf8(r),t.next_out=0,t.avail_out=r),i=Ke.deflate(t,n),i!==fa&&i!==He)return this.onEnd(i),this.ended=!0,!1;(t.avail_out===0||t.avail_in===0&&(n===Gt||n===ha))&&(this.options.to==="string"?this.onData(Yt.buf2binstring(Xe.shrinkBuf(t.output,t.next_out))):this.onData(Xe.shrinkBuf(t.output,t.next_out)))}while((t.avail_in>0||t.avail_out===0)&&i!==fa);return n===Gt?(i=Ke.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===He):(n===ha&&(this.onEnd(He),t.avail_out=0),!0)};ye.prototype.onData=function(e){this.chunks.push(e)};ye.prototype.onEnd=function(e){e===He&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Xe.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Vt(e,a){var t=new ye(a);if(t.push(e,!0),t.err)throw t.msg||$t[t.err];return t.result}function Pn(e,a){return a=a||{},a.raw=!0,Vt(e,a)}function Mn(e,a){return a=a||{},a.gzip=!0,Vt(e,a)}je.Deflate=ye;je.deflate=Vt;je.deflateRaw=Pn;je.gzip=Mn});var _a=D((Ys,ca)=>{"use strict";var pt=30,qn=12;ca.exports=function(a,t){var r,i,n,s,o,h,l,f,w,u,d,p,_,y,g,R,E,x,c,C,k,v,A,I,b;r=a.state,i=a.next_in,I=a.input,n=i+(a.avail_in-5),s=a.next_out,b=a.output,o=s-(t-a.avail_out),h=s+(a.avail_out-257),l=r.dmax,f=r.wsize,w=r.whave,u=r.wnext,d=r.window,p=r.hold,_=r.bits,y=r.lencode,g=r.distcode,R=(1<<r.lenbits)-1,E=(1<<r.distbits)-1;e:do{_<15&&(p+=I[i++]<<_,_+=8,p+=I[i++]<<_,_+=8),x=y[p&R];t:for(;;){if(c=x>>>24,p>>>=c,_-=c,c=x>>>16&255,c===0)b[s++]=x&65535;else if(c&16){C=x&65535,c&=15,c&&(_<c&&(p+=I[i++]<<_,_+=8),C+=p&(1<<c)-1,p>>>=c,_-=c),_<15&&(p+=I[i++]<<_,_+=8,p+=I[i++]<<_,_+=8),x=g[p&E];r:for(;;){if(c=x>>>24,p>>>=c,_-=c,c=x>>>16&255,c&16){if(k=x&65535,c&=15,_<c&&(p+=I[i++]<<_,_+=8,_<c&&(p+=I[i++]<<_,_+=8)),k+=p&(1<<c)-1,k>l){a.msg="invalid distance too far back",r.mode=pt;break e}if(p>>>=c,_-=c,c=s-o,k>c){if(c=k-c,c>w&&r.sane){a.msg="invalid distance too far back",r.mode=pt;break e}if(v=0,A=d,u===0){if(v+=f-c,c<C){C-=c;do b[s++]=d[v++];while(--c);v=s-k,A=b}}else if(u<c){if(v+=f+u-c,c-=u,c<C){C-=c;do b[s++]=d[v++];while(--c);if(v=0,u<C){c=u,C-=c;do b[s++]=d[v++];while(--c);v=s-k,A=b}}}else if(v+=u-c,c<C){C-=c;do b[s++]=d[v++];while(--c);v=s-k,A=b}for(;C>2;)b[s++]=A[v++],b[s++]=A[v++],b[s++]=A[v++],C-=3;C&&(b[s++]=A[v++],C>1&&(b[s++]=A[v++]))}else{v=s-k;do b[s++]=b[v++],b[s++]=b[v++],b[s++]=b[v++],C-=3;while(C>2);C&&(b[s++]=b[v++],C>1&&(b[s++]=b[v++]))}}else if((c&64)===0){x=g[(x&65535)+(p&(1<<c)-1)];continue r}else{a.msg="invalid distance code",r.mode=pt;break e}break}}else if((c&64)===0){x=y[(x&65535)+(p&(1<<c)-1)];continue t}else if(c&32){r.mode=qn;break e}else{a.msg="invalid literal/length code",r.mode=pt;break e}break}}while(i<n&&s<h);C=_>>3,i-=C,_-=C<<3,p&=(1<<_)-1,a.next_in=i,a.next_out=s,a.avail_in=i<n?5+(n-i):5-(i-n),a.avail_out=s<h?257+(h-s):257-(s-h),r.hold=p,r.bits=_}});var xa=D(($s,ya)=>{"use strict";var pa=ee(),ze=15,ga=852,wa=592,va=0,Qt=1,ba=2,Kn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Xn=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],jn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Gn=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ya.exports=function(a,t,r,i,n,s,o,h){var l=h.bits,f=0,w=0,u=0,d=0,p=0,_=0,y=0,g=0,R=0,E=0,x,c,C,k,v,A=null,I=0,b,q=new pa.Buf16(ze+1),tt=new pa.Buf16(ze+1),rt=null,yr=0,xr,at,it;for(f=0;f<=ze;f++)q[f]=0;for(w=0;w<i;w++)q[t[r+w]]++;for(p=l,d=ze;d>=1&&q[d]===0;d--);if(p>d&&(p=d),d===0)return n[s++]=1<<24|64<<16|0,n[s++]=1<<24|64<<16|0,h.bits=1,0;for(u=1;u<d&&q[u]===0;u++);for(p<u&&(p=u),g=1,f=1;f<=ze;f++)if(g<<=1,g-=q[f],g<0)return-1;if(g>0&&(a===va||d!==1))return-1;for(tt[1]=0,f=1;f<ze;f++)tt[f+1]=tt[f]+q[f];for(w=0;w<i;w++)t[r+w]!==0&&(o[tt[t[r+w]]++]=w);if(a===va?(A=rt=o,b=19):a===Qt?(A=Kn,I-=257,rt=Xn,yr-=257,b=256):(A=jn,rt=Gn,b=-1),E=0,w=0,f=u,v=s,_=p,y=0,C=-1,R=1<<p,k=R-1,a===Qt&&R>ga||a===ba&&R>wa)return 1;for(;;){xr=f-y,o[w]<b?(at=0,it=o[w]):o[w]>b?(at=rt[yr+o[w]],it=A[I+o[w]]):(at=32+64,it=0),x=1<<f-y,c=1<<_,u=c;do c-=x,n[v+(E>>y)+c]=xr<<24|at<<16|it|0;while(c!==0);for(x=1<<f-1;E&x;)x>>=1;if(x!==0?(E&=x-1,E+=x):E=0,w++,--q[f]===0){if(f===d)break;f=t[r+o[w]]}if(f>p&&(E&k)!==C){for(y===0&&(y=p),v+=u,_=f-y,g=1<<_;_+y<d&&(g-=q[_+y],!(g<=0));)_++,g<<=1;if(R+=1<<_,a===Qt&&R>ga||a===ba&&R>wa)return 1;C=E&k,n[C]=p<<24|_<<16|v-s|0}}return E!==0&&(n[v+E]=f-y<<24|64<<16|0),h.bits=p,0}});var ri=D(X=>{"use strict";var W=ee(),ir=Nt(),V=Zt(),Yn=_a(),Ge=xa(),$n=0,ja=1,Ga=2,Ra=4,Vn=5,gt=6,xe=0,Qn=1,Jn=2,M=-2,Ya=-3,nr=-4,es=-5,ma=8,$a=1,ka=2,Aa=3,Sa=4,Ca=5,Ea=6,Ta=7,Ia=8,Ha=9,za=10,bt=11,ae=12,Jt=13,Da=14,er=15,Ba=16,Oa=17,La=18,Ua=19,wt=20,vt=21,Fa=22,Wa=23,Na=24,Za=25,Pa=26,tr=27,Ma=28,qa=29,T=30,sr=31,ts=32,rs=852,as=592,is=15,ns=is;function Ka(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function ss(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new W.Buf16(320),this.work=new W.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Va(e){var a;return!e||!e.state?M:(a=e.state,e.total_in=e.total_out=a.total=0,e.msg="",a.wrap&&(e.adler=a.wrap&1),a.mode=$a,a.last=0,a.havedict=0,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new W.Buf32(rs),a.distcode=a.distdyn=new W.Buf32(as),a.sane=1,a.back=-1,xe)}function Qa(e){var a;return!e||!e.state?M:(a=e.state,a.wsize=0,a.whave=0,a.wnext=0,Va(e))}function Ja(e,a){var t,r;return!e||!e.state||(r=e.state,a<0?(t=0,a=-a):(t=(a>>4)+1,a<48&&(a&=15)),a&&(a<8||a>15))?M:(r.window!==null&&r.wbits!==a&&(r.window=null),r.wrap=t,r.wbits=a,Qa(e))}function ei(e,a){var t,r;return e?(r=new ss,e.state=r,r.window=null,t=Ja(e,a),t!==xe&&(e.state=null),t):M}function os(e){return ei(e,ns)}var Xa=!0,rr,ar;function ls(e){if(Xa){var a;for(rr=new W.Buf32(512),ar=new W.Buf32(32),a=0;a<144;)e.lens[a++]=8;for(;a<256;)e.lens[a++]=9;for(;a<280;)e.lens[a++]=7;for(;a<288;)e.lens[a++]=8;for(Ge(ja,e.lens,0,288,rr,0,e.work,{bits:9}),a=0;a<32;)e.lens[a++]=5;Ge(Ga,e.lens,0,32,ar,0,e.work,{bits:5}),Xa=!1}e.lencode=rr,e.lenbits=9,e.distcode=ar,e.distbits=5}function ti(e,a,t,r){var i,n=e.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new W.Buf8(n.wsize)),r>=n.wsize?(W.arraySet(n.window,a,t-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):(i=n.wsize-n.wnext,i>r&&(i=r),W.arraySet(n.window,a,t-r,i,n.wnext),r-=i,r?(W.arraySet(n.window,a,t-r,r,0),n.wnext=r,n.whave=n.wsize):(n.wnext+=i,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=i))),0}function fs(e,a){var t,r,i,n,s,o,h,l,f,w,u,d,p,_,y=0,g,R,E,x,c,C,k,v,A=new W.Buf8(4),I,b,q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return M;t=e.state,t.mode===ae&&(t.mode=Jt),s=e.next_out,i=e.output,h=e.avail_out,n=e.next_in,r=e.input,o=e.avail_in,l=t.hold,f=t.bits,w=o,u=h,v=xe;e:for(;;)switch(t.mode){case $a:if(t.wrap===0){t.mode=Jt;break}for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(t.wrap&2&&l===35615){t.check=0,A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0),l=0,f=0,t.mode=ka;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=T;break}if((l&15)!==ma){e.msg="unknown compression method",t.mode=T;break}if(l>>>=4,f-=4,k=(l&15)+8,t.wbits===0)t.wbits=k;else if(k>t.wbits){e.msg="invalid window size",t.mode=T;break}t.dmax=1<<k,e.adler=t.check=1,t.mode=l&512?za:ae,l=0,f=0;break;case ka:for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==ma){e.msg="unknown compression method",t.mode=T;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=T;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0)),l=0,f=0,t.mode=Aa;case Aa:for(;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,t.check=V(t.check,A,4,0)),l=0,f=0,t.mode=Sa;case Sa:for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0)),l=0,f=0,t.mode=Ca;case Ca:if(t.flags&1024){for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=V(t.check,A,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=Ea;case Ea:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(k=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),W.arraySet(t.head.extra,r,n,d,k)),t.flags&512&&(t.check=V(t.check,r,d,n)),o-=d,n+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Ta;case Ta:if(t.flags&2048){if(o===0)break e;d=0;do k=r[n+d++],t.head&&k&&t.length<65536&&(t.head.name+=String.fromCharCode(k));while(k&&d<o);if(t.flags&512&&(t.check=V(t.check,r,d,n)),o-=d,n+=d,k)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ia;case Ia:if(t.flags&4096){if(o===0)break e;d=0;do k=r[n+d++],t.head&&k&&t.length<65536&&(t.head.comment+=String.fromCharCode(k));while(k&&d<o);if(t.flags&512&&(t.check=V(t.check,r,d,n)),o-=d,n+=d,k)break e}else t.head&&(t.head.comment=null);t.mode=Ha;case Ha:if(t.flags&512){for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=T;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ae;break;case za:for(;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}e.adler=t.check=Ka(l),l=0,f=0,t.mode=bt;case bt:if(t.havedict===0)return e.next_out=s,e.avail_out=h,e.next_in=n,e.avail_in=o,t.hold=l,t.bits=f,Jn;e.adler=t.check=1,t.mode=ae;case ae:if(a===Vn||a===gt)break e;case Jt:if(t.last){l>>>=f&7,f-=f&7,t.mode=tr;break}for(;f<3;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=Da;break;case 1:if(ls(t),t.mode=wt,a===gt){l>>>=2,f-=2;break e}break;case 2:t.mode=Oa;break;case 3:e.msg="invalid block type",t.mode=T}l>>>=2,f-=2;break;case Da:for(l>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=T;break}if(t.length=l&65535,l=0,f=0,t.mode=er,a===gt)break e;case er:t.mode=Ba;case Ba:if(d=t.length,d){if(d>o&&(d=o),d>h&&(d=h),d===0)break e;W.arraySet(i,r,n,d,s),o-=d,n+=d,h-=d,s+=d,t.length-=d;break}t.mode=ae;break;case Oa:for(;f<14;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=T;break}t.have=0,t.mode=La;case La:for(;t.have<t.ncode;){for(;f<3;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.lens[q[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,I={bits:t.lenbits},v=Ge($n,t.lens,0,19,t.lencode,0,t.work,I),t.lenbits=I.bits,v){e.msg="invalid code lengths set",t.mode=T;break}t.have=0,t.mode=Ua;case Ua:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[l&(1<<t.lenbits)-1],g=y>>>24,R=y>>>16&255,E=y&65535,!(g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(E<16)l>>>=g,f-=g,t.lens[t.have++]=E;else{if(E===16){for(b=g+2;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(l>>>=g,f-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=T;break}k=t.lens[t.have-1],d=3+(l&3),l>>>=2,f-=2}else if(E===17){for(b=g+3;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=g,f-=g,k=0,d=3+(l&7),l>>>=3,f-=3}else{for(b=g+7;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=g,f-=g,k=0,d=11+(l&127),l>>>=7,f-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=T;break}for(;d--;)t.lens[t.have++]=k}}if(t.mode===T)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=T;break}if(t.lenbits=9,I={bits:t.lenbits},v=Ge(ja,t.lens,0,t.nlen,t.lencode,0,t.work,I),t.lenbits=I.bits,v){e.msg="invalid literal/lengths set",t.mode=T;break}if(t.distbits=6,t.distcode=t.distdyn,I={bits:t.distbits},v=Ge(Ga,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,I),t.distbits=I.bits,v){e.msg="invalid distances set",t.mode=T;break}if(t.mode=wt,a===gt)break e;case wt:t.mode=vt;case vt:if(o>=6&&h>=258){e.next_out=s,e.avail_out=h,e.next_in=n,e.avail_in=o,t.hold=l,t.bits=f,Yn(e,u),s=e.next_out,i=e.output,h=e.avail_out,n=e.next_in,r=e.input,o=e.avail_in,l=t.hold,f=t.bits,t.mode===ae&&(t.back=-1);break}for(t.back=0;y=t.lencode[l&(1<<t.lenbits)-1],g=y>>>24,R=y>>>16&255,E=y&65535,!(g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(R&&(R&240)===0){for(x=g,c=R,C=E;y=t.lencode[C+((l&(1<<x+c)-1)>>x)],g=y>>>24,R=y>>>16&255,E=y&65535,!(x+g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=x,f-=x,t.back+=x}if(l>>>=g,f-=g,t.back+=g,t.length=E,R===0){t.mode=Pa;break}if(R&32){t.back=-1,t.mode=ae;break}if(R&64){e.msg="invalid literal/length code",t.mode=T;break}t.extra=R&15,t.mode=Fa;case Fa:if(t.extra){for(b=t.extra;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Wa;case Wa:for(;y=t.distcode[l&(1<<t.distbits)-1],g=y>>>24,R=y>>>16&255,E=y&65535,!(g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if((R&240)===0){for(x=g,c=R,C=E;y=t.distcode[C+((l&(1<<x+c)-1)>>x)],g=y>>>24,R=y>>>16&255,E=y&65535,!(x+g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=x,f-=x,t.back+=x}if(l>>>=g,f-=g,t.back+=g,R&64){e.msg="invalid distance code",t.mode=T;break}t.offset=E,t.extra=R&15,t.mode=Na;case Na:if(t.extra){for(b=t.extra;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=T;break}t.mode=Za;case Za:if(h===0)break e;if(d=u-h,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=T;break}d>t.wnext?(d-=t.wnext,p=t.wsize-d):p=t.wnext-d,d>t.length&&(d=t.length),_=t.window}else _=i,p=s-t.offset,d=t.length;d>h&&(d=h),h-=d,t.length-=d;do i[s++]=_[p++];while(--d);t.length===0&&(t.mode=vt);break;case Pa:if(h===0)break e;i[s++]=t.length,h--,t.mode=vt;break;case tr:if(t.wrap){for(;f<32;){if(o===0)break e;o--,l|=r[n++]<<f,f+=8}if(u-=h,e.total_out+=u,t.total+=u,u&&(e.adler=t.check=t.flags?V(t.check,i,u,s-u):ir(t.check,i,u,s-u)),u=h,(t.flags?l:Ka(l))!==t.check){e.msg="incorrect data check",t.mode=T;break}l=0,f=0}t.mode=Ma;case Ma:if(t.wrap&&t.flags){for(;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=T;break}l=0,f=0}t.mode=qa;case qa:v=Qn;break e;case T:v=Ya;break e;case sr:return nr;case ts:default:return M}return e.next_out=s,e.avail_out=h,e.next_in=n,e.avail_in=o,t.hold=l,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<T&&(t.mode<tr||a!==Ra))&&ti(e,e.output,e.next_out,u-e.avail_out)?(t.mode=sr,nr):(w-=e.avail_in,u-=e.avail_out,e.total_in+=w,e.total_out+=u,t.total+=u,t.wrap&&u&&(e.adler=t.check=t.flags?V(t.check,i,u,e.next_out-u):ir(t.check,i,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ae?128:0)+(t.mode===wt||t.mode===er?256:0),(w===0&&u===0||a===Ra)&&v===xe&&(v=es),v)}function hs(e){if(!e||!e.state)return M;var a=e.state;return a.window&&(a.window=null),e.state=null,xe}function ds(e,a){var t;return!e||!e.state||(t=e.state,(t.wrap&2)===0)?M:(t.head=a,a.done=!1,xe)}function us(e,a){var t=a.length,r,i,n;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==bt)?M:r.mode===bt&&(i=1,i=ir(i,a,t,0),i!==r.check)?Ya:(n=ti(e,a,t,t),n?(r.mode=sr,nr):(r.havedict=1,xe))}X.inflateReset=Qa;X.inflateReset2=Ja;X.inflateResetKeep=Va;X.inflateInit=os;X.inflateInit2=ei;X.inflate=fs;X.inflateEnd=hs;X.inflateGetHeader=ds;X.inflateSetDictionary=us;X.inflateInfo="pako inflate (from Nodeca project)"});var or=D((Qs,ai)=>{"use strict";ai.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var ni=D((Js,ii)=>{"use strict";function cs(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ii.exports=cs});var oi=D($e=>{"use strict";var De=ri(),Ye=ee(),yt=Xt(),H=or(),lr=ot(),_s=jt(),ps=ni(),si=Object.prototype.toString;function Re(e){if(!(this instanceof Re))return new Re(e);this.options=Ye.assign({chunkSize:16384,windowBits:0,to:""},e||{});var a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(e&&e.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _s,this.strm.avail_out=0;var t=De.inflateInit2(this.strm,a.windowBits);if(t!==H.Z_OK)throw new Error(lr[t]);if(this.header=new ps,De.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=yt.string2buf(a.dictionary):si.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(t=De.inflateSetDictionary(this.strm,a.dictionary),t!==H.Z_OK)))throw new Error(lr[t])}Re.prototype.push=function(e,a){var t=this.strm,r=this.options.chunkSize,i=this.options.dictionary,n,s,o,h,l,f=!1;if(this.ended)return!1;s=a===~~a?a:a===!0?H.Z_FINISH:H.Z_NO_FLUSH,typeof e=="string"?t.input=yt.binstring2buf(e):si.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new Ye.Buf8(r),t.next_out=0,t.avail_out=r),n=De.inflate(t,H.Z_NO_FLUSH),n===H.Z_NEED_DICT&&i&&(n=De.inflateSetDictionary(this.strm,i)),n===H.Z_BUF_ERROR&&f===!0&&(n=H.Z_OK,f=!1),n!==H.Z_STREAM_END&&n!==H.Z_OK)return this.onEnd(n),this.ended=!0,!1;t.next_out&&(t.avail_out===0||n===H.Z_STREAM_END||t.avail_in===0&&(s===H.Z_FINISH||s===H.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=yt.utf8border(t.output,t.next_out),h=t.next_out-o,l=yt.buf2string(t.output,o),t.next_out=h,t.avail_out=r-h,h&&Ye.arraySet(t.output,t.output,o,h,0),this.onData(l)):this.onData(Ye.shrinkBuf(t.output,t.next_out))),t.avail_in===0&&t.avail_out===0&&(f=!0)}while((t.avail_in>0||t.avail_out===0)&&n!==H.Z_STREAM_END);return n===H.Z_STREAM_END&&(s=H.Z_FINISH),s===H.Z_FINISH?(n=De.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===H.Z_OK):(s===H.Z_SYNC_FLUSH&&(this.onEnd(H.Z_OK),t.avail_out=0),!0)};Re.prototype.onData=function(e){this.chunks.push(e)};Re.prototype.onEnd=function(e){e===H.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ye.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function fr(e,a){var t=new Re(a);if(t.push(e,!0),t.err)throw t.msg||lr[t.err];return t.result}function gs(e,a){return a=a||{},a.raw=!0,fr(e,a)}$e.Inflate=Re;$e.inflate=fr;$e.inflateRaw=gs;$e.ungzip=fr});var hr=D((to,fi)=>{"use strict";var ws=ee().assign,vs=ua(),bs=oi(),ys=or(),li={};ws(li,vs,bs,ys);fi.exports=li});var ci=D(()=>{});var _i=D((fo,pr)=>{"use strict";(function(){var e,a=0,t=[],r;for(r=0;r<256;r++)t[r]=(r+256).toString(16).substr(1);o.BUFFER_SIZE=4096,o.bin=s,o.clearBuffer=function(){e=null,a=0},o.test=function(h){return typeof h=="string"?/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(h):!1};var i;typeof crypto<"u"?i=crypto:typeof window<"u"&&typeof window.msCrypto<"u"&&(i=window.msCrypto),typeof pr<"u"&&typeof mr=="function"?(i=i||ci(),pr.exports=o):typeof window<"u"&&(window.uuid=o),o.randomBytes=function(){if(i){if(i.randomBytes)return i.randomBytes;if(i.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(h){var l=new Uint8Array(h);return i.getRandomValues(l),Array.from(l)}:function(h){var l=new Uint8Array(h);return i.getRandomValues(l),l}}return function(h){var l,f=[];for(l=0;l<h;l++)f.push(Math.floor(Math.random()*256));return f}}();function n(h){return(!e||a+h>o.BUFFER_SIZE)&&(a=0,e=o.randomBytes(o.BUFFER_SIZE)),e.slice(a,a+=h)}function s(){var h=n(16);return h[6]=h[6]&15|64,h[8]=h[8]&63|128,h}function o(){var h=s();return t[h[0]]+t[h[1]]+t[h[2]]+t[h[3]]+"-"+t[h[4]]+t[h[5]]+"-"+t[h[6]]+t[h[7]]+"-"+t[h[8]]+t[h[9]]+"-"+t[h[10]]+t[h[11]]+t[h[12]]+t[h[13]]+t[h[14]]+t[h[15]]}})()});var di=Tt(hr(),1);function hi(e){let a;typeof e=="string"?a=e:e&&e.length?a=e.reduce((t,r)=>(t+=String.fromCharCode(r),t),""):e?a=e.toString():a="";try{return"__wb_post_data="+btoa(a)}catch{return"__wb_post_data="}}function xs(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rt(e){try{if(!e.startsWith("https:")&&!e.startsWith("http:"))return e;e=e.replace(/^(https?:\/\/)www\d*\./,"$1");let a=e.toLowerCase(),t=new URL(a),i=t.hostname.split(".").reverse().join(",");if(t.port&&(i+=":"+t.port),i+=")",i+=t.pathname,t.search){t.searchParams.sort(),i+=t.search;for(let[n,s]of t.searchParams.entries())if(!s){let o=new RegExp(`(?<=[&?])${xs(n)}=(?=&|$)`);o.exec(a)||(i=i.replace(o,n))}}return i}catch{return e}}function mt(e){let{method:a,headers:t,postData:r}=e;if(a==="GET")return!1;let i=(t.get("content-type")||"").split(";")[0];function n(o){return o instanceof Uint8Array&&(o=new TextDecoder().decode(o)),o}let s="";switch(i){case"application/x-www-form-urlencoded":s=n(r);break;case"application/json":s=xt(n(r));break;case"text/plain":try{s=xt(n(r),!1)}catch{s=hi(r)}break;case"multipart/form-data":{let o=t.get("content-type");if(!o)throw new Error("utils cannot call postToGetURL when missing content-type header");s=_r(n(r),o);break}default:s=hi(r)}return s!==null?(e.url=dr(e.url,s,e.method),e.method="GET",e.requestBody=s,!0):!1}function dr(e,a,t){if(!t)return e;let r=e.indexOf("?")>0?"&":"?";return`${e}${r}__wb_method=${t}&${a}`}function ur(e,a=!0){if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}let t=new URLSearchParams,r={},i=n=>t.has(n)?(n in r||(r[n]=1),n+"."+ ++r[n]+"_"):n;try{JSON.stringify(e,(n,s)=>(["object","function"].includes(typeof s)||t.set(i(n),s),s))}catch(n){if(!a)throw n}return t}function cr(e,a){let t=new URLSearchParams;e instanceof Uint8Array&&(e=new TextDecoder().decode(e));try{let r=a.split("boundary=")[1],i=e.split(new RegExp("-*"+r+"-*","mi"));for(let n of i){let s=n.trim().match(/name="([^"]+)"\r\n\r\n(.*)/im);s&&t.set(s[1],s[2])}}catch{}return t}function xt(e,a=!0){return ur(e,a).toString()}function _r(e,a){return cr(e,a).toString()}function Q(e,a){if(e.length===1)return e[0];let t=new Uint8Array(a),r=0;for(let i of e)t.set(i,r),r+=i.byteLength;return t}function ie(e,a){return[e.slice(0,a),e.slice(a)]}var ui=new TextDecoder("utf-8"),me=class extends di.default.Inflate{constructor(t,r){super(t);this.ended=!1;this.chunks=[];this.reader=r}onEnd(t){this.err=t,this.err||(this.reader._rawOffset+=this.strm.total_in)}},N=class{static async readFully(a){let t=[],r=0;for await(let i of a)t.push(i),r+=i.byteLength;return Q(t,r)}getReadableStream(){let a=this[Symbol.asyncIterator]();return new ReadableStream({pull(t){return a.next().then(r=>{r.done||!r.value?t.close():t.enqueue(r.value)})}})}async readFully(){return await N.readFully(this)}async readline(a=0){let t=await this.readlineRaw(a);return t?ui.decode(t):""}async*iterLines(a=0){let t=null;for(;t=await this.readline(a);)yield t}};function Rs(e){return e&&Symbol.iterator in Object(e)}function ms(e){return e&&Symbol.asyncIterator in Object(e)}var U=class extends N{constructor(t,r="gzip",i=!1){super();this.compressed=r,this.opts={raw:r==="deflateRaw"},this.inflator=r?new me(this.opts,this):null;let n;if(ms(t))n=t;else if(typeof t=="object"&&"read"in t&&typeof t.read=="function")n=U.fromReadable(t);else if(t instanceof ReadableStream)n=U.fromReadable(t.getReader());else if(Rs(t))n=U.fromIter(t);else throw new TypeError("Invalid Stream Source");i?this._sourceIter=this.dechunk(n):this._sourceIter=n[Symbol.asyncIterator](),this.lastValue=null,this.errored=!1,this._savedChunk=null,this._rawOffset=0,this._readOffset=0,this.numChunks=0}async _loadNext(){let t=await this._sourceIter.next();return t.done?null:t.value}async*dechunk(t){let r=t instanceof U?t:new U(t,null),i=-1,n=!0;for(;i!=0;){let s=await r.readlineRaw(64),o=new Uint8Array;if(i=s?parseInt(ui.decode(s),16):0,!i||i>2**32){if(Number.isNaN(i)||i>2**32){n||(this.errored=!0),yield s;break}}else if(o=await r.readSize(i),o.length!=i){n?yield s:this.errored=!0,yield o;break}let h=await r.readSize(2);if(h[0]!=13||h[1]!=10){n?yield s:this.errored=!0,yield o,yield h;break}else{if(n=!1,!o||i===0)return;yield o}}yield*r}unread(t){!t.length||(this._readOffset-=t.length,this._savedChunk&&console.log("Already have chunk!"),this._savedChunk=t)}async _next(){if(this._savedChunk){let r=this._savedChunk;return this._savedChunk=null,r}if(this.compressed){let r=this._getNextChunk();if(r)return r}let t=await this._loadNext();for(;this.compressed&&t;){this._push(t);let r=this._getNextChunk(t);if(r)return r;t=await this._loadNext()}return t}_push(t){if(!this.inflator)throw new Error("AsyncIterReader cannot call _push when this.compressed is null");this.lastValue=t,this.inflator.ended&&(this.inflator=new me(this.opts,this)),this.inflator.push(t),this.inflator.err&&this.inflator.ended&&this.compressed==="deflate"&&this.opts.raw===!1&&this.numChunks===0&&(this.opts.raw=!0,this.compressed="deflateRaw",this.inflator=new me(this.opts,this),this.inflator.push(t))}_getNextChunk(t){if(!this.inflator)throw new Error("AsyncIterReader cannot call _getNextChunk when this.compressed is null");for(;;){if(this.inflator.chunks.length>0)return this.numChunks++,this.inflator.chunks.shift();if(this.inflator.ended){if(this.inflator.err!==0)return this.compressed=null,t;let r=this.inflator.strm.avail_in;if(r&&this.lastValue){this._push(this.lastValue.slice(-r));continue}}return null}}async*[Symbol.asyncIterator](){let t=null;for(;t=await this._next();)this._readOffset+=t.length,yield t}async readlineRaw(t){let r=[],i=0,n=-1,s=null;for await(let o of this){if(t&&i+o.byteLength>t){s=o,n=t-i-1;let h=o.slice(0,n+1).indexOf(10);h>=0&&(n=h);break}if(n=o.indexOf(10),n>=0){s=o;break}r.push(o),i+=o.byteLength}if(s){let[o,h]=ie(s,n+1);r.push(o),i+=o.byteLength,this.unread(h)}else if(!r.length)return null;return Q(r,i)}async readFully(){return(await this._readOrSkip())[1]}async readSize(t){return(await this._readOrSkip(t))[1]}async skipSize(t){return(await this._readOrSkip(t,!0))[0]}async _readOrSkip(t=-1,r=!1){let i=[],n=0;for await(let s of this){if(t>=0)if(s.length>t){let[o,h]=ie(s,t);r||i.push(o),n+=o.byteLength,this.unread(h);break}else if(s.length===t){r||i.push(s),n+=s.byteLength,t=0;break}else t-=s.length;r||i.push(s),n+=s.byteLength}return r?[n,new Uint8Array]:[n,Q(i,n)]}getReadOffset(){return this._readOffset}getRawOffset(){return this.compressed?this._rawOffset:this._readOffset}getRawLength(t){return this.compressed?this.inflator.strm.total_in:this._readOffset-t}static fromReadable(t){return{async*[Symbol.asyncIterator](){let i=null;for(;(i=await t.read())&&!i.done;)yield i.value}}}static fromIter(t){return{async*[Symbol.asyncIterator](){for(let i of t)yield i}}}},ne=class extends N{constructor(t,r,i=0){super();this.sourceIter=t,this.length=r,this.limit=r,this.skip=i}setLimitSkip(t,r=0){this.limit=t,this.skip=r}async*[Symbol.asyncIterator](){if(!(this.limit<=0))for await(let t of this.sourceIter){if(this.skip>0)if(t.length>=this.skip){let[,r]=ie(t,this.skip);t=r,this.skip=0}else{this.skip-=t.length;continue}if(t.length>this.limit){let[r,i]=ie(t,this.limit);t=r,this.sourceIter.unread&&this.sourceIter.unread(i)}if(t.length&&(this.limit-=t.length,yield t),this.limit<=0)break}}async readlineRaw(t){if(this.limit<=0)return null;let r=await this.sourceIter.readlineRaw(t?Math.min(t,this.limit):this.limit);return this.limit-=r?.length||0,r}async skipFully(){let t=this.limit;for(;this.limit>0;)this.limit-=await this.sourceIter.skipSize(this.limit);return t}};var Ve=new Uint8Array([13,10]),kt=new Uint8Array([13,10,13,10]),ks=new TextDecoder("utf-8"),_e=class{constructor({statusline:a,headers:t}){this.statusline=a,this.headers=t}toString(){let a=[this.statusline];for(let[t,r]of this.headers)a.push(`${t}: ${r}`);return a.join(`\r
`)+`\r
`}async*iterSerialize(a){yield a.encode(this.statusline),yield Ve;for(let[t,r]of this.headers)yield a.encode(`${t}: ${r}\r
`)}_parseResponseStatusLine(){let a=As(this.statusline," ",2);this._protocol=a[0]??"",this._statusCode=a.length>1?Number(a[1]):"",this._statusText=a.length>2?a[2]:""}get statusCode(){return this._statusCode===void 0&&this._parseResponseStatusLine(),this._statusCode}get protocol(){return this._protocol===void 0&&this._parseResponseStatusLine(),this._protocol}get statusText(){return this._statusText===void 0&&this._parseResponseStatusLine(),this._statusText}_parseRequestStatusLine(){let a=this.statusline.split(" ",2);this._method=a[0]??"",this._requestPath=a.length>1?a[1]:""}get method(){return this._method===void 0&&this._parseRequestStatusLine(),this._method}get requestPath(){return this._requestPath===void 0&&this._parseRequestStatusLine(),this._requestPath}},Be=class{async parse(a,{headersClass:t,firstLine:r}={headersClass:Map}){let i=r||await a.readline();if(!i)return null;let n=i.trimEnd();if(!n)return null;let s=new t,o=await Cs(a),h=0,l,f,w,u="",d;for(;h<o.length;){if(w=o.indexOf(`
`,h),d&&(o[h]===" "||o[h]==="	"))d+=o.slice(h,w<0?void 0:w).trimEnd();else{if(d){try{s.set(u,d)}catch{}d=null}l=o.indexOf(":",h),f=l<0?h:l+1,l>=0&&l<w?(u=o.slice(h,l).trimStart(),d=o.slice(f,w<0?void 0:w).trim()):d=null}if(w<0)break;h=w+1}if(d)try{s.set(u,d)}catch{}return new _e({statusline:n,headers:s})}};function As(e,a,t){let r=e.split(a),i=r.slice(0,t);return r.slice(t).length>0&&i.push(r.slice(t).join(a)),i}async function Ss(e,a){let t=0;for(let r=0;r<e.length-4;r++){let i=e.indexOf(13,t);if(i<0)break;if(i+3>=e.length){let{value:n}=await a.next();if(!n)break;let s=new Uint8Array(n.length+e.length);s.set(e,0),s.set(n,e.length),e=s}if(e[i+1]===10&&e[i+2]===13&&e[i+3]===10)return[i+3,e];t=i+1}return[-1,e]}async function Cs(e){let a=[],t=0,r=0,i=null,n=e[Symbol.asyncIterator]();for await(let s of n){if([r,s]=await Ss(s,n),r>=0){i=s;break}a.push(s),t+=s.byteLength}if(i){let[s,o]=ie(i,r+1);a.push(s),t+=s.byteLength,e.unread(o)}else if(!a.length)return"";return ks.decode(Q(a,t))}var pi=Tt(_i(),1);var Es=new TextDecoder("utf-8"),Ts=new TextEncoder,gr="WARC/1.1",At="WARC/1.0",Is="http://netpreserve.org/warc/1.0/revisit/identical-payload-digest",Hs="http://netpreserve.org/warc/1.1/revisit/identical-payload-digest",zs={warcinfo:"application/warc-fields",response:"application/http; msgtype=response",revisit:"application/http; msgtype=response",request:"application/http; msgtype=request",metadata:"application/warc-fields"},J=class extends N{constructor({warcHeaders:t,reader:r}){super();this._offset=0;this._length=0;this.method="";this.requestBody="";this._urlkey="";this.warcHeaders=t,this._reader=r,this._contentReader=null,this.payload=null,this.httpHeaders=null,this.consumed="",this.fixUp()}static create({url:t,date:r,type:i,warcHeaders:n={},filename:s="",httpHeaders:o={},statusline:h="HTTP/1.1 200 OK",warcVersion:l=At,keepHeadersCase:f=!0,refersToUrl:w=void 0,refersToDate:u=void 0}={},d){function p(R){let E=R;return l===At&&(R=R.split(".")[0],R.charAt(E.length-1)!="Z"&&(R+="Z")),R}r=p(r||new Date().toISOString()),n={...n},i==="warcinfo"?s&&(n["WARC-Filename"]=s):n["WARC-Target-URI"]=t,n["WARC-Date"]=r,n["WARC-Type"]=i,i==="revisit"&&(n["WARC-Profile"]=l===gr?Hs:Is,n["WARC-Refers-To-Target-URI"]=w,n["WARC-Refers-To-Date"]=p(u||new Date().toISOString())),n=new _e({statusline:l,headers:f?new Map(Object.entries(n)):new Headers(n)}),n.headers.get("WARC-Record-ID")||n.headers.set("WARC-Record-ID",`<urn:uuid:${(0,pi.default)()}>`),n.headers.get("Content-Type")||n.headers.set("Content-Type",i&&zs[i]||"application/octet-stream"),d||(d=async function*(){}());let _=new J({warcHeaders:n,reader:d}),y=null,g=[];switch(i){case"response":case"request":case"revisit":g=Object.entries(o),y=f?new Map(g):new Headers(o),(g.length>0||i!=="revisit")&&(_.httpHeaders=new _e({statusline:h,headers:y}));break}return _}static createWARCInfo(t={},r){async function*i(){for(let[n,s]of Object.entries(r))yield Ts.encode(`${n}: ${s}\r
`)}return t.type="warcinfo",J.create(t,i())}getResponseInfo(){let t=this.httpHeaders;return t?{headers:t.headers,status:t.statusCode,statusText:t.statusText}:null}fixUp(){let t=this.warcHeaders.headers.get("WARC-Target-URI");t&&t.startsWith("<")&&t.endsWith(">")&&this.warcHeaders.headers.set("WARC-Target-URI",t.slice(1,-1))}async readFully(t=!1){if(this.httpHeaders){if(this.payload&&!this.payload.length)return this.payload;if(this._contentReader&&!t)throw new TypeError("WARC Record decoding already started, but requesting raw payload");if(t&&this.consumed==="raw"&&this.payload)return await this._createDecodingReader([this.payload]).readFully()}return this.payload?this.payload:(t?(this.payload=await super.readFully(),this.consumed="content"):(this.payload=await J.readFully(this._reader),this.consumed="raw"),this.payload)}get reader(){if(this._contentReader)throw new TypeError("WARC Record decoding already started, but requesting raw payload");return this._reader}get contentReader(){return this.httpHeaders?(this._contentReader||(this._contentReader=this._createDecodingReader(this._reader)),this._contentReader):this._reader}_createDecodingReader(t){if(!this.httpHeaders)throw new Error("WARCRecord cannot call _createDecodingReader when this.httpHeaders === null");let r=this.httpHeaders.headers.get("Content-Encoding"),i=this.httpHeaders.headers.get("Transfer-Encoding"),n=i==="chunked";return!r&&!n&&(r=i),new U(t,r,n)}async readlineRaw(t){if(this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");if(this.contentReader instanceof N)return this.contentReader.readlineRaw(t);throw new Error("WARCRecord cannot call readlineRaw on this.contentReader if it does not extend BaseAsyncIterReader")}async contentText(){let t=await this.readFully(!0);return Es.decode(t)}async*[Symbol.asyncIterator](){for await(let t of this.contentReader)if(yield t,this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");this.consumed="content"}async skipFully(){if(!this.consumed){if(this._reader instanceof ne){let t=await this._reader.skipFully();return this.consumed="skipped",t}throw new Error("WARCRecord cannot call skipFully on this._reader if it is not a LimitReader")}}warcHeader(t){return this.warcHeaders.headers.get(t)}get warcType(){return this.warcHeaders.headers.get("WARC-Type")}get warcTargetURI(){return this.warcHeaders.headers.get("WARC-Target-URI")}get warcDate(){return this.warcHeaders.headers.get("WARC-Date")}get warcRefersToTargetURI(){return this.warcHeaders.headers.get("WARC-Refers-To-Target-URI")}get warcRefersToDate(){return this.warcHeaders.headers.get("WARC-Refers-To-Date")}get warcPayloadDigest(){return this.warcHeaders.headers.get("WARC-Payload-Digest")}get warcBlockDigest(){return this.warcHeaders.headers.get("WARC-Block-Digest")}get warcContentType(){return this.warcHeaders.headers.get("Content-Type")}get warcContentLength(){return Number(this.warcHeaders.headers.get("Content-Length"))}};var gi=new TextDecoder,wr=new Uint8Array([]),se=class{static parse(a,t){return new se(a,t).parse()}static iterRecords(a,t){return new se(a,t)[Symbol.asyncIterator]()}constructor(a,{keepHeadersCase:t=!1,parseHttp:r=!0}={}){this._offset=0,this._warcHeadersLength=0,this._headersClass=t?Map:Headers,this._parseHttp=r,a instanceof U?this._reader=a:this._reader=new U(a),this._record=null}async readToNextRecord(){if(!this._reader||!this._record)return wr;await this._record.skipFully(),this._reader.compressed&&(this._offset=this._reader.getRawOffset());let a=await this._reader.readlineRaw(),t=0;if(!a)a=wr;else{if(t=a.byteLength-1,t===9&&gi.decode(a).startsWith("WARC/"))return a;for(;t>0;){let r=a[t-1];if(r!==10&&r!==13)break;t--}t&&console.warn(`Content-Length Too Small: Record not followed by newline, Remainder Length: ${t}, Offset: ${this._reader.getRawOffset()-a.byteLength}`)}if(this._reader.compressed)await this._reader.skipSize(2),a=wr;else{for(a=await this._reader.readlineRaw();a&&a.byteLength===2;)a=await this._reader.readlineRaw();this._offset=this._reader.getRawOffset(),a&&(this._offset-=a.length)}return a}_initRecordReader(a){return new ne(this._reader,Number(a.headers.get("Content-Length")||0))}async parse(){let a=await this.readToNextRecord(),t=a?gi.decode(a):"",r=new Be,i=await r.parse(this._reader,{firstLine:t,headersClass:this._headersClass});if(!i)return null;this._warcHeadersLength=this._reader.getReadOffset();let n=new J({warcHeaders:i,reader:this._initRecordReader(i)});if(this._record=n,this._parseHttp)switch(n.warcType){case"response":case"request":await this._addHttpHeaders(n,r);break;case"revisit":n.warcContentLength>0&&await this._addHttpHeaders(n,r);break}return n}get offset(){return this._offset}get recordLength(){return this._reader.getRawLength(this._offset)}async*[Symbol.asyncIterator](){let a=null;for(;(a=await this.parse())!==null;)yield a;this._record=null}async _addHttpHeaders(a,t){let r=await t.parse(this._reader,{headersClass:this._headersClass});a.httpHeaders=r;let i=this._reader.getReadOffset()-this._warcHeadersLength;a.reader instanceof ne&&a.reader.setLimitSkip(a.warcContentLength-i)}};function vr(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}var Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Bs="0123456789ABCDEFGHIJKLMNOPQRSTUV",Os="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function Qe(e,a,t){t=t||{};let r,i;switch(a){case"RFC3548":case"RFC4648":r=Ds,i=!0;break;case"RFC4648-HEX":r=Bs,i=!0;break;case"Crockford":r=Os,i=!1;break;default:throw new Error("Unknown base32 variant: "+a)}let n=t.padding!==void 0?t.padding:i,s=vr(e),o=0,h=0,l="";for(let f=0;f<s.byteLength;f++)for(h=h<<8|s.getUint8(f),o+=8;o>=5;)l+=r[h>>>o-5&31],o-=5;if(o>0&&(l+=r[h<<5-o&31]),n)for(;l.length%8!==0;)l+="=";return l}var vi=Tt(hr(),1);var wi=new TextEncoder,oe=class extends N{constructor(t,r={}){super();this.gzip=!1;this.digestAlgo="";this.digestAlgoPrefix="";this.digestBase32=!1;this.record=t,this.gzip=Boolean(r.gzip);let i=r&&r.digest||{};t.warcType!=="revisit"&&t.warcType!=="warcinfo"&&(!t.warcPayloadDigest||!t.warcBlockDigest)?(this.digestAlgo=i?.algo||"sha-256",this.digestAlgoPrefix=i?.prefix||"sha256:",this.digestBase32=Boolean(i?.base32)):this.digestAlgo=""}static async serialize(t,r){return await new oe(t,r).readFully()}static base16(t){return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}async*[Symbol.asyncIterator](){if(!this.gzip){yield*this.generateRecord();return}let t=null;"CompressionStream"in globalThis?(t=new globalThis.CompressionStream("gzip"),yield*this.streamCompress(t)):yield*this.pakoCompress()}async readlineRaw(t){return null}async*pakoCompress(){let t=new vi.default.Deflate({gzip:!0}),r=null;for await(let i of this.generateRecord())for(r&&r.length>0&&t.push(r),r=i;t.chunks.length;)yield t.chunks.shift();r&&t.push(r,!0),yield t.result}async*streamCompress(t){let r=this.generateRecord();new ReadableStream({async pull(o){let h=await r.next();h.done?o.close():o.enqueue(h.value)}}).pipeThrough(t);let n=null,s=t.readable.getReader();for(;(n=await s.read())&&!n.done;)yield n.value}async digestMessage(t){let r=await crypto.subtle.digest(this.digestAlgo,t);return this.digestAlgoPrefix+(this.digestBase32?Qe(r,"RFC4648"):oe.base16(r))}async*generateRecord(){let t=0,r=null;this.record.httpHeaders&&(r=wi.encode(this.record.httpHeaders.toString()+`\r
`),t+=r.length);let i=await this.record.readFully();if(t+=i.length,this.digestAlgo){let s=await this.digestMessage(i),o=r?await this.digestMessage(Q([r,i],t)):s;this.record.warcHeaders.headers.set("WARC-Payload-Digest",s),this.record.warcHeaders.headers.set("WARC-Block-Digest",o)}this.record.warcHeaders.headers.set("Content-Length",t.toString()),yield wi.encode(this.record.warcHeaders.toString()),yield Ve,r&&(yield r),yield i,yield kt}};import{createSHA1 as bi,createSHA256 as yi}from"hash-wasm";var xi=new TextEncoder,St=class{async write(a){}async*readAll(){}},Ct=class extends oe{constructor(t,r,i={}){super(t,i);this.blockHasher=null;this.payloadHasher=null;this.httpHeadersBuff=null;this.warcHeadersBuff=null;this.recordbuffer=r,this.warcHeadersBuff=null,this.httpHeadersBuff=null}getDigest(t){return this.digestAlgoPrefix+(this.digestBase32?Qe(t.digest("binary"),"RFC4648"):t.digest("hex"))}async bufferRecord(t,r){let i=0;this.digestAlgo==="sha-256"?(this.blockHasher=await yi(),this.payloadHasher=await yi()):(this.blockHasher=await bi(),this.payloadHasher=await bi()),this.blockHasher?.init(),this.payloadHasher?.init(),t.httpHeaders&&(this.httpHeadersBuff=xi.encode(t.httpHeaders.toString()+`\r
`),i+=this.httpHeadersBuff.length,this.blockHasher?.update(this.httpHeadersBuff));for await(let n of t)this.blockHasher?.update(n),this.payloadHasher?.update(n),await r.write(n),i+=n.length;for await(let n of t)this.blockHasher?.update(n),this.payloadHasher?.update(n),await this.recordbuffer.write(n),i+=n.length;this.payloadHasher&&t.warcHeaders.headers.set("WARC-Payload-Digest",this.getDigest(this.payloadHasher)),this.blockHasher&&t.warcHeaders.headers.set("WARC-Block-Digest",this.getDigest(this.blockHasher)),t.warcHeaders.headers.set("Content-Length",i.toString()),this.warcHeadersBuff=xi.encode(t.warcHeaders.toString())}async*generateRecord(){this.warcHeadersBuff&&(yield this.warcHeadersBuff),yield Ve,this.httpHeadersBuff&&(yield this.httpHeadersBuff);for await(let t of this.recordbuffer.readAll())yield t;yield kt}};var Ls=["offset","warc-type","warc-target-uri"],br=class{constructor(a={}){this.opts=a,this.fields=a&&a.fields?a.fields.split(","):Ls,this.parseHttp=!1}serialize(a){return JSON.stringify(a)+`
`}write(a,t){t.write(this.serialize(a))}async writeAll(a,t){for await(let r of this.iterIndex(a))this.write(r,t)}async*iterIndex(a){let t={strictHeaders:!0,parseHttp:this.parseHttp};for(let{filename:r,reader:i}of a){let n=new se(i,t);yield*this.iterRecords(n,r)}}async*iterRecords(a,t){for await(let r of a){await r.skipFully();let i=this.indexRecord(r,a,t);i&&(yield i)}}indexRecord(a,t,r){if(this.filterRecord&&!this.filterRecord(a))return null;let i={},n=t.offset,s=t.recordLength,o={offset:n,length:s,filename:r};for(let h of this.fields)h in o?i[h]=o[h]:this.setField(h,a,i);return i}setField(a,t,r){let i=this.getField(a,t);i!==null&&(r[a]=i)}getField(a,t){return a==="http:status"?t.httpHeaders&&(t.warcType==="response"||t.warcType==="revisit")?t.httpHeaders.statusCode:null:a.startsWith("http:")?t.httpHeaders?t.httpHeaders.headers.get(a.slice(5)):null:t.warcHeaders.headers.get(a)||null}},Je=class extends br{constructor(a){super(a);for(let t of this.fields)if(t.startsWith("http:")){this.parseHttp=!0;break}}},Us="urlkey,timestamp,url,mime,status,digest,length,offset,filename".split(","),Fs="urlkey,timestamp,url,mime,status,digest,redirect,meta,length,offset,filename".split(","),et=class extends Je{constructor(t){super(t);switch(this.includeAll=Boolean(t?.all),this.overrideIndexForAll=Boolean(t?.all),this.fields=Us,this.parseHttp=!0,this.noSurt=Boolean(t?.noSurt),this._lastRecord=null,t?.format){case"cdxj":this.serialize=this.serializeCDXJ;break;case"cdx":this.serialize=this.serializeCDX11;break;case"json":default:break}}async*iterRecords(t,r){this._lastRecord=null;for await(let n of t){await n.readFully();let s=this.indexRecord(n,t,r);s&&(yield s)}let i=this.indexRecord(null,t,r);i&&(yield i)}filterRecord(t){if(this.includeAll)return!0;let r=t.warcType;return!(r==="request"||r==="warcinfo"||(r==="metadata"||r==="resource")&&t.warcContentType==="application/warc-fields")}indexRecord(t,r,i){if(this.overrideIndexForAll)return t?super.indexRecord(t,r,i):null;let n=this._lastRecord;if(this._lastRecord=t,t&&(t._offset=r.offset,t._length=r.recordLength),!n)return null;if(!t||n.warcTargetURI!=t.warcTargetURI)return this.indexRecordPair(n,null,r,i);let s=t.warcType,o=n.warcType;return s==="request"&&(o==="response"||o==="revisit")?(this._lastRecord=null,this.indexRecordPair(n,t,r,i)):(s==="response"||s==="revisit")&&o==="request"?(this._lastRecord=null,this.indexRecordPair(t,n,r,i)):this.indexRecordPair(n,null,r,i)}indexRecordPair(t,r,i,n){let s,o,h=t.warcTargetURI||"";if(r&&r.httpHeaders&&r.httpHeaders.method!=="GET"){let f={url:h,method:r.httpHeaders.method,headers:r.httpHeaders.headers,postData:r.payload};s=f.method,mt(f)&&(o=f.requestBody,t.method=s,t.requestBody=o,h=f.url)}t._urlkey=h;let l=super.indexRecord(t,i,n);return l&&(t&&t._offset!==void 0&&(l.offset=t._offset,l.length=t._length),s&&(l.method=s),o&&(l.requestBody=o)),l}serializeCDXJ(t){let{urlkey:r,timestamp:i}=t;return delete t.urlkey,delete t.timestamp,`${r} ${i} ${JSON.stringify(t)}
`}serializeCDX11(t){let r=[];for(let i of Fs)r.push(t[i]!=null?t[i]:"-");return r.join(" ")+`
`}getField(t,r){let i=null;switch(t){case"urlkey":return i=r._urlkey||r.warcTargetURI||null,this.noSurt||i===null?i:Rt(i);case"timestamp":return i=r.warcDate??"",i.replace(/[-:T]/g,"").slice(0,14);case"url":return r.warcTargetURI;case"mime":switch(r.warcType){case"revisit":return"warc/revisit";case"response":case"request":t="http:content-type";break;default:t="content-type"}return i=super.getField(t,r),i?i.toString().split(";",1)[0]?.trim():null;case"status":return super.getField("http:status",r);case"digest":return i=r.warcPayloadDigest,i?i.split(":",2)[1]:null;default:return null}}},Et=class extends et{constructor(a){super(a),this.overrideIndexForAll=!1}indexRecordPair(a,t,r,i){let n=super.indexRecordPair(a,t,r,i);return n&&{cdx:n,record:a,reqRecord:t}}};export{U as AsyncIterReader,N as BaseAsyncIterReader,Et as CDXAndRecordIndexer,et as CDXIndexer,Je as Indexer,ne as LimitReader,me as NoConcatInflator,_e as StatusAndHeaders,Be as StatusAndHeadersParser,Ct as StreamingWARCSerializer,se as WARCParser,J as WARCRecord,St as WARCRecordBuffer,oe as WARCSerializer,At as WARC_1_0,gr as WARC_1_1,dr as appendRequestQuery,Q as concatChunks,Rt as getSurt,ur as jsonToQueryParams,xt as jsonToQueryString,cr as mfdToQueryParams,_r as mfdToQueryString,mt as postToGetUrl,ie as splitChunk};
//# sourceMappingURL=index.all.js.map