var xi=Object.create;var xr=Object.defineProperty;var mi=Object.getOwnPropertyDescriptor;var Ri=Object.getOwnPropertyNames;var ki=Object.getPrototypeOf,Ai=Object.prototype.hasOwnProperty;var mr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(a,t)=>(typeof require<"u"?require:a)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var L=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports);var Si=(e,a,t,r)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of Ri(a))!Ai.call(e,i)&&i!==t&&xr(e,i,{get:()=>a[i],enumerable:!(r=mi(a,i))||r.enumerable});return e};var St=(e,a,t)=>(t=e!=null?xi(ki(e)):{},Si(a||!e||!e.__esModule?xr(t,"default",{value:e,enumerable:!0}):t,e));var V=L(B=>{"use strict";var Ci=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Ei(e,a){return Object.prototype.hasOwnProperty.call(e,a)}B.assign=function(e){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var t=a.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var r in t)Ei(t,r)&&(e[r]=t[r])}}return e};B.shrinkBuf=function(e,a){return e.length===a?e:e.subarray?e.subarray(0,a):(e.length=a,e)};var Ti={arraySet:function(e,a,t,r,i){if(a.subarray&&e.subarray){e.set(a.subarray(t,t+r),i);return}for(var n=0;n<r;n++)e[i+n]=a[t+n]},flattenChunks:function(e){var a,t,r,i,n,s;for(r=0,a=0,t=e.length;a<t;a++)r+=e[a].length;for(s=new Uint8Array(r),i=0,a=0,t=e.length;a<t;a++)n=e[a],s.set(n,i),i+=n.length;return s}},Ii={arraySet:function(e,a,t,r,i){for(var n=0;n<r;n++)e[i+n]=a[t+n]},flattenChunks:function(e){return[].concat.apply([],e)}};B.setTyped=function(e){e?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,Ti)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,Ii))};B.setTyped(Ci)});var Kr=L(Re=>{"use strict";var zi=V(),Di=4,Rr=0,kr=1,Li=2;function me(e){for(var a=e.length;--a>=0;)e[a]=0}var Oi=0,Ir=1,Bi=2,Hi=3,Ui=258,Lt=29,Fe=256,Be=Fe+1+Lt,xe=30,Ot=19,zr=2*Be+1,ue=15,Ct=16,Ni=7,Bt=256,Dr=16,Lr=17,Or=18,zt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],at=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Fi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Br=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Wi=512,Q=new Array((Be+2)*2);me(Q);var Oe=new Array(xe*2);me(Oe);var He=new Array(Wi);me(He);var Ue=new Array(Ui-Hi+1);me(Ue);var Ht=new Array(Lt);me(Ht);var it=new Array(xe);me(it);function Et(e,a,t,r,i){this.static_tree=e,this.extra_bits=a,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Hr,Ur,Nr;function Tt(e,a){this.dyn_tree=e,this.max_code=0,this.stat_desc=a}function Fr(e){return e<256?He[e]:He[256+(e>>>7)]}function Ne(e,a){e.pending_buf[e.pending++]=a&255,e.pending_buf[e.pending++]=a>>>8&255}function U(e,a,t){e.bi_valid>Ct-t?(e.bi_buf|=a<<e.bi_valid&65535,Ne(e,e.bi_buf),e.bi_buf=a>>Ct-e.bi_valid,e.bi_valid+=t-Ct):(e.bi_buf|=a<<e.bi_valid&65535,e.bi_valid+=t)}function X(e,a,t){U(e,t[a*2],t[a*2+1])}function Wr(e,a){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--a>0);return t>>>1}function Zi(e){e.bi_valid===16?(Ne(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Pi(e,a){var t=a.dyn_tree,r=a.max_code,i=a.stat_desc.static_tree,n=a.stat_desc.has_stree,s=a.stat_desc.extra_bits,o=a.stat_desc.extra_base,h=a.stat_desc.max_length,l,f,w,u,d,p,_=0;for(u=0;u<=ue;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<zr;l++)f=e.heap[l],u=t[t[f*2+1]*2+1]+1,u>h&&(u=h,_++),t[f*2+1]=u,!(f>r)&&(e.bl_count[u]++,d=0,f>=o&&(d=s[f-o]),p=t[f*2],e.opt_len+=p*(u+d),n&&(e.static_len+=p*(i[f*2+1]+d)));if(_!==0){do{for(u=h-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[h]--,_-=2}while(_>0);for(u=h;u!==0;u--)for(f=e.bl_count[u];f!==0;)w=e.heap[--l],!(w>r)&&(t[w*2+1]!==u&&(e.opt_len+=(u-t[w*2+1])*t[w*2],t[w*2+1]=u),f--)}}function Zr(e,a,t){var r=new Array(ue+1),i=0,n,s;for(n=1;n<=ue;n++)r[n]=i=i+t[n-1]<<1;for(s=0;s<=a;s++){var o=e[s*2+1];o!==0&&(e[s*2]=Wr(r[o]++,o))}}function Mi(){var e,a,t,r,i,n=new Array(ue+1);for(t=0,r=0;r<Lt-1;r++)for(Ht[r]=t,e=0;e<1<<zt[r];e++)Ue[t++]=r;for(Ue[t-1]=r,i=0,r=0;r<16;r++)for(it[r]=i,e=0;e<1<<at[r];e++)He[i++]=r;for(i>>=7;r<xe;r++)for(it[r]=i<<7,e=0;e<1<<at[r]-7;e++)He[256+i++]=r;for(a=0;a<=ue;a++)n[a]=0;for(e=0;e<=143;)Q[e*2+1]=8,e++,n[8]++;for(;e<=255;)Q[e*2+1]=9,e++,n[9]++;for(;e<=279;)Q[e*2+1]=7,e++,n[7]++;for(;e<=287;)Q[e*2+1]=8,e++,n[8]++;for(Zr(Q,Be+1,n),e=0;e<xe;e++)Oe[e*2+1]=5,Oe[e*2]=Wr(e,5);Hr=new Et(Q,zt,Fe+1,Be,ue),Ur=new Et(Oe,at,0,xe,ue),Nr=new Et(new Array(0),Fi,0,Ot,Ni)}function Pr(e){var a;for(a=0;a<Be;a++)e.dyn_ltree[a*2]=0;for(a=0;a<xe;a++)e.dyn_dtree[a*2]=0;for(a=0;a<Ot;a++)e.bl_tree[a*2]=0;e.dyn_ltree[Bt*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Mr(e){e.bi_valid>8?Ne(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function qi(e,a,t,r){Mr(e),r&&(Ne(e,t),Ne(e,~t)),zi.arraySet(e.pending_buf,e.window,a,t,e.pending),e.pending+=t}function Ar(e,a,t,r){var i=a*2,n=t*2;return e[i]<e[n]||e[i]===e[n]&&r[a]<=r[t]}function It(e,a,t){for(var r=e.heap[t],i=t<<1;i<=e.heap_len&&(i<e.heap_len&&Ar(a,e.heap[i+1],e.heap[i],e.depth)&&i++,!Ar(a,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r}function Sr(e,a,t){var r,i,n=0,s,o;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+n*2]<<8|e.pending_buf[e.d_buf+n*2+1],i=e.pending_buf[e.l_buf+n],n++,r===0?X(e,i,a):(s=Ue[i],X(e,s+Fe+1,a),o=zt[s],o!==0&&(i-=Ht[s],U(e,i,o)),r--,s=Fr(r),X(e,s,t),o=at[s],o!==0&&(r-=it[s],U(e,r,o)));while(n<e.last_lit);X(e,Bt,a)}function Dt(e,a){var t=a.dyn_tree,r=a.stat_desc.static_tree,i=a.stat_desc.has_stree,n=a.stat_desc.elems,s,o,h=-1,l;for(e.heap_len=0,e.heap_max=zr,s=0;s<n;s++)t[s*2]!==0?(e.heap[++e.heap_len]=h=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=h<2?++h:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(a.max_code=h,s=e.heap_len>>1;s>=1;s--)It(e,t,s);l=n;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],It(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,It(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Pi(e,a),Zr(t,h,e.bl_count)}function Cr(e,a,t){var r,i=-1,n,s=a[0*2+1],o=0,h=7,l=4;for(s===0&&(h=138,l=3),a[(t+1)*2+1]=65535,r=0;r<=t;r++)n=s,s=a[(r+1)*2+1],!(++o<h&&n===s)&&(o<l?e.bl_tree[n*2]+=o:n!==0?(n!==i&&e.bl_tree[n*2]++,e.bl_tree[Dr*2]++):o<=10?e.bl_tree[Lr*2]++:e.bl_tree[Or*2]++,o=0,i=n,s===0?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4))}function Er(e,a,t){var r,i=-1,n,s=a[0*2+1],o=0,h=7,l=4;for(s===0&&(h=138,l=3),r=0;r<=t;r++)if(n=s,s=a[(r+1)*2+1],!(++o<h&&n===s)){if(o<l)do X(e,n,e.bl_tree);while(--o!==0);else n!==0?(n!==i&&(X(e,n,e.bl_tree),o--),X(e,Dr,e.bl_tree),U(e,o-3,2)):o<=10?(X(e,Lr,e.bl_tree),U(e,o-3,3)):(X(e,Or,e.bl_tree),U(e,o-11,7));o=0,i=n,s===0?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4)}}function Ki(e){var a;for(Cr(e,e.dyn_ltree,e.l_desc.max_code),Cr(e,e.dyn_dtree,e.d_desc.max_code),Dt(e,e.bl_desc),a=Ot-1;a>=3&&e.bl_tree[Br[a]*2+1]===0;a--);return e.opt_len+=3*(a+1)+5+5+4,a}function Xi(e,a,t,r){var i;for(U(e,a-257,5),U(e,t-1,5),U(e,r-4,4),i=0;i<r;i++)U(e,e.bl_tree[Br[i]*2+1],3);Er(e,e.dyn_ltree,a-1),Er(e,e.dyn_dtree,t-1)}function ji(e){var a=4093624447,t;for(t=0;t<=31;t++,a>>>=1)if(a&1&&e.dyn_ltree[t*2]!==0)return Rr;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return kr;for(t=32;t<Fe;t++)if(e.dyn_ltree[t*2]!==0)return kr;return Rr}var Tr=!1;function Gi(e){Tr||(Mi(),Tr=!0),e.l_desc=new Tt(e.dyn_ltree,Hr),e.d_desc=new Tt(e.dyn_dtree,Ur),e.bl_desc=new Tt(e.bl_tree,Nr),e.bi_buf=0,e.bi_valid=0,Pr(e)}function qr(e,a,t,r){U(e,(Oi<<1)+(r?1:0),3),qi(e,a,t,!0)}function Yi(e){U(e,Ir<<1,3),X(e,Bt,Q),Zi(e)}function $i(e,a,t,r){var i,n,s=0;e.level>0?(e.strm.data_type===Li&&(e.strm.data_type=ji(e)),Dt(e,e.l_desc),Dt(e,e.d_desc),s=Ki(e),i=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=i&&(i=n)):i=n=t+5,t+4<=i&&a!==-1?qr(e,a,t,r):e.strategy===Di||n===i?(U(e,(Ir<<1)+(r?1:0),3),Sr(e,Q,Oe)):(U(e,(Bi<<1)+(r?1:0),3),Xi(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Sr(e,e.dyn_ltree,e.dyn_dtree)),Pr(e),r&&Mr(e)}function Vi(e,a,t){return e.pending_buf[e.d_buf+e.last_lit*2]=a>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=a&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,a===0?e.dyn_ltree[t*2]++:(e.matches++,a--,e.dyn_ltree[(Ue[t]+Fe+1)*2]++,e.dyn_dtree[Fr(a)*2]++),e.last_lit===e.lit_bufsize-1}Re._tr_init=Gi;Re._tr_stored_block=qr;Re._tr_flush_block=$i;Re._tr_tally=Vi;Re._tr_align=Yi});var Ut=L((Ps,Xr)=>{"use strict";function Qi(e,a,t,r){for(var i=e&65535|0,n=e>>>16&65535|0,s=0;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+a[r++]|0,n=n+i|0;while(--s);i%=65521,n%=65521}return i|n<<16|0}Xr.exports=Qi});var Nt=L((Ms,jr)=>{"use strict";function Ji(){for(var e,a=[],t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;a[t]=e}return a}var en=Ji();function tn(e,a,t,r){var i=en,n=r+t;e^=-1;for(var s=r;s<n;s++)e=e>>>8^i[(e^a[s])&255];return e^-1}jr.exports=tn});var nt=L((qs,Gr)=>{"use strict";Gr.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var aa=L(Y=>{"use strict";var H=V(),F=Kr(),Qr=Ut(),ie=Nt(),rn=nt(),ge=0,an=1,nn=3,fe=4,Yr=5,G=0,$r=1,W=-2,sn=-3,Ft=-5,on=-1,ln=1,st=2,fn=3,hn=4,dn=0,un=2,ht=8,cn=9,_n=15,pn=8,gn=29,wn=256,Zt=wn+1+gn,vn=30,bn=19,yn=2*Zt+1,xn=15,m=3,oe=258,M=oe+m+1,mn=32,dt=42,Pt=69,ot=73,lt=91,ft=103,ce=113,Ze=666,D=1,Pe=2,_e=3,Se=4,Rn=3;function le(e,a){return e.msg=rn[a],a}function Vr(e){return(e<<1)-(e>4?9:0)}function se(e){for(var a=e.length;--a>=0;)e[a]=0}function ne(e){var a=e.state,t=a.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(H.arraySet(e.output,a.pending_buf,a.pending_out,t,e.next_out),e.next_out+=t,a.pending_out+=t,e.total_out+=t,e.avail_out-=t,a.pending-=t,a.pending===0&&(a.pending_out=0))}function O(e,a){F._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,a),e.block_start=e.strstart,ne(e.strm)}function S(e,a){e.pending_buf[e.pending++]=a}function We(e,a){e.pending_buf[e.pending++]=a>>>8&255,e.pending_buf[e.pending++]=a&255}function kn(e,a,t,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,H.arraySet(a,e.input,e.next_in,i,t),e.state.wrap===1?e.adler=Qr(e.adler,a,i,t):e.state.wrap===2&&(e.adler=ie(e.adler,a,i,t)),e.next_in+=i,e.total_in+=i,i)}function Jr(e,a){var t=e.max_chain_length,r=e.strstart,i,n,s=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,l=e.window,f=e.w_mask,w=e.prev,u=e.strstart+oe,d=l[r+s-1],p=l[r+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=a,!(l[i+s]!==p||l[i+s-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<u);if(n=oe-(u-r),r=u-oe,n>s){if(e.match_start=a,s=n,n>=o)break;d=l[r+s-1],p=l[r+s]}}while((a=w[a&f])>h&&--t!==0);return s<=e.lookahead?s:e.lookahead}function pe(e){var a=e.w_size,t,r,i,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-M)){H.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,r=e.hash_size,t=r;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--r);r=a,t=r;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--r);n+=a}if(e.strm.avail_in===0)break;if(r=kn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=m)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+m-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<m)););}while(e.lookahead<M&&e.strm.avail_in!==0)}function An(e,a){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(pe(e),e.lookahead===0&&a===ge)return D;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+t;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,O(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-M&&(O(e,!1),e.strm.avail_out===0))return D}return e.insert=0,a===fe?(O(e,!0),e.strm.avail_out===0?_e:Se):(e.strstart>e.block_start&&(O(e,!1),e.strm.avail_out===0),D)}function Wt(e,a){for(var t,r;;){if(e.lookahead<M){if(pe(e),e.lookahead<M&&a===ge)return D;if(e.lookahead===0)break}if(t=0,e.lookahead>=m&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-M&&(e.match_length=Jr(e,t)),e.match_length>=m)if(r=F._tr_tally(e,e.strstart-e.match_start,e.match_length-m),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=m){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=F._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(O(e,!1),e.strm.avail_out===0))return D}return e.insert=e.strstart<m-1?e.strstart:m-1,a===fe?(O(e,!0),e.strm.avail_out===0?_e:Se):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?D:Pe}function ke(e,a){for(var t,r,i;;){if(e.lookahead<M){if(pe(e),e.lookahead<M&&a===ge)return D;if(e.lookahead===0)break}if(t=0,e.lookahead>=m&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=m-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-M&&(e.match_length=Jr(e,t),e.match_length<=5&&(e.strategy===ln||e.match_length===m&&e.strstart-e.match_start>4096)&&(e.match_length=m-1)),e.prev_length>=m&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-m,r=F._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-m),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+m-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=m-1,e.strstart++,r&&(O(e,!1),e.strm.avail_out===0))return D}else if(e.match_available){if(r=F._tr_tally(e,0,e.window[e.strstart-1]),r&&O(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return D}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=F._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<m-1?e.strstart:m-1,a===fe?(O(e,!0),e.strm.avail_out===0?_e:Se):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?D:Pe}function Sn(e,a){for(var t,r,i,n,s=e.window;;){if(e.lookahead<=oe){if(pe(e),e.lookahead<=oe&&a===ge)return D;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=m&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){n=e.strstart+oe;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<n);e.match_length=oe-(n-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=m?(t=F._tr_tally(e,1,e.match_length-m),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=F._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(O(e,!1),e.strm.avail_out===0))return D}return e.insert=0,a===fe?(O(e,!0),e.strm.avail_out===0?_e:Se):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?D:Pe}function Cn(e,a){for(var t;;){if(e.lookahead===0&&(pe(e),e.lookahead===0)){if(a===ge)return D;break}if(e.match_length=0,t=F._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(O(e,!1),e.strm.avail_out===0))return D}return e.insert=0,a===fe?(O(e,!0),e.strm.avail_out===0?_e:Se):e.last_lit&&(O(e,!1),e.strm.avail_out===0)?D:Pe}function j(e,a,t,r,i){this.good_length=e,this.max_lazy=a,this.nice_length=t,this.max_chain=r,this.func=i}var Ae;Ae=[new j(0,0,0,0,An),new j(4,4,8,4,Wt),new j(4,5,16,8,Wt),new j(4,6,32,32,Wt),new j(4,4,16,16,ke),new j(8,16,32,32,ke),new j(8,16,128,128,ke),new j(8,32,128,256,ke),new j(32,128,258,1024,ke),new j(32,258,258,4096,ke)];function En(e){e.window_size=2*e.w_size,se(e.head),e.max_lazy_match=Ae[e.level].max_lazy,e.good_match=Ae[e.level].good_length,e.nice_match=Ae[e.level].nice_length,e.max_chain_length=Ae[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=m-1,e.match_available=0,e.ins_h=0}function Tn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ht,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new H.Buf16(yn*2),this.dyn_dtree=new H.Buf16((2*vn+1)*2),this.bl_tree=new H.Buf16((2*bn+1)*2),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new H.Buf16(xn+1),this.heap=new H.Buf16(2*Zt+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new H.Buf16(2*Zt+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ea(e){var a;return!e||!e.state?le(e,W):(e.total_in=e.total_out=0,e.data_type=un,a=e.state,a.pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?dt:ce,e.adler=a.wrap===2?0:1,a.last_flush=ge,F._tr_init(a),G)}function ta(e){var a=ea(e);return a===G&&En(e.state),a}function In(e,a){return!e||!e.state||e.state.wrap!==2?W:(e.state.gzhead=a,G)}function ra(e,a,t,r,i,n){if(!e)return W;var s=1;if(a===on&&(a=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>cn||t!==ht||r<8||r>15||a<0||a>9||n<0||n>hn)return le(e,W);r===8&&(r=9);var o=new Tn;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+m-1)/m),o.window=new H.Buf8(o.w_size*2),o.head=new H.Buf16(o.hash_size),o.prev=new H.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new H.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=a,o.strategy=n,o.method=t,ta(e)}function zn(e,a){return ra(e,a,ht,_n,pn,dn)}function Dn(e,a){var t,r,i,n;if(!e||!e.state||a>Yr||a<0)return e?le(e,W):W;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Ze&&a!==fe)return le(e,e.avail_out===0?Ft:W);if(r.strm=e,t=r.last_flush,r.last_flush=a,r.status===dt)if(r.wrap===2)e.adler=0,S(r,31),S(r,139),S(r,8),r.gzhead?(S(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),S(r,r.gzhead.time&255),S(r,r.gzhead.time>>8&255),S(r,r.gzhead.time>>16&255),S(r,r.gzhead.time>>24&255),S(r,r.level===9?2:r.strategy>=st||r.level<2?4:0),S(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(S(r,r.gzhead.extra.length&255),S(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ie(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Pt):(S(r,0),S(r,0),S(r,0),S(r,0),S(r,0),S(r,r.level===9?2:r.strategy>=st||r.level<2?4:0),S(r,Rn),r.status=ce);else{var s=ht+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=st||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,s|=o<<6,r.strstart!==0&&(s|=mn),s+=31-s%31,r.status=ce,We(r,s),r.strstart!==0&&(We(r,e.adler>>>16),We(r,e.adler&65535)),e.adler=1}if(r.status===Pt)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ie(e.adler,r.pending_buf,r.pending-i,i)),ne(e),i=r.pending,r.pending===r.pending_buf_size));)S(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=ie(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=ot)}else r.status=ot;if(r.status===ot)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ie(e.adler,r.pending_buf,r.pending-i,i)),ne(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.name.length?n=r.gzhead.name.charCodeAt(r.gzindex++)&255:n=0,S(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ie(e.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.gzindex=0,r.status=lt)}else r.status=lt;if(r.status===lt)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=ie(e.adler,r.pending_buf,r.pending-i,i)),ne(e),i=r.pending,r.pending===r.pending_buf_size)){n=1;break}r.gzindex<r.gzhead.comment.length?n=r.gzhead.comment.charCodeAt(r.gzindex++)&255:n=0,S(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ie(e.adler,r.pending_buf,r.pending-i,i)),n===0&&(r.status=ft)}else r.status=ft;if(r.status===ft&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ne(e),r.pending+2<=r.pending_buf_size&&(S(r,e.adler&255),S(r,e.adler>>8&255),e.adler=0,r.status=ce)):r.status=ce),r.pending!==0){if(ne(e),e.avail_out===0)return r.last_flush=-1,G}else if(e.avail_in===0&&Vr(a)<=Vr(t)&&a!==fe)return le(e,Ft);if(r.status===Ze&&e.avail_in!==0)return le(e,Ft);if(e.avail_in!==0||r.lookahead!==0||a!==ge&&r.status!==Ze){var h=r.strategy===st?Cn(r,a):r.strategy===fn?Sn(r,a):Ae[r.level].func(r,a);if((h===_e||h===Se)&&(r.status=Ze),h===D||h===_e)return e.avail_out===0&&(r.last_flush=-1),G;if(h===Pe&&(a===an?F._tr_align(r):a!==Yr&&(F._tr_stored_block(r,0,0,!1),a===nn&&(se(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ne(e),e.avail_out===0))return r.last_flush=-1,G}return a!==fe?G:r.wrap<=0?$r:(r.wrap===2?(S(r,e.adler&255),S(r,e.adler>>8&255),S(r,e.adler>>16&255),S(r,e.adler>>24&255),S(r,e.total_in&255),S(r,e.total_in>>8&255),S(r,e.total_in>>16&255),S(r,e.total_in>>24&255)):(We(r,e.adler>>>16),We(r,e.adler&65535)),ne(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?G:$r)}function Ln(e){var a;return!e||!e.state?W:(a=e.state.status,a!==dt&&a!==Pt&&a!==ot&&a!==lt&&a!==ft&&a!==ce&&a!==Ze?le(e,W):(e.state=null,a===ce?le(e,sn):G))}function On(e,a){var t=a.length,r,i,n,s,o,h,l,f;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==dt||r.lookahead))return W;for(s===1&&(e.adler=Qr(e.adler,a,t,0)),r.wrap=0,t>=r.w_size&&(s===0&&(se(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new H.Buf8(r.w_size),H.arraySet(f,a,t-r.w_size,r.w_size,0),a=f,t=r.w_size),o=e.avail_in,h=e.next_in,l=e.input,e.avail_in=t,e.next_in=0,e.input=a,pe(r);r.lookahead>=m;){i=r.strstart,n=r.lookahead-(m-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+m-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--n);r.strstart=i,r.lookahead=m-1,pe(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=m-1,r.match_available=0,e.next_in=h,e.input=l,e.avail_in=o,r.wrap=s,G}Y.deflateInit=zn;Y.deflateInit2=ra;Y.deflateReset=ta;Y.deflateResetKeep=ea;Y.deflateSetHeader=In;Y.deflate=Dn;Y.deflateEnd=Ln;Y.deflateSetDictionary=On;Y.deflateInfo="pako deflate (from Nodeca project)"});var Mt=L(Ce=>{"use strict";var ut=V(),ia=!0,na=!0;try{String.fromCharCode.apply(null,[0])}catch{ia=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{na=!1}var Me=new ut.Buf8(256);for(J=0;J<256;J++)Me[J]=J>=252?6:J>=248?5:J>=240?4:J>=224?3:J>=192?2:1;var J;Me[254]=Me[254]=1;Ce.string2buf=function(e){var a,t,r,i,n,s=e.length,o=0;for(i=0;i<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(a=new ut.Buf8(o),n=0,i=0;n<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?a[n++]=t:t<2048?(a[n++]=192|t>>>6,a[n++]=128|t&63):t<65536?(a[n++]=224|t>>>12,a[n++]=128|t>>>6&63,a[n++]=128|t&63):(a[n++]=240|t>>>18,a[n++]=128|t>>>12&63,a[n++]=128|t>>>6&63,a[n++]=128|t&63);return a};function sa(e,a){if(a<65534&&(e.subarray&&na||!e.subarray&&ia))return String.fromCharCode.apply(null,ut.shrinkBuf(e,a));for(var t="",r=0;r<a;r++)t+=String.fromCharCode(e[r]);return t}Ce.buf2binstring=function(e){return sa(e,e.length)};Ce.binstring2buf=function(e){for(var a=new ut.Buf8(e.length),t=0,r=a.length;t<r;t++)a[t]=e.charCodeAt(t);return a};Ce.buf2string=function(e,a){var t,r,i,n,s=a||e.length,o=new Array(s*2);for(r=0,t=0;t<s;){if(i=e[t++],i<128){o[r++]=i;continue}if(n=Me[i],n>4){o[r++]=65533,t+=n-1;continue}for(i&=n===2?31:n===3?15:7;n>1&&t<s;)i=i<<6|e[t++]&63,n--;if(n>1){o[r++]=65533;continue}i<65536?o[r++]=i:(i-=65536,o[r++]=55296|i>>10&1023,o[r++]=56320|i&1023)}return sa(o,r)};Ce.utf8border=function(e,a){var t;for(a=a||e.length,a>e.length&&(a=e.length),t=a-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?a:t+Me[e[t]]>a?t:a}});var qt=L((js,oa)=>{"use strict";function Bn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}oa.exports=Bn});var da=L(Xe=>{"use strict";var qe=aa(),Ke=V(),Xt=Mt(),jt=nt(),Hn=qt(),ha=Object.prototype.toString,Un=0,Kt=4,Ee=0,la=1,fa=2,Nn=-1,Fn=0,Wn=8;function we(e){if(!(this instanceof we))return new we(e);this.options=Ke.assign({level:Nn,method:Wn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Fn,to:""},e||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hn,this.strm.avail_out=0;var t=qe.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(t!==Ee)throw new Error(jt[t]);if(a.header&&qe.deflateSetHeader(this.strm,a.header),a.dictionary){var r;if(typeof a.dictionary=="string"?r=Xt.string2buf(a.dictionary):ha.call(a.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(a.dictionary):r=a.dictionary,t=qe.deflateSetDictionary(this.strm,r),t!==Ee)throw new Error(jt[t]);this._dict_set=!0}}we.prototype.push=function(e,a){var t=this.strm,r=this.options.chunkSize,i,n;if(this.ended)return!1;n=a===~~a?a:a===!0?Kt:Un,typeof e=="string"?t.input=Xt.string2buf(e):ha.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new Ke.Buf8(r),t.next_out=0,t.avail_out=r),i=qe.deflate(t,n),i!==la&&i!==Ee)return this.onEnd(i),this.ended=!0,!1;(t.avail_out===0||t.avail_in===0&&(n===Kt||n===fa))&&(this.options.to==="string"?this.onData(Xt.buf2binstring(Ke.shrinkBuf(t.output,t.next_out))):this.onData(Ke.shrinkBuf(t.output,t.next_out)))}while((t.avail_in>0||t.avail_out===0)&&i!==la);return n===Kt?(i=qe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ee):(n===fa&&(this.onEnd(Ee),t.avail_out=0),!0)};we.prototype.onData=function(e){this.chunks.push(e)};we.prototype.onEnd=function(e){e===Ee&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ke.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Gt(e,a){var t=new we(a);if(t.push(e,!0),t.err)throw t.msg||jt[t.err];return t.result}function Zn(e,a){return a=a||{},a.raw=!0,Gt(e,a)}function Pn(e,a){return a=a||{},a.gzip=!0,Gt(e,a)}Xe.Deflate=we;Xe.deflate=Gt;Xe.deflateRaw=Zn;Xe.gzip=Pn});var ca=L((Ys,ua)=>{"use strict";var ct=30,Mn=12;ua.exports=function(a,t){var r,i,n,s,o,h,l,f,w,u,d,p,_,y,g,R,E,x,c,C,k,v,A,I,b;r=a.state,i=a.next_in,I=a.input,n=i+(a.avail_in-5),s=a.next_out,b=a.output,o=s-(t-a.avail_out),h=s+(a.avail_out-257),l=r.dmax,f=r.wsize,w=r.whave,u=r.wnext,d=r.window,p=r.hold,_=r.bits,y=r.lencode,g=r.distcode,R=(1<<r.lenbits)-1,E=(1<<r.distbits)-1;e:do{_<15&&(p+=I[i++]<<_,_+=8,p+=I[i++]<<_,_+=8),x=y[p&R];t:for(;;){if(c=x>>>24,p>>>=c,_-=c,c=x>>>16&255,c===0)b[s++]=x&65535;else if(c&16){C=x&65535,c&=15,c&&(_<c&&(p+=I[i++]<<_,_+=8),C+=p&(1<<c)-1,p>>>=c,_-=c),_<15&&(p+=I[i++]<<_,_+=8,p+=I[i++]<<_,_+=8),x=g[p&E];r:for(;;){if(c=x>>>24,p>>>=c,_-=c,c=x>>>16&255,c&16){if(k=x&65535,c&=15,_<c&&(p+=I[i++]<<_,_+=8,_<c&&(p+=I[i++]<<_,_+=8)),k+=p&(1<<c)-1,k>l){a.msg="invalid distance too far back",r.mode=ct;break e}if(p>>>=c,_-=c,c=s-o,k>c){if(c=k-c,c>w&&r.sane){a.msg="invalid distance too far back",r.mode=ct;break e}if(v=0,A=d,u===0){if(v+=f-c,c<C){C-=c;do b[s++]=d[v++];while(--c);v=s-k,A=b}}else if(u<c){if(v+=f+u-c,c-=u,c<C){C-=c;do b[s++]=d[v++];while(--c);if(v=0,u<C){c=u,C-=c;do b[s++]=d[v++];while(--c);v=s-k,A=b}}}else if(v+=u-c,c<C){C-=c;do b[s++]=d[v++];while(--c);v=s-k,A=b}for(;C>2;)b[s++]=A[v++],b[s++]=A[v++],b[s++]=A[v++],C-=3;C&&(b[s++]=A[v++],C>1&&(b[s++]=A[v++]))}else{v=s-k;do b[s++]=b[v++],b[s++]=b[v++],b[s++]=b[v++],C-=3;while(C>2);C&&(b[s++]=b[v++],C>1&&(b[s++]=b[v++]))}}else if(c&64){a.msg="invalid distance code",r.mode=ct;break e}else{x=g[(x&65535)+(p&(1<<c)-1)];continue r}break}}else if(c&64)if(c&32){r.mode=Mn;break e}else{a.msg="invalid literal/length code",r.mode=ct;break e}else{x=y[(x&65535)+(p&(1<<c)-1)];continue t}break}}while(i<n&&s<h);C=_>>3,i-=C,_-=C<<3,p&=(1<<_)-1,a.next_in=i,a.next_out=s,a.avail_in=i<n?5+(n-i):5-(i-n),a.avail_out=s<h?257+(h-s):257-(s-h),r.hold=p,r.bits=_}});var ya=L(($s,ba)=>{"use strict";var _a=V(),Te=15,pa=852,ga=592,wa=0,Yt=1,va=2,qn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Kn=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Xn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],jn=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ba.exports=function(a,t,r,i,n,s,o,h){var l=h.bits,f=0,w=0,u=0,d=0,p=0,_=0,y=0,g=0,R=0,E=0,x,c,C,k,v,A=null,I=0,b,P=new _a.Buf16(Te+1),Je=new _a.Buf16(Te+1),et=null,br=0,yr,tt,rt;for(f=0;f<=Te;f++)P[f]=0;for(w=0;w<i;w++)P[t[r+w]]++;for(p=l,d=Te;d>=1&&P[d]===0;d--);if(p>d&&(p=d),d===0)return n[s++]=1<<24|64<<16|0,n[s++]=1<<24|64<<16|0,h.bits=1,0;for(u=1;u<d&&P[u]===0;u++);for(p<u&&(p=u),g=1,f=1;f<=Te;f++)if(g<<=1,g-=P[f],g<0)return-1;if(g>0&&(a===wa||d!==1))return-1;for(Je[1]=0,f=1;f<Te;f++)Je[f+1]=Je[f]+P[f];for(w=0;w<i;w++)t[r+w]!==0&&(o[Je[t[r+w]]++]=w);if(a===wa?(A=et=o,b=19):a===Yt?(A=qn,I-=257,et=Kn,br-=257,b=256):(A=Xn,et=jn,b=-1),E=0,w=0,f=u,v=s,_=p,y=0,C=-1,R=1<<p,k=R-1,a===Yt&&R>pa||a===va&&R>ga)return 1;for(;;){yr=f-y,o[w]<b?(tt=0,rt=o[w]):o[w]>b?(tt=et[br+o[w]],rt=A[I+o[w]]):(tt=32+64,rt=0),x=1<<f-y,c=1<<_,u=c;do c-=x,n[v+(E>>y)+c]=yr<<24|tt<<16|rt|0;while(c!==0);for(x=1<<f-1;E&x;)x>>=1;if(x!==0?(E&=x-1,E+=x):E=0,w++,--P[f]===0){if(f===d)break;f=t[r+o[w]]}if(f>p&&(E&k)!==C){for(y===0&&(y=p),v+=u,_=f-y,g=1<<_;_+y<d&&(g-=P[_+y],!(g<=0));)_++,g<<=1;if(R+=1<<_,a===Yt&&R>pa||a===va&&R>ga)return 1;C=E&k,n[C]=p<<24|_<<16|v-s|0}}return E!==0&&(n[v+E]=f-y<<24|64<<16|0),h.bits=p,0}});var ti=L(q=>{"use strict";var N=V(),tr=Ut(),$=Nt(),Gn=ca(),je=ya(),Yn=0,Xa=1,ja=2,xa=4,$n=5,_t=6,ve=0,Vn=1,Qn=2,Z=-2,Ga=-3,rr=-4,Jn=-5,ma=8,Ya=1,Ra=2,ka=3,Aa=4,Sa=5,Ca=6,Ea=7,Ta=8,Ia=9,za=10,wt=11,ee=12,$t=13,Da=14,Vt=15,La=16,Oa=17,Ba=18,Ha=19,pt=20,gt=21,Ua=22,Na=23,Fa=24,Wa=25,Za=26,Qt=27,Pa=28,Ma=29,T=30,ar=31,es=32,ts=852,rs=592,as=15,is=as;function qa(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function ns(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new N.Buf16(320),this.work=new N.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function $a(e){var a;return!e||!e.state?Z:(a=e.state,e.total_in=e.total_out=a.total=0,e.msg="",a.wrap&&(e.adler=a.wrap&1),a.mode=Ya,a.last=0,a.havedict=0,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new N.Buf32(ts),a.distcode=a.distdyn=new N.Buf32(rs),a.sane=1,a.back=-1,ve)}function Va(e){var a;return!e||!e.state?Z:(a=e.state,a.wsize=0,a.whave=0,a.wnext=0,$a(e))}function Qa(e,a){var t,r;return!e||!e.state||(r=e.state,a<0?(t=0,a=-a):(t=(a>>4)+1,a<48&&(a&=15)),a&&(a<8||a>15))?Z:(r.window!==null&&r.wbits!==a&&(r.window=null),r.wrap=t,r.wbits=a,Va(e))}function Ja(e,a){var t,r;return e?(r=new ns,e.state=r,r.window=null,t=Qa(e,a),t!==ve&&(e.state=null),t):Z}function ss(e){return Ja(e,is)}var Ka=!0,Jt,er;function os(e){if(Ka){var a;for(Jt=new N.Buf32(512),er=new N.Buf32(32),a=0;a<144;)e.lens[a++]=8;for(;a<256;)e.lens[a++]=9;for(;a<280;)e.lens[a++]=7;for(;a<288;)e.lens[a++]=8;for(je(Xa,e.lens,0,288,Jt,0,e.work,{bits:9}),a=0;a<32;)e.lens[a++]=5;je(ja,e.lens,0,32,er,0,e.work,{bits:5}),Ka=!1}e.lencode=Jt,e.lenbits=9,e.distcode=er,e.distbits=5}function ei(e,a,t,r){var i,n=e.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new N.Buf8(n.wsize)),r>=n.wsize?(N.arraySet(n.window,a,t-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):(i=n.wsize-n.wnext,i>r&&(i=r),N.arraySet(n.window,a,t-r,i,n.wnext),r-=i,r?(N.arraySet(n.window,a,t-r,r,0),n.wnext=r,n.whave=n.wsize):(n.wnext+=i,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=i))),0}function ls(e,a){var t,r,i,n,s,o,h,l,f,w,u,d,p,_,y=0,g,R,E,x,c,C,k,v,A=new N.Buf8(4),I,b,P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Z;t=e.state,t.mode===ee&&(t.mode=$t),s=e.next_out,i=e.output,h=e.avail_out,n=e.next_in,r=e.input,o=e.avail_in,l=t.hold,f=t.bits,w=o,u=h,v=ve;e:for(;;)switch(t.mode){case Ya:if(t.wrap===0){t.mode=$t;break}for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(t.wrap&2&&l===35615){t.check=0,A[0]=l&255,A[1]=l>>>8&255,t.check=$(t.check,A,2,0),l=0,f=0,t.mode=Ra;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=T;break}if((l&15)!==ma){e.msg="unknown compression method",t.mode=T;break}if(l>>>=4,f-=4,k=(l&15)+8,t.wbits===0)t.wbits=k;else if(k>t.wbits){e.msg="invalid window size",t.mode=T;break}t.dmax=1<<k,e.adler=t.check=1,t.mode=l&512?za:ee,l=0,f=0;break;case Ra:for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==ma){e.msg="unknown compression method",t.mode=T;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=T;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=$(t.check,A,2,0)),l=0,f=0,t.mode=ka;case ka:for(;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,t.check=$(t.check,A,4,0)),l=0,f=0,t.mode=Aa;case Aa:for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=$(t.check,A,2,0)),l=0,f=0,t.mode=Sa;case Sa:if(t.flags&1024){for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&(A[0]=l&255,A[1]=l>>>8&255,t.check=$(t.check,A,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=Ca;case Ca:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(k=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),N.arraySet(t.head.extra,r,n,d,k)),t.flags&512&&(t.check=$(t.check,r,d,n)),o-=d,n+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Ea;case Ea:if(t.flags&2048){if(o===0)break e;d=0;do k=r[n+d++],t.head&&k&&t.length<65536&&(t.head.name+=String.fromCharCode(k));while(k&&d<o);if(t.flags&512&&(t.check=$(t.check,r,d,n)),o-=d,n+=d,k)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ta;case Ta:if(t.flags&4096){if(o===0)break e;d=0;do k=r[n+d++],t.head&&k&&t.length<65536&&(t.head.comment+=String.fromCharCode(k));while(k&&d<o);if(t.flags&512&&(t.check=$(t.check,r,d,n)),o-=d,n+=d,k)break e}else t.head&&(t.head.comment=null);t.mode=Ia;case Ia:if(t.flags&512){for(;f<16;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=T;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ee;break;case za:for(;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}e.adler=t.check=qa(l),l=0,f=0,t.mode=wt;case wt:if(t.havedict===0)return e.next_out=s,e.avail_out=h,e.next_in=n,e.avail_in=o,t.hold=l,t.bits=f,Qn;e.adler=t.check=1,t.mode=ee;case ee:if(a===$n||a===_t)break e;case $t:if(t.last){l>>>=f&7,f-=f&7,t.mode=Qt;break}for(;f<3;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=Da;break;case 1:if(os(t),t.mode=pt,a===_t){l>>>=2,f-=2;break e}break;case 2:t.mode=Oa;break;case 3:e.msg="invalid block type",t.mode=T}l>>>=2,f-=2;break;case Da:for(l>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=T;break}if(t.length=l&65535,l=0,f=0,t.mode=Vt,a===_t)break e;case Vt:t.mode=La;case La:if(d=t.length,d){if(d>o&&(d=o),d>h&&(d=h),d===0)break e;N.arraySet(i,r,n,d,s),o-=d,n+=d,h-=d,s+=d,t.length-=d;break}t.mode=ee;break;case Oa:for(;f<14;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=T;break}t.have=0,t.mode=Ba;case Ba:for(;t.have<t.ncode;){for(;f<3;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.lens[P[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,I={bits:t.lenbits},v=je(Yn,t.lens,0,19,t.lencode,0,t.work,I),t.lenbits=I.bits,v){e.msg="invalid code lengths set",t.mode=T;break}t.have=0,t.mode=Ha;case Ha:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[l&(1<<t.lenbits)-1],g=y>>>24,R=y>>>16&255,E=y&65535,!(g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(E<16)l>>>=g,f-=g,t.lens[t.have++]=E;else{if(E===16){for(b=g+2;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(l>>>=g,f-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=T;break}k=t.lens[t.have-1],d=3+(l&3),l>>>=2,f-=2}else if(E===17){for(b=g+3;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=g,f-=g,k=0,d=3+(l&7),l>>>=3,f-=3}else{for(b=g+7;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=g,f-=g,k=0,d=11+(l&127),l>>>=7,f-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=T;break}for(;d--;)t.lens[t.have++]=k}}if(t.mode===T)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=T;break}if(t.lenbits=9,I={bits:t.lenbits},v=je(Xa,t.lens,0,t.nlen,t.lencode,0,t.work,I),t.lenbits=I.bits,v){e.msg="invalid literal/lengths set",t.mode=T;break}if(t.distbits=6,t.distcode=t.distdyn,I={bits:t.distbits},v=je(ja,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,I),t.distbits=I.bits,v){e.msg="invalid distances set",t.mode=T;break}if(t.mode=pt,a===_t)break e;case pt:t.mode=gt;case gt:if(o>=6&&h>=258){e.next_out=s,e.avail_out=h,e.next_in=n,e.avail_in=o,t.hold=l,t.bits=f,Gn(e,u),s=e.next_out,i=e.output,h=e.avail_out,n=e.next_in,r=e.input,o=e.avail_in,l=t.hold,f=t.bits,t.mode===ee&&(t.back=-1);break}for(t.back=0;y=t.lencode[l&(1<<t.lenbits)-1],g=y>>>24,R=y>>>16&255,E=y&65535,!(g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(R&&!(R&240)){for(x=g,c=R,C=E;y=t.lencode[C+((l&(1<<x+c)-1)>>x)],g=y>>>24,R=y>>>16&255,E=y&65535,!(x+g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=x,f-=x,t.back+=x}if(l>>>=g,f-=g,t.back+=g,t.length=E,R===0){t.mode=Za;break}if(R&32){t.back=-1,t.mode=ee;break}if(R&64){e.msg="invalid literal/length code",t.mode=T;break}t.extra=R&15,t.mode=Ua;case Ua:if(t.extra){for(b=t.extra;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Na;case Na:for(;y=t.distcode[l&(1<<t.distbits)-1],g=y>>>24,R=y>>>16&255,E=y&65535,!(g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(!(R&240)){for(x=g,c=R,C=E;y=t.distcode[C+((l&(1<<x+c)-1)>>x)],g=y>>>24,R=y>>>16&255,E=y&65535,!(x+g<=f);){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}l>>>=x,f-=x,t.back+=x}if(l>>>=g,f-=g,t.back+=g,R&64){e.msg="invalid distance code",t.mode=T;break}t.offset=E,t.extra=R&15,t.mode=Fa;case Fa:if(t.extra){for(b=t.extra;f<b;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=T;break}t.mode=Wa;case Wa:if(h===0)break e;if(d=u-h,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=T;break}d>t.wnext?(d-=t.wnext,p=t.wsize-d):p=t.wnext-d,d>t.length&&(d=t.length),_=t.window}else _=i,p=s-t.offset,d=t.length;d>h&&(d=h),h-=d,t.length-=d;do i[s++]=_[p++];while(--d);t.length===0&&(t.mode=gt);break;case Za:if(h===0)break e;i[s++]=t.length,h--,t.mode=gt;break;case Qt:if(t.wrap){for(;f<32;){if(o===0)break e;o--,l|=r[n++]<<f,f+=8}if(u-=h,e.total_out+=u,t.total+=u,u&&(e.adler=t.check=t.flags?$(t.check,i,u,s-u):tr(t.check,i,u,s-u)),u=h,(t.flags?l:qa(l))!==t.check){e.msg="incorrect data check",t.mode=T;break}l=0,f=0}t.mode=Pa;case Pa:if(t.wrap&&t.flags){for(;f<32;){if(o===0)break e;o--,l+=r[n++]<<f,f+=8}if(l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=T;break}l=0,f=0}t.mode=Ma;case Ma:v=Vn;break e;case T:v=Ga;break e;case ar:return rr;case es:default:return Z}return e.next_out=s,e.avail_out=h,e.next_in=n,e.avail_in=o,t.hold=l,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<T&&(t.mode<Qt||a!==xa))&&ei(e,e.output,e.next_out,u-e.avail_out)?(t.mode=ar,rr):(w-=e.avail_in,u-=e.avail_out,e.total_in+=w,e.total_out+=u,t.total+=u,t.wrap&&u&&(e.adler=t.check=t.flags?$(t.check,i,u,e.next_out-u):tr(t.check,i,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ee?128:0)+(t.mode===pt||t.mode===Vt?256:0),(w===0&&u===0||a===xa)&&v===ve&&(v=Jn),v)}function fs(e){if(!e||!e.state)return Z;var a=e.state;return a.window&&(a.window=null),e.state=null,ve}function hs(e,a){var t;return!e||!e.state||(t=e.state,!(t.wrap&2))?Z:(t.head=a,a.done=!1,ve)}function ds(e,a){var t=a.length,r,i,n;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==wt)?Z:r.mode===wt&&(i=1,i=tr(i,a,t,0),i!==r.check)?Ga:(n=ei(e,a,t,t),n?(r.mode=ar,rr):(r.havedict=1,ve))}q.inflateReset=Va;q.inflateReset2=Qa;q.inflateResetKeep=$a;q.inflateInit=ss;q.inflateInit2=Ja;q.inflate=ls;q.inflateEnd=fs;q.inflateGetHeader=hs;q.inflateSetDictionary=ds;q.inflateInfo="pako inflate (from Nodeca project)"});var ir=L((Qs,ri)=>{"use strict";ri.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var ii=L((Js,ai)=>{"use strict";function us(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ai.exports=us});var si=L(Ye=>{"use strict";var Ie=ti(),Ge=V(),vt=Mt(),z=ir(),nr=nt(),cs=qt(),_s=ii(),ni=Object.prototype.toString;function be(e){if(!(this instanceof be))return new be(e);this.options=Ge.assign({chunkSize:16384,windowBits:0,to:""},e||{});var a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(e&&e.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15||(a.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cs,this.strm.avail_out=0;var t=Ie.inflateInit2(this.strm,a.windowBits);if(t!==z.Z_OK)throw new Error(nr[t]);if(this.header=new _s,Ie.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=vt.string2buf(a.dictionary):ni.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(t=Ie.inflateSetDictionary(this.strm,a.dictionary),t!==z.Z_OK)))throw new Error(nr[t])}be.prototype.push=function(e,a){var t=this.strm,r=this.options.chunkSize,i=this.options.dictionary,n,s,o,h,l,f=!1;if(this.ended)return!1;s=a===~~a?a:a===!0?z.Z_FINISH:z.Z_NO_FLUSH,typeof e=="string"?t.input=vt.binstring2buf(e):ni.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;do{if(t.avail_out===0&&(t.output=new Ge.Buf8(r),t.next_out=0,t.avail_out=r),n=Ie.inflate(t,z.Z_NO_FLUSH),n===z.Z_NEED_DICT&&i&&(n=Ie.inflateSetDictionary(this.strm,i)),n===z.Z_BUF_ERROR&&f===!0&&(n=z.Z_OK,f=!1),n!==z.Z_STREAM_END&&n!==z.Z_OK)return this.onEnd(n),this.ended=!0,!1;t.next_out&&(t.avail_out===0||n===z.Z_STREAM_END||t.avail_in===0&&(s===z.Z_FINISH||s===z.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=vt.utf8border(t.output,t.next_out),h=t.next_out-o,l=vt.buf2string(t.output,o),t.next_out=h,t.avail_out=r-h,h&&Ge.arraySet(t.output,t.output,o,h,0),this.onData(l)):this.onData(Ge.shrinkBuf(t.output,t.next_out))),t.avail_in===0&&t.avail_out===0&&(f=!0)}while((t.avail_in>0||t.avail_out===0)&&n!==z.Z_STREAM_END);return n===z.Z_STREAM_END&&(s=z.Z_FINISH),s===z.Z_FINISH?(n=Ie.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===z.Z_OK):(s===z.Z_SYNC_FLUSH&&(this.onEnd(z.Z_OK),t.avail_out=0),!0)};be.prototype.onData=function(e){this.chunks.push(e)};be.prototype.onEnd=function(e){e===z.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ge.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function sr(e,a){var t=new be(a);if(t.push(e,!0),t.err)throw t.msg||nr[t.err];return t.result}function ps(e,a){return a=a||{},a.raw=!0,sr(e,a)}Ye.Inflate=be;Ye.inflate=sr;Ye.inflateRaw=ps;Ye.ungzip=sr});var or=L((to,li)=>{"use strict";var gs=V().assign,ws=da(),vs=si(),bs=ir(),oi={};gs(oi,ws,vs,bs);li.exports=oi});var ci=L(()=>{"use strict"});var _i=L((fo,cr)=>{"use strict";(function(){var e,a=0,t=[],r;for(r=0;r<256;r++)t[r]=(r+256).toString(16).substr(1);o.BUFFER_SIZE=4096,o.bin=s,o.clearBuffer=function(){e=null,a=0},o.test=function(h){return typeof h=="string"?/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(h):!1};var i;typeof crypto<"u"?i=crypto:typeof window<"u"&&typeof window.msCrypto<"u"&&(i=window.msCrypto),typeof cr<"u"&&typeof mr=="function"?(i=i||ci(),cr.exports=o):typeof window<"u"&&(window.uuid=o),o.randomBytes=function(){if(i){if(i.randomBytes)return i.randomBytes;if(i.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(h){var l=new Uint8Array(h);return i.getRandomValues(l),Array.from(l)}:function(h){var l=new Uint8Array(h);return i.getRandomValues(l),l}}return function(h){var l,f=[];for(l=0;l<h;l++)f.push(Math.floor(Math.random()*256));return f}}();function n(h){return(!e||a+h>o.BUFFER_SIZE)&&(a=0,e=o.randomBytes(o.BUFFER_SIZE)),e.slice(a,a+=h)}function s(){var h=n(16);return h[6]=h[6]&15|64,h[8]=h[8]&63|128,h}function o(){var h=s();return t[h[0]]+t[h[1]]+t[h[2]]+t[h[3]]+"-"+t[h[4]]+t[h[5]]+"-"+t[h[6]]+t[h[7]]+"-"+t[h[8]]+t[h[9]]+"-"+t[h[10]]+t[h[11]]+t[h[12]]+t[h[13]]+t[h[14]]+t[h[15]]}})()});var hi=St(or(),1);function fi(e){let a;typeof e=="string"?a=e:e&&e.length?a=e.reduce((t,r)=>(t+=String.fromCharCode(r),t),""):e?a=e.toString():a="";try{return"__wb_post_data="+btoa(a)}catch{return"__wb_post_data="}}function ys(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yt(e){try{if(!e.startsWith("https:")&&!e.startsWith("http:"))return e;e=e.replace(/^(https?:\/\/)www\d*\./,"$1");let a=e.toLowerCase(),t=new URL(a),i=t.hostname.split(".").reverse().join(",");if(t.port&&(i+=":"+t.port),i+=")",i+=t.pathname,t.search){t.searchParams.sort(),i+=t.search;for(let[n,s]of t.searchParams.entries())if(!s){let o=new RegExp(`(?<=[&?])${ys(n)}=(?=&|$)`);o.exec(a)||(i=i.replace(o,n))}}return i}catch{return e}}function xt(e){let{method:a,headers:t,postData:r}=e;if(a==="GET")return!1;let i=(t.get("content-type")||"").split(";")[0];function n(o){return o instanceof Uint8Array&&(o=new TextDecoder().decode(o)),o}let s="";switch(i){case"application/x-www-form-urlencoded":s=n(r);break;case"application/json":s=bt(n(r));break;case"text/plain":try{s=bt(n(r),!1)}catch{s=fi(r)}break;case"multipart/form-data":{let o=t.get("content-type");if(!o)throw new Error("utils cannot call postToGetURL when missing content-type header");s=dr(n(r),o);break}default:s=fi(r)}return s!==null?(e.url=lr(e.url,s,e.method),e.method="GET",e.requestBody=s,!0):!1}function lr(e,a,t){if(!t)return e;let r=e.indexOf("?")>0?"&":"?";return`${e}${r}__wb_method=${t}&${a}`}function fr(e,a=!0){if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}let t=new URLSearchParams,r={},i=n=>t.has(n)?(n in r||(r[n]=1),n+"."+ ++r[n]+"_"):n;try{JSON.stringify(e,(n,s)=>(["object","function"].includes(typeof s)||t.set(i(n),s),s))}catch(n){if(!a)throw n}return t}function hr(e,a){let t=new URLSearchParams;e instanceof Uint8Array&&(e=new TextDecoder().decode(e));try{let r=a.split("boundary=")[1],i=e.split(new RegExp("-*"+r+"-*","mi"));for(let n of i){let s=n.trim().match(/name="([^"]+)"\r\n\r\n(.*)/im);s&&t.set(s[1],s[2])}}catch{}return t}function bt(e,a=!0){return fr(e,a).toString()}function dr(e,a){return hr(e,a).toString()}function he(e,a){if(e.length===1)return e[0];let t=new Uint8Array(a),r=0;for(let i of e)t.set(i,r),r+=i.byteLength;return t}function te(e,a){return[e.slice(0,a),e.slice(a)]}var di=new TextDecoder("utf-8"),ye=class extends hi.default.Inflate{constructor(t,r){super(t);this.ended=!1;this.chunks=[];this.reader=r}onEnd(t){this.err=t,this.err||(this.reader._rawOffset+=this.strm.total_in)}},K=class e{static async readFully(a){let t=[],r=0;for await(let i of a)t.push(i),r+=i.byteLength;return he(t,r)}getReadableStream(){let a=this[Symbol.asyncIterator]();return new ReadableStream({pull(t){return a.next().then(r=>{r.done||!r.value?t.close():t.enqueue(r.value)})}})}async readFully(){return await e.readFully(this)}async readline(a=0){let t=await this.readlineRaw(a);return t?di.decode(t):""}async*iterLines(a=0){let t=null;for(;t=await this.readline(a);)yield t}};function xs(e){return e&&Symbol.iterator in Object(e)}function ms(e){return e&&Symbol.asyncIterator in Object(e)}var re=class e extends K{constructor(t,r="gzip",i=!1){super();this.compressed=r,this.opts={raw:r==="deflateRaw"},this.inflator=r?new ye(this.opts,this):null;let n;if(ms(t))n=t;else if(typeof t=="object"&&"read"in t&&typeof t.read=="function")n=e.fromReadable(t);else if(t instanceof ReadableStream)n=e.fromReadable(t.getReader());else if(xs(t))n=e.fromIter(t);else throw new TypeError("Invalid Stream Source");i?this._sourceIter=this.dechunk(n):this._sourceIter=n[Symbol.asyncIterator](),this.lastValue=null,this.errored=!1,this._savedChunk=null,this._rawOffset=0,this._readOffset=0,this.numChunks=0}async _loadNext(){let t=await this._sourceIter.next();return t.done?null:t.value}async*dechunk(t){let r=t instanceof e?t:new e(t,null),i=-1,n=!0;for(;i!=0;){let s=await r.readlineRaw(64),o=new Uint8Array;if(i=s?parseInt(di.decode(s),16):0,!i||i>2**32){if(Number.isNaN(i)||i>2**32){n||(this.errored=!0),yield s;break}}else if(o=await r.readSize(i),o.length!=i){n?yield s:this.errored=!0,yield o;break}let h=await r.readSize(2);if(h[0]!=13||h[1]!=10){n?yield s:this.errored=!0,yield o,yield h;break}else{if(n=!1,!o||i===0)return;yield o}}yield*r}unread(t){t.length&&(this._readOffset-=t.length,this._savedChunk&&console.log("Already have chunk!"),this._savedChunk=t)}async _next(){if(this._savedChunk){let r=this._savedChunk;return this._savedChunk=null,r}if(this.compressed){let r=this._getNextChunk();if(r)return r}let t=await this._loadNext();for(;this.compressed&&t;){this._push(t);let r=this._getNextChunk(t);if(r)return r;t=await this._loadNext()}return t}_push(t){if(!this.inflator)throw new Error("AsyncIterReader cannot call _push when this.compressed is null");this.lastValue=t,this.inflator.ended&&(this.inflator=new ye(this.opts,this)),this.inflator.push(t),this.inflator.err&&this.inflator.ended&&this.compressed==="deflate"&&this.opts.raw===!1&&this.numChunks===0&&(this.opts.raw=!0,this.compressed="deflateRaw",this.inflator=new ye(this.opts,this),this.inflator.push(t))}_getNextChunk(t){if(!this.inflator)throw new Error("AsyncIterReader cannot call _getNextChunk when this.compressed is null");for(;;){if(this.inflator.chunks.length>0)return this.numChunks++,this.inflator.chunks.shift();if(this.inflator.ended){if(this.inflator.err!==0)return this.compressed=null,t;let r=this.inflator.strm.avail_in;if(r&&this.lastValue){this._push(this.lastValue.slice(-r));continue}}return null}}async*[Symbol.asyncIterator](){let t=null;for(;t=await this._next();)this._readOffset+=t.length,yield t}async readlineRaw(t){let r=[],i=0,n=-1,s=null;for await(let o of this){if(t&&i+o.byteLength>t){s=o,n=t-i-1;let h=o.slice(0,n+1).indexOf(10);h>=0&&(n=h);break}if(n=o.indexOf(10),n>=0){s=o;break}r.push(o),i+=o.byteLength}if(s){let[o,h]=te(s,n+1);r.push(o),i+=o.byteLength,this.unread(h)}else if(!r.length)return null;return he(r,i)}async readFully(){return(await this._readOrSkip())[1]}async readSize(t){return(await this._readOrSkip(t))[1]}async skipSize(t){return(await this._readOrSkip(t,!0))[0]}async _readOrSkip(t=-1,r=!1){let i=[],n=0;for await(let s of this){if(t>=0)if(s.length>t){let[o,h]=te(s,t);r||i.push(o),n+=o.byteLength,this.unread(h);break}else if(s.length===t){r||i.push(s),n+=s.byteLength,t=0;break}else t-=s.length;r||i.push(s),n+=s.byteLength}return r?[n,new Uint8Array]:[n,he(i,n)]}getReadOffset(){return this._readOffset}getRawOffset(){return this.compressed?this._rawOffset:this._readOffset}getRawLength(t){return this.compressed?this.inflator.strm.total_in:this._readOffset-t}static fromReadable(t){return{async*[Symbol.asyncIterator](){let i=null;for(;(i=await t.read())&&!i.done;)yield i.value}}}static fromIter(t){return{async*[Symbol.asyncIterator](){for(let i of t)yield i}}}},ae=class extends K{constructor(t,r,i=0){super();this.sourceIter=t,this.length=r,this.limit=r,this.skip=i}setLimitSkip(t,r=0){this.limit=t,this.skip=r}async*[Symbol.asyncIterator](){if(!(this.limit<=0))for await(let t of this.sourceIter){if(this.skip>0)if(t.length>=this.skip){let[,r]=te(t,this.skip);t=r,this.skip=0}else{this.skip-=t.length;continue}if(t.length>this.limit){let[r,i]=te(t,this.limit);t=r,this.sourceIter.unread&&this.sourceIter.unread(i)}if(t.length&&(this.limit-=t.length,yield t),this.limit<=0)break}}async readlineRaw(t){if(this.limit<=0)return null;let r=await this.sourceIter.readlineRaw(t?Math.min(t,this.limit):this.limit);return this.limit-=r?.length||0,r}async skipFully(){let t=this.limit;for(;this.limit>0;)this.limit-=await this.sourceIter.skipSize(this.limit);return t}};var ur=new Uint8Array([13,10]),ui=new Uint8Array([13,10,13,10]),Rs=new TextDecoder("utf-8"),de=class{constructor({statusline:a,headers:t}){this.statusline=a,this.headers=t}toString(){let a=[this.statusline];for(let[t,r]of this.headers)a.push(`${t}: ${r}`);return a.join(`\r
`)+`\r
`}async*iterSerialize(a){yield a.encode(this.statusline),yield ur;for(let[t,r]of this.headers)yield a.encode(`${t}: ${r}\r
`)}_parseResponseStatusLine(){let a=ks(this.statusline," ",2);this._protocol=a[0]??"",this._statusCode=a.length>1?Number(a[1]):"",this._statusText=a.length>2?a[2]:""}get statusCode(){return this._statusCode===void 0&&this._parseResponseStatusLine(),this._statusCode}get protocol(){return this._protocol===void 0&&this._parseResponseStatusLine(),this._protocol}get statusText(){return this._statusText===void 0&&this._parseResponseStatusLine(),this._statusText}_parseRequestStatusLine(){let a=this.statusline.split(" ",2);this._method=a[0]??"",this._requestPath=a.length>1?a[1]:""}get method(){return this._method===void 0&&this._parseRequestStatusLine(),this._method}get requestPath(){return this._requestPath===void 0&&this._parseRequestStatusLine(),this._requestPath}},ze=class{async parse(a,{headersClass:t,firstLine:r}={headersClass:Map}){let i=r||await a.readline();if(!i)return null;let n=i.trimEnd();if(!n)return null;let s=new t,o=await Ss(a),h=0,l,f,w,u="",d;for(;h<o.length;){if(w=o.indexOf(`
`,h),d&&(o[h]===" "||o[h]==="	"))d+=o.slice(h,w<0?void 0:w).trimEnd();else{if(d){try{s.set(u,d)}catch{}d=null}l=o.indexOf(":",h),f=l<0?h:l+1,l>=0&&l<w?(u=o.slice(h,l).trimStart(),d=o.slice(f,w<0?void 0:w).trim()):d=null}if(w<0)break;h=w+1}if(d)try{s.set(u,d)}catch{}return new de({statusline:n,headers:s})}};function ks(e,a,t){let r=e.split(a),i=r.slice(0,t);return r.slice(t).length>0&&i.push(r.slice(t).join(a)),i}async function As(e,a){let t=0;for(let r=0;r<e.length-4;r++){let i=e.indexOf(13,t);if(i<0)break;if(i+3>=e.length){let{value:n}=await a.next();if(!n)break;let s=new Uint8Array(n.length+e.length);s.set(e,0),s.set(n,e.length),e=s}if(e[i+1]===10&&e[i+2]===13&&e[i+3]===10)return[i+3,e];t=i+1}return[-1,e]}async function Ss(e){let a=[],t=0,r=0,i=null,n=e[Symbol.asyncIterator]();for await(let s of n){if([r,s]=await As(s,n),r>=0){i=s;break}a.push(s),t+=s.byteLength}if(i){let[s,o]=te(i,r+1);a.push(s),t+=s.byteLength,e.unread(o)}else if(!a.length)return"";return Rs.decode(he(a,t))}var gi=St(_i(),1);var Cs=new TextDecoder("utf-8"),Es=new TextEncoder,_r="WARC/1.1",mt="WARC/1.0",Ts="http://netpreserve.org/warc/1.0/revisit/identical-payload-digest",Is="http://netpreserve.org/warc/1.1/revisit/identical-payload-digest",zs={warcinfo:"application/warc-fields",response:"application/http; msgtype=response",revisit:"application/http; msgtype=response",request:"application/http; msgtype=request",metadata:"application/warc-fields"},De=class e extends K{constructor({warcHeaders:t,reader:r}){super();this._offset=0;this._length=0;this.method="";this.requestBody="";this._urlkey="";this.warcHeaders=t,this._reader=r,this._contentReader=null,this.payload=null,this.httpHeaders=null,this.consumed="",this.fixUp()}static create({url:t,date:r,type:i,warcHeaders:n={},filename:s="",httpHeaders:o={},statusline:h="HTTP/1.1 200 OK",warcVersion:l=mt,keepHeadersCase:f=!0,refersToUrl:w=void 0,refersToDate:u=void 0}={},d){function p(R){let E=R;return l===mt&&(R=R.split(".")[0],R.charAt(E.length-1)!="Z"&&(R+="Z")),R}r=p(r||new Date().toISOString()),n={...n},i==="warcinfo"?s&&(n["WARC-Filename"]=s):n["WARC-Target-URI"]=t,n["WARC-Date"]=r,n["WARC-Type"]=i,i==="revisit"&&(n["WARC-Profile"]=l===_r?Is:Ts,n["WARC-Refers-To-Target-URI"]=w,n["WARC-Refers-To-Date"]=p(u||new Date().toISOString())),n=new de({statusline:l,headers:f?new Map(Object.entries(n)):new Headers(n)}),n.headers.get("WARC-Record-ID")||n.headers.set("WARC-Record-ID",`<urn:uuid:${(0,gi.default)()}>`),n.headers.get("Content-Type")||n.headers.set("Content-Type",i&&zs[i]||"application/octet-stream"),d||(d=pi());let _=new e({warcHeaders:n,reader:d}),y=null,g=[];switch(i){case"response":case"request":case"revisit":g=Object.entries(o),y=f?new Map(g):new Headers(o),(g.length>0||i!=="revisit")&&(_.httpHeaders=new de({statusline:h,headers:y}));break}return _}static createWARCInfo(t={},r){async function*i(){for(let[n,s]of Object.entries(r))yield Es.encode(`${n}: ${s}\r
`)}return t.type="warcinfo",e.create(t,i())}getResponseInfo(){let t=this.httpHeaders;return t?{headers:t.headers,status:t.statusCode,statusText:t.statusText}:null}fixUp(){let t=this.warcHeaders.headers.get("WARC-Target-URI");t&&t.startsWith("<")&&t.endsWith(">")&&this.warcHeaders.headers.set("WARC-Target-URI",t.slice(1,-1))}async readFully(t=!1){if(this.httpHeaders){if(this.payload&&!this.payload.length)return this.payload;if(this._contentReader&&!t)throw new TypeError("WARC Record decoding already started, but requesting raw payload");if(t&&this.consumed==="raw"&&this.payload)return await this._createDecodingReader([this.payload]).readFully()}return this.payload?this.payload:(t?(this.payload=await super.readFully(),this.consumed="content"):(this.payload=await e.readFully(this._reader),this.consumed="raw"),this.payload)}get reader(){if(this.payload&&!this.payload.length)return pi();if(this._contentReader)throw new TypeError("WARC Record decoding already started, but requesting raw payload");return this._reader}get contentReader(){return this.httpHeaders?(this._contentReader||(this._contentReader=this._createDecodingReader(this._reader)),this._contentReader):this._reader}_createDecodingReader(t){if(!this.httpHeaders)throw new Error("WARCRecord cannot call _createDecodingReader when this.httpHeaders === null");let r=this.httpHeaders.headers.get("Content-Encoding"),i=this.httpHeaders.headers.get("Transfer-Encoding"),n=i==="chunked";return!r&&!n&&(r=i),new re(t,r,n)}async readlineRaw(t){if(this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");if(this.contentReader instanceof K)return this.contentReader.readlineRaw(t);throw new Error("WARCRecord cannot call readlineRaw on this.contentReader if it does not extend BaseAsyncIterReader")}async contentText(){let t=await this.readFully(!0);return Cs.decode(t)}async*[Symbol.asyncIterator](){for await(let t of this.contentReader)if(yield t,this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");this.consumed="content"}async skipFully(){if(!this.consumed){if(this._reader instanceof ae){let t=await this._reader.skipFully();return this.consumed="skipped",t}throw new Error("WARCRecord cannot call skipFully on this._reader if it is not a LimitReader")}}warcHeader(t){return this.warcHeaders.headers.get(t)}get warcType(){return this.warcHeaders.headers.get("WARC-Type")}get warcTargetURI(){return this.warcHeaders.headers.get("WARC-Target-URI")}get warcDate(){return this.warcHeaders.headers.get("WARC-Date")}get warcRefersToTargetURI(){return this.warcHeaders.headers.get("WARC-Refers-To-Target-URI")}get warcRefersToDate(){return this.warcHeaders.headers.get("WARC-Refers-To-Date")}get warcPayloadDigest(){return this.warcHeaders.headers.get("WARC-Payload-Digest")}get warcBlockDigest(){return this.warcHeaders.headers.get("WARC-Block-Digest")}get warcContentType(){return this.warcHeaders.headers.get("Content-Type")}get warcContentLength(){return Number(this.warcHeaders.headers.get("Content-Length"))}};async function*pi(){}var wi=new TextDecoder,pr=new Uint8Array([]),Le=class e{static parse(a,t){return new e(a,t).parse()}static iterRecords(a,t){return new e(a,t)[Symbol.asyncIterator]()}constructor(a,{keepHeadersCase:t=!1,parseHttp:r=!0}={}){this._offset=0,this._warcHeadersLength=0,this._headersClass=t?Map:Headers,this._parseHttp=r,a instanceof re?this._reader=a:this._reader=new re(a),this._record=null}async readToNextRecord(){if(!this._reader||!this._record)return pr;await this._record.skipFully(),this._reader.compressed&&(this._offset=this._reader.getRawOffset());let a=await this._reader.readlineRaw(),t=0;if(!a)a=pr;else{if(t=a.byteLength-1,t===9&&wi.decode(a).startsWith("WARC/"))return a;for(;t>0;){let r=a[t-1];if(r!==10&&r!==13)break;t--}t&&console.warn(`Content-Length Too Small: Record not followed by newline, Remainder Length: ${t}, Offset: ${this._reader.getRawOffset()-a.byteLength}`)}if(this._reader.compressed)await this._reader.skipSize(2),a=pr;else{for(a=await this._reader.readlineRaw();a&&a.byteLength===2;)a=await this._reader.readlineRaw();this._offset=this._reader.getRawOffset(),a&&(this._offset-=a.length)}return a}_initRecordReader(a){return new ae(this._reader,Number(a.headers.get("Content-Length")||0))}async parse(){let a=await this.readToNextRecord(),t=a?wi.decode(a):"",r=new ze,i=await r.parse(this._reader,{firstLine:t,headersClass:this._headersClass});if(!i)return null;this._warcHeadersLength=this._reader.getReadOffset();let n=new De({warcHeaders:i,reader:this._initRecordReader(i)});if(this._record=n,this._parseHttp)switch(n.warcType){case"response":case"request":await this._addHttpHeaders(n,r);break;case"revisit":n.warcContentLength>0&&await this._addHttpHeaders(n,r);break}return n}get offset(){return this._offset}get recordLength(){return this._reader.getRawLength(this._offset)}async*[Symbol.asyncIterator](){let a=null;for(;(a=await this.parse())!==null;)yield a;this._record=null}async _addHttpHeaders(a,t){let r=await t.parse(this._reader,{headersClass:this._headersClass});a.httpHeaders=r;let i=this._reader.getReadOffset()-this._warcHeadersLength;a.reader instanceof ae&&a.reader.setLimitSkip(a.warcContentLength-i)}};function gr(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}var Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Ls="0123456789ABCDEFGHIJKLMNOPQRSTUV",Os="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function wr(e,a,t){t=t||{};let r,i;switch(a){case"RFC3548":case"RFC4648":r=Ds,i=!0;break;case"RFC4648-HEX":r=Ls,i=!0;break;case"Crockford":r=Os,i=!1;break;default:throw new Error("Unknown base32 variant: "+a)}let n=t.padding!==void 0?t.padding:i,s=gr(e),o=0,h=0,l="";for(let f=0;f<s.byteLength;f++)for(h=h<<8|s.getUint8(f),o+=8;o>=5;)l+=r[h>>>o-5&31],o-=5;if(o>0&&(l+=r[h<<5-o&31]),n)for(;l.length%8!==0;)l+="=";return l}var yi=St(or(),1);import{createSHA256 as vi,createSHA1 as Bs}from"hash-wasm";var bi=new TextEncoder,$e=class{},Rt=class extends $e{constructor(){super(...arguments);this.buffers=[]}write(t){this.buffers.push(t)}async*readAll(){for(let t of this.buffers)yield t}},kt=class e extends K{constructor(t,r={},i=new Rt){super();this.gzip=!1;this.digestAlgo="";this.digestAlgoPrefix="";this.digestBase32=!1;this.preferPako=!1;this._alreadyDigested=!1;this.blockHasher=null;this.payloadHasher=null;this.httpHeadersBuff=null;this.warcHeadersBuff=null;this.gzip=!!r.gzip,this.record=t;let n=r&&r.digest||{};this.digestAlgo=n?.algo||"sha-256",this.digestAlgoPrefix=n?.prefix||"sha256:",this.digestBase32=!!n?.base32,this.preferPako=!!r?.preferPako,e.noComputeDigest(t)&&(this.digestAlgo=""),this.externalBuffer=i}static async serialize(t,r,i=new Rt){return await new e(t,r,i).readFully()}static noComputeDigest(t){return t.warcType==="revisit"||t.warcType==="warcinfo"||t.warcPayloadDigest&&t.warcBlockDigest}async*[Symbol.asyncIterator](){if(!this.gzip){yield*this.generateRecord();return}if("CompressionStream"in globalThis&&!this.preferPako){let t=new globalThis.CompressionStream("gzip");yield*this.streamCompress(t)}else yield*this.pakoCompress()}async readlineRaw(t){return null}async*pakoCompress(){let t=new yi.default.Deflate({gzip:!0}),r=null;for await(let i of this.generateRecord())for(r&&r.length>0&&t.push(r),r=i;t.chunks.length;)yield t.chunks.shift();r&&t.push(r,!0),yield t.result}async*streamCompress(t){let r=this.generateRecord();new ReadableStream({async pull(o){let h=await r.next();h.done?o.close():o.enqueue(h.value)}}).pipeThrough(t);let n=null,s=t.readable.getReader();for(;(n=await s.read())&&!n.done;)yield n.value}newHasher(){switch(this.digestAlgo){case"sha-256":return vi();case"sha-1":return Bs();case"":return null;default:return vi()}}getDigest(t){return this.digestAlgoPrefix+(this.digestBase32?wr(t.digest("binary"),"RFC4648"):t.digest("hex"))}async digestRecord(){let t=this.record;if(this._alreadyDigested)return Number(t.warcHeaders.headers.get("Content-Length"));let r=await this.newHasher(),i=await this.newHasher(),n=0;t.httpHeaders&&(this.httpHeadersBuff=bi.encode(t.httpHeaders.toString()+`\r
`),n+=this.httpHeadersBuff.length,r?.update(this.httpHeadersBuff));for await(let s of t.reader)r?.update(s),i?.update(s),await this.externalBuffer.write(s),n+=s.length;return i&&t.warcHeaders.headers.set("WARC-Payload-Digest",this.getDigest(i)),r&&t.warcHeaders.headers.set("WARC-Block-Digest",this.getDigest(r)),t.warcHeaders.headers.set("Content-Length",n.toString()),this.warcHeadersBuff=bi.encode(t.warcHeaders.toString()),this._alreadyDigested=!0,n}async*generateRecord(){if(await this.digestRecord(),this.warcHeadersBuff&&(yield this.warcHeadersBuff),yield ur,this.httpHeadersBuff&&(yield this.httpHeadersBuff),this.externalBuffer)for await(let t of this.externalBuffer.readAll())yield t;yield ui}};var Hs=["offset","warc-type","warc-target-uri"],vr=class{constructor(a={}){this.opts=a,this.fields=a&&a.fields?a.fields.split(","):Hs,this.parseHttp=!1}serialize(a){return JSON.stringify(a)+`
`}write(a,t){t.write(this.serialize(a))}async writeAll(a,t){for await(let r of this.iterIndex(a))this.write(r,t)}async*iterIndex(a){let t={strictHeaders:!0,parseHttp:this.parseHttp};for(let{filename:r,reader:i}of a){let n=new Le(i,t);yield*this.iterRecords(n,r)}}async*iterRecords(a,t){for await(let r of a){await r.skipFully();let i=this.indexRecord(r,a,t);i&&(yield i)}}indexRecord(a,t,r){if(this.filterRecord&&!this.filterRecord(a))return null;let i={},{offset:n,recordLength:s}=t,o={offset:n,length:s,filename:r};for(let h of this.fields)h in o?i[h]=o[h]:this.setField(h,a,i);return i}setField(a,t,r){let i=this.getField(a,t);i!==null&&(r[a]=i)}getField(a,t){if(a==="http:status")return t.httpHeaders&&(t.warcType==="response"||t.warcType==="revisit")?t.httpHeaders.statusCode:null;if(a.startsWith("http:")){if(t.httpHeaders){let r=t.httpHeaders.headers;return r instanceof Map&&(r=new Headers(Object.fromEntries(r))),r.get(a.slice(5))}return null}return t.warcHeaders.headers.get(a)||null}},Ve=class extends vr{constructor(a){super(a);for(let t of this.fields)if(t.startsWith("http:")){this.parseHttp=!0;break}}},Us="urlkey,timestamp,url,mime,status,digest,length,offset,filename".split(","),Ns="urlkey,timestamp,url,mime,status,digest,redirect,meta,length,offset,filename".split(","),Qe=class extends Ve{constructor(t){super(t);switch(this.includeAll=!!t?.all,this.overrideIndexForAll=!!t?.all,this.fields=Us,this.parseHttp=!0,this.noSurt=!!t?.noSurt,this._lastRecord=null,t?.format){case"cdxj":this.serialize=this.serializeCDXJ;break;case"cdx":this.serialize=this.serializeCDX11;break;case"json":default:break}}async*iterRecords(t,r){this._lastRecord=null;for await(let n of t){await n.readFully();let s=this.indexRecord(n,t,r);s&&(yield s)}let i=this.indexRecord(null,t,r);i&&(yield i)}filterRecord(t){if(this.includeAll)return!0;let r=t.warcType;return!(r==="request"||r==="warcinfo"||(r==="metadata"||r==="resource")&&t.warcContentType==="application/warc-fields")}indexRecord(t,r,i){if(this.overrideIndexForAll)return t?super.indexRecord(t,r,i):null;let n=this._lastRecord;if(this._lastRecord=t,t&&(t._offset=r.offset,t._length=r.recordLength),!n)return null;if(!t||n.warcTargetURI!=t.warcTargetURI)return this.indexRecordPair(n,null,r,i);let s=t.warcType,o=n.warcType;return s==="request"&&(o==="response"||o==="revisit")?(this._lastRecord=null,this.indexRecordPair(n,t,r,i)):(s==="response"||s==="revisit")&&o==="request"?(this._lastRecord=null,this.indexRecordPair(t,n,r,i)):this.indexRecordPair(n,null,r,i)}indexRecordPair(t,r,i,n){let s,o,h=t.warcTargetURI||"";if(r&&r.httpHeaders&&r.httpHeaders.method!=="GET"){let f={url:h,method:r.httpHeaders.method,headers:r.httpHeaders.headers,postData:r.payload};s=f.method,xt(f)&&(o=f.requestBody,t.method=s,t.requestBody=o,h=f.url)}t._urlkey=h;let l=super.indexRecord(t,i,n);return l&&(t&&t._offset!==void 0&&(l.offset=t._offset,l.length=t._length),s&&(l.method=s),o&&(l.requestBody=o)),l}serializeCDXJ(t){let{urlkey:r,timestamp:i}=t;return delete t.urlkey,delete t.timestamp,`${r} ${i} ${JSON.stringify(t)}
`}serializeCDX11(t){let r=[];for(let i of Ns)r.push(t[i]!=null?t[i]:"-");return r.join(" ")+`
`}getField(t,r){let i=null;switch(t){case"urlkey":return i=r._urlkey||r.warcTargetURI||null,this.noSurt||i===null?i:yt(i);case"timestamp":return i=r.warcDate??"",i.replace(/[-:T]/g,"").slice(0,14);case"url":return r.warcTargetURI;case"mime":switch(r.warcType){case"revisit":return"warc/revisit";case"response":case"request":t="http:content-type";break;default:t="content-type"}return i=super.getField(t,r),i?i.toString().split(";",1)[0]?.trim():null;case"status":return super.getField("http:status",r);case"digest":return i=r.warcPayloadDigest,i?i.split(":",2)[1]:null;default:return null}}},At=class extends Qe{constructor(a){super(a),this.overrideIndexForAll=!1}indexRecordPair(a,t,r,i){let n=super.indexRecordPair(a,t,r,i);return n&&{cdx:n,record:a,reqRecord:t}}};export{re as AsyncIterReader,K as BaseAsyncIterReader,$e as BaseSerializerBuffer,At as CDXAndRecordIndexer,Qe as CDXIndexer,Ve as Indexer,ae as LimitReader,ye as NoConcatInflator,de as StatusAndHeaders,ze as StatusAndHeadersParser,Le as WARCParser,De as WARCRecord,kt as WARCSerializer,mt as WARC_1_0,_r as WARC_1_1,lr as appendRequestQuery,he as concatChunks,yt as getSurt,fr as jsonToQueryParams,bt as jsonToQueryString,hr as mfdToQueryParams,dr as mfdToQueryString,xt as postToGetUrl,te as splitChunk};
//# sourceMappingURL=index.all.js.map